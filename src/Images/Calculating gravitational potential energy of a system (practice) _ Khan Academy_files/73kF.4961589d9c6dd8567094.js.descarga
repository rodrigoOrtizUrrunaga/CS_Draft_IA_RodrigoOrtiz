(window.webpackJsonp=window.webpackJsonp||[]).push([["73kF"],{P9IM:function(e,t,s){"use strict";var i=s("TqRt"),n=s("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(s("q1tI")),r=i(s("17x9")),a=i(s("i8i4")),l=s("reBI"),u=i(s("Xb39"));const{Keypad:d}=l.components;var p={propTypes:{apiOptions:r.default.shape({customKeypad:r.default.bool,nativeKeypadProxy:r.default.func}),keypadStyle:r.default.any},getInitialState(){let e=null;return this.props.apiOptions&&this.props.apiOptions.customKeypad&&this.props.apiOptions.nativeKeypadProxy&&(e=this.props.apiOptions.nativeKeypadProxy((()=>this.blur&&this.blur()))),{keypadElement:e}},componentDidMount(){var e;this.props.apiOptions&&this.props.apiOptions.customKeypad&&!this.props.apiOptions.nativeKeypadProxy&&(this._keypadContainer=document.createElement("div"),null==(e=document.body)||e.appendChild(this._keypadContainer),(0,u.default)(o.createElement(d,{onElementMounted:e=>{this.setState({keypadElement:e})},onDismiss:()=>{this.blur&&this.blur()},style:this.props.keypadStyle}),this._keypadContainer))},componentWillUnmount(){this._keypadContainer&&(a.default.unmountComponentAtNode(this._keypadContainer),this._keypadContainer.parentNode&&this._keypadContainer.parentNode.removeChild(this._keypadContainer),this._keypadContainer=null)},keypadElement(){return this.state.keypadElement}};t.default=p},YH1v:function(e,t,s){"use strict";var i=s("284h"),n=s("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(s("pVnL")),r=n(s("lSNA")),a=i(s("q1tI")),l=n(s("17x9")),u=n(s("i8i4")),d=s("mR6N"),p=n(s("TSYQ")),h=n(s("oLyU")),c=i(s("HEOz")),f=n(s("hzUw")),m=n(s("uBl0")),g=n(s("1+56")),b=n(s("TBZ3")),y=n(s("MG0i")),S=s("UcaO"),C=n(s("Boyy")),P=s("zahm");class _ extends a.Component{constructor(...e){super(...e),(0,r.default)(this,"state",{isFinalHelpPage:!1}),(0,r.default)(this,"_hintsVisible",(()=>null==this.props.hintsVisible||-1===this.props.hintsVisible?this.props.hints.length:this.props.hintsVisible)),(0,r.default)(this,"_cacheImagesInHint",(e=>{h.default.each(e.images,((e,t)=>{(new Image).src=m.default.getRealImageUrl(t)}))})),(0,r.default)(this,"_cacheHintImages",(()=>{this._hintsVisible()>0?h.default.each(this.props.hints,this._cacheImagesInHint):this.props.hints.length>0&&this._cacheImagesInHint(this.props.hints[0])})),(0,r.default)(this,"getApiOptions",(()=>{const e=g.default.getApiOptions.call(this);return e.readOnly=!1,e})),(0,r.default)(this,"getSerializedState",(()=>h.default.times(this._hintsVisible(),(e=>this.refs["hintRenderer"+e].getSerializedState())))),(0,r.default)(this,"restoreSerializedState",((e,t)=>{let s=1;const i=()=>{--s,t&&0===s&&t()};h.default.each(e,((e,t)=>{const n=this.refs["hintRenderer"+t];n&&(++s,n.restoreSerializedState(e,i))})),i()}))}componentDidMount(){this._cacheHintImages()}UNSAFE_componentWillReceiveProps(e){e.hintsVisible-this.props.hintsVisible>1&&this.setState({isFinalHelpPage:!0})}componentDidUpdate(e,t){if(h.default.isEqual(e.hints,this.props.hints)&&e.hintsVisible===this.props.hintsVisible||this._cacheHintImages(),e.hintsVisible<this.props.hintsVisible){const e=this.props.hintsVisible-1;u.default.findDOMNode(this.refs["hintRenderer"+e]).focus()}}render(){const e=this.getApiOptions(),t=this._hintsVisible(),s=[],i=this.state.isFinalHelpPage;this.props.hints.slice(0,t).forEach(((n,o)=>{const r=o===this.props.hints.length-1&&!/\*\*/.test(n.content),l=o===t-1,u=a.createElement(f.default,{lastHint:r,lastRendered:l,hint:n,pos:o,totalHints:this.props.hints.length,ref:"hintRenderer"+o,key:"hintRenderer"+o,apiOptions:e,findExternalWidgets:this.props.findExternalWidgets,linterContext:C.default.pushContextStack(this.props.linterContext,"hints["+o+"]")});i?s.push(u):n.replace&&s.length>0?s[s.length-1]=u:s.push(u)}));const n=e.getAnotherHint&&t>0&&t<this.props.hints.length,o="(".concat(t,"/").concat(this.props.hints.length,")"),r=(0,p.default)(this.props.className,e.isMobile&&t>0&&(0,d.css)(O.mobileHintStylesHintsRenderer));return a.createElement("div",{className:r},e.isMobile&&t>0&&a.createElement("div",{className:(0,d.css)(O.mobileHintStylesHintTitle,y.default.responsiveLabel)},c._("Hints")),s,n&&a.createElement("button",{rel:"button",className:(0,d.css)(O.linkButton,O.getAnotherHintButton,e.isMobile&&O.mobileHintStylesGetAnotherHintButton),onClick:t=>{t.preventDefault(),t.stopPropagation(),e.getAnotherHint()}},a.createElement("span",{className:(0,d.css)(O.plusText,e.isMobile&&O.mobileHintStylesPlusText)},"+"),a.createElement("span",{className:(0,d.css)(O.getAnotherHintText)},c._("Get another hint")," ",o)))}}(0,r.default)(_,"propTypes",(0,o.default)({},g.default.propTypes,{className:l.default.string,hints:l.default.arrayOf(l.default.any),hintsVisible:l.default.number,findExternalWidgets:l.default.func,linterContext:P.linterContextProps})),(0,r.default)(_,"defaultProps",{linterContext:P.linterContextDefault});const x=S.baseUnitPx+S.hintBorderWidth,O=d.StyleSheet.create({rendererMargins:{marginTop:S.baseUnitPx},linkButton:{cursor:"pointer",border:"none",backgroundColor:"transparent",fontSize:"100%",fontFamily:"inherit",fontWeight:"bold",color:S.kaGreen,padding:0,position:"relative"},plusText:{fontSize:20,position:"absolute",top:-3,left:0},getAnotherHintText:{marginLeft:16},mobileHintStylesHintsRenderer:{marginTop:4*S.baseUnitPx,border:"solid ".concat(S.gray85),borderWidth:"1px 0 0 0",position:"relative",":before":{content:'""',display:"table",clear:"both"},":after":{content:'""',display:"table",clear:"both"}},mobileHintStylesHintTitle:{fontFamily:"inherit",fontStyle:"normal",fontWeight:"bold",color:S.gray17,paddingTop:S.baseUnitPx,paddingBottom:1.5*S.baseUnitPx,[b.default.lgOrSmaller]:{paddingLeft:0},[b.default.smOrSmaller]:{paddingLeft:x}},getAnotherHintButton:{marginTop:1.5*S.baseUnitPx},mobileHintStylesGetAnotherHintButton:{[b.default.lgOrSmaller]:{paddingLeft:0},[b.default.smOrSmaller]:{paddingLeft:x}},mobileHintStylesPlusText:{[b.default.lgOrSmaller]:{left:0},[b.default.smOrSmaller]:{left:x}}});var v=_;t.default=v},YqAk:function(e,t,s){"use strict";var i=s("284h"),n=s("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(s("pVnL")),r=n(s("lSNA")),a=i(s("q1tI")),l=i(s("i8i4")),u=n(s("oLyU")),d=n(s("rGVj")),p=n(s("Xb39")),h=s("j8wP"),c=n(s("YH1v")),f=n(s("Atlv")),m=n(s("P9IM")),g=n(s("uBl0")),b=n(s("vNny")),y=n(s("Boyy")),S=s("zahm");const{mapObject:C}=b.default;class P extends a.Component{constructor(e){super(e),(0,r.default)(this,"_handleFocusChange",((e,t)=>{null!=e?this._setCurrentFocus(e):this._onRendererBlur(t)})),(0,r.default)(this,"handleInteractWithWidget",(e=>{const t=u.default.difference(this.state.questionHighlightedWidgets,[e]);this.setState({questionCompleted:!1,questionHighlightedWidgets:t}),this.props.apiOptions.interactionCallback&&this.props.apiOptions.interactionCallback()})),this.state=(0,o.default)({},m.default.getInitialState.call(this),{hintsVisible:e.initialHintsVisible||0,questionCompleted:!1,questionHighlightedWidgets:[]})}componentDidMount(){m.default.componentDidMount.call(this),this.props.controlPeripherals&&this.props.apiOptions.setDrawingAreaAvailable&&this.props.apiOptions.setDrawingAreaAvailable(!0),this._currentFocus=null,this.update()}UNSAFE_componentWillReceiveProps(e){this.setState({questionHighlightedWidgets:[]})}componentDidUpdate(){this.update()}componentWillUnmount(){if(m.default.componentWillUnmount.call(this),l.unmountComponentAtNode(document.querySelector(this.props.workAreaSelector)),l.unmountComponentAtNode(document.querySelector(this.props.hintsAreaSelector)),this.props.controlPeripherals){const e=this.props.item.answerArea||{};e.calculator&&(0,d.default)("#calculator").hide(),e.periodicTable&&(0,d.default)(".periodic-table-info-box").hide(),e.zTable&&(0,d.default)(".z-table-info-box").hide(),e.tTable&&(0,d.default)(".t-table-info-box").hide(),e.chi2Table&&(0,d.default)(".chi2-table-info-box").hide()}}keypadElement(){return m.default.keypadElement.call(this)}update(){const e=(0,o.default)({},h.Options.defaults,this.props.apiOptions,{onFocusChange:this._handleFocusChange}),t=document.querySelector(this.props.workAreaSelector),s=document.querySelector(this.props.hintsAreaSelector);if(!t||!s)return;(0,p.default)(a.createElement(f.default,(0,o.default)({ref:t=>{if(!t)return;this.questionRenderer=t;const{answerableCallback:s}=e;if(s){s(0===this.questionRenderer.emptyWidgets().length)}},keypadElement:this.keypadElement(),problemNum:this.props.problemNum,onInteractWithWidget:this.handleInteractWithWidget,highlightedWidgets:this.state.questionHighlightedWidgets,apiOptions:e,questionCompleted:this.state.questionCompleted,reviewMode:this.props.reviewMode,savedState:this.props.savedState,linterContext:y.default.pushContextStack(this.props.linterContext,"question")},this.props.item.question,{legacyPerseusLint:this.props.legacyPerseusLint})),t),(0,p.default)(a.createElement(c.default,{ref:e=>this.hintsRenderer=e,hints:this.props.item.hints,hintsVisible:this.state.hintsVisible,apiOptions:e,linterContext:y.default.pushContextStack(this.props.linterContext,"hints")}),s);const i=this.props.item.answerArea||{};this.props.controlPeripherals?((0,d.default)("#calculator").toggle(i.calculator||!1),(0,d.default)(".periodic-table-info-box").toggle(i.periodicTable||!1),(0,d.default)(".z-table-info-box").toggle(i.zTable||!1),(0,d.default)(".t-table-info-box").toggle(i.tTable||!1),(0,d.default)(".chi2-table-info-box").toggle(i.chi2Table||!1)):(i.calculator&&this.props.onShowCalculator&&this.props.onShowCalculator(),i.periodicTable&&this.props.onShowPeriodicTable&&this.props.onShowPeriodicTable(),i.zTable&&this.props.onShowZTable&&this.props.onShowZTable(),i.tTable&&this.props.onShowTTable&&this.props.onShowTTable(),i.chi2Table&&this.props.onShowChi2Table&&this.props.onShowChi2Table())}_setCurrentFocus(e){const t=this.keypadElement(),s=this._currentFocus;this._currentFocus=e;const i=this.getInputPaths(),n=this._currentFocus&&i.some((e=>g.default.inputPathsEqual(e,this._currentFocus)));null!=this.props.apiOptions.onFocusChange&&this.props.apiOptions.onFocusChange(this._currentFocus,s,n&&t&&t.getDOMNode()),t&&(n?t.activate():t.dismiss())}_onRendererBlur(e){const t=this._currentFocus;g.default.inputPathsEqual(e,t)&&setTimeout((()=>{g.default.inputPathsEqual(this._currentFocus,t)&&this._setCurrentFocus(null)}))}_setWidgetProps(e,t,s){this.questionRenderer._setWidgetProps(e,t,s)}setInputValue(e,t,s){return this.questionRenderer.setInputValue(e,t,s)}focusPath(e){return this.questionRenderer.focusPath(e)}blurPath(e){return this.questionRenderer.blurPath(e)}getDOMNodeForPath(e){return this.questionRenderer.getDOMNodeForPath(e)}getGrammarTypeForPath(e){return this.questionRenderer.getGrammarTypeForPath(e)}getInputPaths(){return this.questionRenderer.getInputPaths()}focus(){return this.questionRenderer.focus()}blur(){this._currentFocus&&this.blurPath(this._currentFocus)}showHint(){this.state.hintsVisible<this.getNumHints()&&this.setState({hintsVisible:this.state.hintsVisible+1})}getNumHints(){return this.props.item.hints.length}scoreInput(){const e=this.questionRenderer.guessAndScore(),t=e[0],s=e[1],i=[t,[]],n=g.default.keScoreFromPerseusScore(s,i,this.questionRenderer.getSerializedState()),o=this.questionRenderer.emptyWidgets();return this.setState({questionCompleted:n.correct,questionHighlightedWidgets:o}),n}getWidgetIds(){return this.questionRenderer.getWidgetIds()}scoreWidgets(){const e=this.questionRenderer.scoreWidgets(),t=this.questionRenderer.getUserInputForWidgets(),s=this.questionRenderer.getSerializedState();return C(e,((e,i)=>g.default.keScoreFromPerseusScore(e,t[i],s)))}getSerializedState(){var e;return{question:this.questionRenderer.getSerializedState(),hints:null==(e=this.hintsRenderer)?void 0:e.getSerializedState()}}restoreSerializedState(e,t){var s;let i=2;const n=()=>{--i,t&&0===i&&t()};this.questionRenderer.restoreSerializedState(e.question,n),null==(s=this.hintsRenderer)||s.restoreSerializedState(e.hints,n)}showRationalesForCurrentlySelectedChoices(){this.questionRenderer.showRationalesForCurrentlySelectedChoices()}deselectIncorrectSelectedChoices(){this.questionRenderer.deselectIncorrectSelectedChoices()}render(){return a.createElement("div",null)}}(0,r.default)(P,"defaultProps",{apiOptions:h.Options.defaults,controlPeripherals:!0,hintsAreaSelector:"#hintsarea",initialHintsVisible:0,workAreaSelector:"#workarea",reviewMode:!1,linterContext:S.linterContextDefault});var _=P;t.default=_},"ZM/w":function(e,t,s){"use strict";var i=s("284h"),n=s("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(s("pVnL")),r=n(s("lSNA")),a=i(s("q1tI")),l=n(s("17x9")),u=n(s("TSYQ")),d=n(s("uBl0")),p=s("j8wP"),h=n(s("Atlv")),c=n(s("P9IM")),f=n(s("Boyy")),m=s("zahm");const g=l.default.shape({content:l.default.string,widgets:l.default.objectOf(l.default.any),images:l.default.objectOf(l.default.any)});class b extends a.Component{constructor(e){super(e),(0,r.default)(this,"keypadElement",(()=>c.default.keypadElement.call(this))),(0,r.default)(this,"_handleFocusChange",((e,t)=>{e?this._setCurrentFocus(e):this._onRendererBlur(t)})),(0,r.default)(this,"_setCurrentFocus",(e=>{const t=this.keypadElement(),s=this._currentFocus;this._currentFocus=e;let i=!1;if(this._currentFocus){const[e,...t]=this._currentFocus;i=this.refs[e].getInputPaths().some((e=>d.default.inputPathsEqual(e,t)))}null!=this.props.apiOptions.onFocusChange&&this.props.apiOptions.onFocusChange(this._currentFocus,s,i&&t&&t.getDOMNode()),t&&(i?t.activate():t.dismiss())})),(0,r.default)(this,"_onRendererBlur",(e=>{const t=this._currentFocus;d.default.inputPathsEqual(e,t)&&setTimeout((()=>{d.default.inputPathsEqual(this._currentFocus,t)&&this._setCurrentFocus(null)}))})),(0,r.default)(this,"blur",(()=>{if(this._currentFocus){const[e,...t]=this._currentFocus;this.refs[e].blurPath(t)}})),(0,r.default)(this,"_sections",(()=>Array.isArray(this.props.json)?this.props.json:[this.props.json])),this.state=c.default.getInitialState.call(this)}componentDidMount(){c.default.componentDidMount.call(this),this._currentFocus=null}shouldComponentUpdate(e,t){return e!==this.props||t!==this.state}componentWillUnmount(){c.default.componentWillUnmount.call(this)}render(){const e=(0,o.default)({},p.Options.defaults,this.props.apiOptions,{isArticle:!0}),t=(0,u.default)({"framework-perseus":!0,"perseus-article":!0,"bibliotron-article":this.props.useNewStyles,[p.ClassNames.MOBILE]:e.isMobile}),s=this._sections().map(((t,s)=>{const i="section-".concat(s);return a.createElement("div",{key:s,className:"clearfix"},a.createElement(h.default,(0,o.default)({},t,{ref:i,key:s,key_:s,keypadElement:this.keypadElement(),apiOptions:(0,o.default)({},e,{onFocusChange:(e,t)=>{this._handleFocusChange(e&&[i].concat(e),t&&[i].concat(t))}}),linterContext:f.default.pushContextStack(this.props.linterContext,"article"),legacyPerseusLint:this.props.legacyPerseusLint})))}));return a.createElement("div",{className:t},s)}}(0,r.default)(b,"propTypes",(0,o.default)({},c.default.propTypes,{apiOptions:l.default.shape({onFocusChange:l.default.func,isMobile:l.default.bool}),json:l.default.oneOfType([g,l.default.arrayOf(g)]).isRequired,useNewStyles:l.default.bool,linterContext:m.linterContextProps,legacyPerseusLint:l.default.arrayOf(l.default.string)})),(0,r.default)(b,"defaultProps",{apiOptions:{},useNewStyles:!1,linterContext:m.linterContextDefault});var y=b;t.default=y},hzUw:function(e,t,s){"use strict";var i=s("284h"),n=s("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(s("pVnL")),r=n(s("lSNA")),a=i(s("q1tI")),l=n(s("17x9")),u=s("mR6N"),d=n(s("TSYQ")),p=i(s("HEOz")),h=n(s("Atlv")),c=s("j8wP"),f=n(s("TBZ3")),m=s("UcaO"),g=n(s("Boyy")),b=s("zahm");class y extends a.Component{constructor(...e){super(...e),(0,r.default)(this,"getSerializedState",(()=>this.refs.renderer.getSerializedState())),(0,r.default)(this,"restoreSerializedState",((e,t)=>{this.refs.renderer.restoreSerializedState(e,t)}))}render(){const{apiOptions:e,className:t,hint:s,lastHint:i,lastRendered:n,pos:r,totalHints:l}=this.props,{isMobile:c}=e,f=(0,d.default)(!c&&"perseus-hint-renderer",c&&(0,u.css)(S.newHint),c&&n&&(0,u.css)(S.lastRenderedNewHint),i&&"last-hint",n&&"last-rendered",t),m=(0,o.default)({},e,{customKeypad:!1,staticRender:!1});return a.createElement("div",{className:f,tabIndex:"-1"},!e.isMobile&&a.createElement("span",{className:"perseus-sr-only"},p._("Hint #%(pos)s",{pos:r+1})),!e.isMobile&&!e.satStyling&&l&&null!=r&&a.createElement("span",{className:"perseus-hint-label",style:{display:"block",color:e.hintProgressColor}},"".concat(r+1," / ").concat(l)),a.createElement(h.default,{ref:"renderer",widgets:s.widgets,content:s.content||"",images:s.images,apiOptions:m,findExternalWidgets:this.props.findExternalWidgets,linterContext:g.default.pushContextStack(this.props.linterContext,"hint")}))}}(0,r.default)(y,"propTypes",{apiOptions:c.Options.propTypes,className:l.default.string,hint:l.default.any,lastHint:l.default.bool,lastRendered:l.default.bool,pos:l.default.number,totalHints:l.default.number,findExternalWidgets:l.default.func,linterContext:b.linterContextProps}),(0,r.default)(y,"defaultProps",{linterContext:b.linterContextDefault});const S=u.StyleSheet.create({newHint:{marginBottom:1.5*m.baseUnitPx,borderLeftColor:m.gray97,borderLeftStyle:"solid",borderLeftWidth:m.hintBorderWidth,[f.default.lgOrSmaller]:{paddingLeft:m.baseUnitPx},[f.default.smOrSmaller]:{paddingLeft:0},":focus":{outline:"none"}},lastRenderedNewHint:{marginBottom:0,borderLeftColor:m.kaGreen}});var C=y;t.default=C}}]);
//# sourceMappingURL=../../sourcemaps/en/73kF.4961589d9c6dd8567094.js.map