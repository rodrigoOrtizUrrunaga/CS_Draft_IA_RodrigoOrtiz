(window.webpackJsonp=window.webpackJsonp||[]).push([["AT8H"],{"3EAN":function(t,n,e){var r=e("oLyU"),i=e("dzUd");function s(t){return r.reduce(t,(function(t,n){return t+n}),0)}function a(t){return r.reduce(t,(function(t,n){return t*n}),1)}var o={is:function(t,n){return!!r.isArray(t)&&((void 0===n||t.length===n)&&r.all(t,i.is))},normalize:function(t){return o.scale(t,1/o.length(t))},length:function(t){return Math.sqrt(o.dot(t,t))},dot:function(t,n){var e=r.toArray(arguments),i=r.zip.apply(r,e),o=r.map(i,a);return s(o)},add:function(){var t=r.toArray(arguments),n=r.zip.apply(r,t);return r.map(n,s)},subtract:function(t,n){return r.map(r.zip(t,n),(function(t){return t[0]-t[1]}))},negate:function(t){return r.map(t,(function(t){return-t}))},scale:function(t,n){return r.map(t,(function(t){return t*n}))},equal:function(t,n,e){return r.all(r.zip(t,n),(function(t){return i.equal(t[0],t[1],e)}))},codirectional:function(t,n,e){return!(!i.equal(o.length(t),0,e)&&!i.equal(o.length(n),0,e))||(t=o.normalize(t),n=o.normalize(n),o.equal(t,n,e))},collinear:function(t,n,e){return o.codirectional(t,n,e)||o.codirectional(t,o.negate(n),e)},polarRadFromCart:function(t){var n=o.length(t),e=Math.atan2(t[1],t[0]);return e<0&&(e+=2*Math.PI),[n,e]},polarDegFromCart:function(t){var n=o.polarRadFromCart(t);return[n[0],180*n[1]/Math.PI]},cartFromPolarRad:function(t,n){return r.isUndefined(n)&&(n=t[1],t=t[0]),[t*Math.cos(n),t*Math.sin(n)]},cartFromPolarDeg:function(t,n){return r.isUndefined(n)&&(n=t[1],t=t[0]),o.cartFromPolarRad(t,n*Math.PI/180)},rotateRad:function(t,n){var e=o.polarRadFromCart(t),r=e[1]+n;return o.cartFromPolarRad(e[0],r)},rotateDeg:function(t,n){var e=o.polarDegFromCart(t),r=e[1]+n;return o.cartFromPolarDeg(e[0],r)},angleRad:function(t,n){return Math.acos(o.dot(t,n)/(o.length(t)*o.length(n)))},angleDeg:function(t,n){return 180*o.angleRad(t,n)/Math.PI},projection:function(t,n){var e=o.dot(t,n)/o.dot(n,n);return o.scale(n,e)},round:function(t,n){return r.map(t,(function(t,e){return i.round(t,n[e]||n)}))},roundTo:function(t,n){return r.map(t,(function(t,e){return i.roundTo(t,n[e]||n)}))},floorTo:function(t,n){return r.map(t,(function(t,e){return i.floorTo(t,n[e]||n)}))},ceilTo:function(t,n){return r.map(t,(function(t,e){return i.ceilTo(t,n[e]||n)}))}};t.exports=o},"6h13":function(t,n,e){var r=e("3EAN"),i=e("ksuT"),s={equal:function(t,n,e){var s=r.subtract(t[1],t[0]),a=r.subtract(n[1],n[0]),o=i.equal(t[0],n[0]),c=r.codirectional(s,a,e);return o&&c}};t.exports=s},dkJb:function(t,n,e){var r=e("ksuT"),i=e("3EAN"),s={distanceToPoint:function(t,n){return r.distanceToLine(n,t)},reflectPoint:function(t,n){return r.reflectOverLine(n,t)},midpoint:function(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]},equal:function(t,n,e){var s=i.subtract(t[1],t[0]),a=i.subtract(n[1],n[0]);if(!i.collinear(s,a,e))return!1;if(r.equal(t[0],n[0]))return!0;var o=i.subtract(n[0],t[0]);return i.collinear(s,o,e)}};t.exports=s},dzUd:function(t,n,e){var r=e("oLyU"),i=Math.pow(2,-42),s={DEFAULT_TOLERANCE:1e-9,EPSILON:i,is:function(t){return r.isNumber(t)&&!r.isNaN(t)},equal:function(t,n,e){return null==t||null==n?t===n:t===n||(null==e&&(e=1e-9),Math.abs(t-n)<e)},sign:function(t,n){return s.equal(t,0,n)?0:Math.abs(t)/t},isInteger:function(t,n){return s.equal(Math.round(t),t,n)},round:function(t,n){var e=Math.pow(10,n);return Math.round(t*e)/e},roundTo:function(t,n){return Math.round(t/n)*n},floorTo:function(t,n){return Math.floor(t/n)*n},ceilTo:function(t,n){return Math.ceil(t/n)*n},toFraction:function(t,n,e){e=e||1e3,n=n||i;for(var r=[1,0],a=[0,1],o=Math.floor(t),c=t-o;a[0]<=e;){if(s.equal(r[0]/a[0],t,n))return[r[0],a[0]];r=[o*r[0]+r[1],r[0]],a=[o*a[0]+a[1],a[0]],c=1/c-(o=Math.floor(1/c))}return[t,1]}};t.exports=s},"eAf/":function(t,n,e){t.exports={number:e("dzUd"),vector:e("3EAN"),point:e("ksuT"),line:e("dkJb"),ray:e("6h13")}},ksuT:function(t,n,e){var r=e("oLyU"),i=e("3EAN"),s=e("dzUd"),a={rotateRad:function(t,n,e){return void 0===e?i.rotateRad(t,n):i.add(e,i.rotateRad(i.subtract(t,e),n))},rotateDeg:function(t,n,e){return void 0===e?i.rotateDeg(t,n):i.add(e,i.rotateDeg(i.subtract(t,e),n))},distanceToPoint:function(t,n){return i.length(i.subtract(t,n))},distanceToLine:function(t,n){var e=i.subtract(n[1],n[0]),r=i.subtract(t,n[0]),s=i.projection(r,e),a=i.subtract(s,r);return i.length(a)},reflectOverLine:function(t,n){var e=i.subtract(n[1],n[0]),r=i.subtract(t,n[0]),s=i.projection(r,e),a=i.subtract(i.scale(s,2),r);return i.add(n[0],a)},compare:function(t,n,e){if(t.length!==n.length)return t.length-n.length;for(var r=0;r<t.length;r++)if(!s.equal(t[r],n[r],e))return t[r]-n[r];return 0}};r.extend(a,{is:i.is,addVector:i.add,addVectors:i.add,subtractVector:i.subtract,equal:i.equal,polarRadFromCart:i.polarRadFromCart,polarDegFromCart:i.polarDegFromCart,cartFromPolarRad:i.cartFromPolarRad,cartFromPolarDeg:i.cartFromPolarDeg,round:i.round,roundTo:i.roundTo,floorTo:i.floorTo,ceilTo:i.ceilTo}),t.exports=a},mbWs:function(t,n,e){
/*! KAS | https://github.com/Khan/KAS */
var r,i={};t.exports?(r=e("oLyU"),t.exports=i):(r=window._,window.KAS=i),function(t){var n=function(){var t=function(t,n,e,r){for(e=e||{},r=t.length;r--;e[t[r]]=n);return e},n=[1,7],e=[1,17],r=[1,13],i=[1,14],s=[1,15],a=[1,32],o=[1,22],c=[1,23],u=[1,24],l=[1,25],h=[1,26],f=[1,33],p=[1,27],d=[1,28],y=[1,29],m=[1,30],g=[1,20],v=[1,36],x=[1,37],w=[5,6,8,10,33,35,41,43,45],b=[1,39],k=[1,40],_=[5,6,8,10,12,14,16,19,21,22,28,29,30,31,32,33,34,35,37,39,41,42,43,44,45,46],M=[10,16,19,21,22,28,29,30,31,32,34,37,39,42,43,44,46],E=[5,6,8,10,12,14,16,18,19,21,22,28,29,30,31,32,33,34,35,37,39,41,42,43,44,45,46],S={trace:function(){},yy:{},symbols_:{error:2,equation:3,expression:4,SIGN:5,EOF:6,additive:7,"+":8,multiplicative:9,"-":10,triglog:11,"*":12,negative:13,"/":14,trig:15,TRIG:16,trigfunc:17,"^":18,TRIGINV:19,logbase:20,ln:21,log:22,_:23,subscriptable:24,power:25,primitive:26,variable:27,VAR:28,CONST:29,INT:30,FLOAT:31,"{":32,"}":33,"(":34,")":35,function:36,FUNC:37,invocation:38,sqrt:39,"[":40,"]":41,abs:42,"|":43,"LEFT|":44,"RIGHT|":45,FRAC:46,$accept:0,$end:1},terminals_:{2:"error",5:"SIGN",6:"EOF",8:"+",10:"-",12:"*",14:"/",16:"TRIG",18:"^",19:"TRIGINV",21:"ln",22:"log",23:"_",28:"VAR",29:"CONST",30:"INT",31:"FLOAT",32:"{",33:"}",34:"(",35:")",37:"FUNC",39:"sqrt",40:"[",41:"]",42:"abs",43:"|",44:"LEFT|",45:"RIGHT|",46:"FRAC"},productions_:[0,[3,4],[3,2],[3,1],[4,1],[7,3],[7,3],[7,1],[9,2],[9,3],[9,3],[9,1],[13,2],[13,1],[15,1],[17,1],[17,3],[17,1],[20,1],[20,1],[20,3],[11,2],[11,2],[11,1],[25,3],[25,1],[27,1],[24,3],[24,1],[24,1],[24,1],[24,1],[24,3],[24,3],[36,1],[38,4],[38,4],[38,7],[38,4],[38,3],[38,3],[38,4],[26,1],[26,1],[26,7]],performAction:function(t,n,e,r,i,s,a){var o=s.length-1;switch(i){case 1:return new r.Eq(s[o-3],s[o-2],s[o-1]);case 2:return s[o-1];case 3:return new r.Add([]);case 4:case 7:case 11:case 13:case 15:case 20:case 23:case 25:case 42:case 43:this.$=s[o];break;case 5:this.$=r.Add.createOrAppend(s[o-2],s[o]);break;case 6:this.$=r.Add.createOrAppend(s[o-2],r.Mul.handleNegative(s[o],"subtract"));break;case 8:this.$=r.Mul.fold(r.Mul.createOrAppend(s[o-1],s[o]));break;case 9:this.$=r.Mul.fold(r.Mul.createOrAppend(s[o-2],s[o]));break;case 10:this.$=r.Mul.fold(r.Mul.handleDivide(s[o-2],s[o]));break;case 12:this.$=r.Mul.handleNegative(s[o]);break;case 14:case 17:this.$=[t];break;case 16:this.$=s[o-2].concat(s[o]);break;case 18:this.$=r.Log.natural();break;case 19:this.$=r.Log.common();break;case 21:this.$=r.Trig.create(s[o-1],s[o]);break;case 22:this.$=r.Log.create(s[o-1],s[o]);break;case 24:this.$=new r.Pow(s[o-2],s[o]);break;case 26:case 34:this.$=t;break;case 27:this.$=new r.Var(s[o-2],s[o]);break;case 28:this.$=new r.Var(s[o]);break;case 29:this.$=new r.Const(t.toLowerCase());break;case 30:this.$=r.Int.create(Number(t));break;case 31:this.$=r.Float.create(Number(t));break;case 32:this.$=s[o-1].completeParse();break;case 33:this.$=s[o-1].completeParse().addHint("parens");break;case 35:case 36:this.$=r.Pow.sqrt(s[o-1]);break;case 37:this.$=new r.Pow.nthroot(s[o-1],s[o-4]);break;case 38:case 39:case 40:this.$=new r.Abs(s[o-1]);break;case 41:this.$=new r.Func(s[o-3],s[o-1]);break;case 44:this.$=r.Mul.handleDivide(s[o-4],s[o-1])}},table:[{3:1,4:2,6:[1,3],7:4,9:5,10:n,11:8,13:6,15:12,16:e,17:9,19:r,20:10,21:i,22:s,24:18,25:11,26:16,27:21,28:a,29:o,30:c,31:u,32:l,34:h,36:31,37:f,38:19,39:p,42:d,43:y,44:m,46:g},{1:[3]},{5:[1,34],6:[1,35]},{1:[2,3]},t([5,6],[2,4],{8:v,10:x}),t(w,[2,7],{17:9,20:10,25:11,15:12,26:16,24:18,38:19,27:21,36:31,11:38,12:b,14:k,16:e,19:r,21:i,22:s,28:a,29:o,30:c,31:u,32:l,34:h,37:f,39:p,42:d,44:m,46:g}),t(_,[2,11]),{10:n,11:8,13:41,15:12,16:e,17:9,19:r,20:10,21:i,22:s,24:18,25:11,26:16,27:21,28:a,29:o,30:c,31:u,32:l,34:h,36:31,37:f,38:19,39:p,42:d,43:y,44:m,46:g},t(_,[2,13]),{10:n,11:8,13:42,15:12,16:e,17:9,19:r,20:10,21:i,22:s,24:18,25:11,26:16,27:21,28:a,29:o,30:c,31:u,32:l,34:h,36:31,37:f,38:19,39:p,42:d,43:y,44:m,46:g},{10:n,11:8,13:43,15:12,16:e,17:9,19:r,20:10,21:i,22:s,24:18,25:11,26:16,27:21,28:a,29:o,30:c,31:u,32:l,34:h,36:31,37:f,38:19,39:p,42:d,43:y,44:m,46:g},t(_,[2,23]),t(M,[2,15],{18:[1,44]}),t(M,[2,17]),t(M,[2,18]),t(M,[2,19],{23:[1,45]}),t(_,[2,25],{18:[1,46]}),t([10,16,18,19,21,22,28,29,30,31,32,34,37,39,42,43,44,46],[2,14]),t(E,[2,42]),t(E,[2,43]),{32:[1,47]},t(E,[2,28],{23:[1,48]}),t(E,[2,29]),t(E,[2,30]),t(E,[2,31]),{7:49,9:5,10:n,11:8,13:6,15:12,16:e,17:9,19:r,20:10,21:i,22:s,24:18,25:11,26:16,27:21,28:a,29:o,30:c,31:u,32:l,34:h,36:31,37:f,38:19,39:p,42:d,43:y,44:m,46:g},{7:50,9:5,10:n,11:8,13:6,15:12,16:e,17:9,19:r,20:10,21:i,22:s,24:18,25:11,26:16,27:21,28:a,29:o,30:c,31:u,32:l,34:h,36:31,37:f,38:19,39:p,42:d,43:y,44:m,46:g},{32:[1,52],34:[1,51],40:[1,53]},{34:[1,54]},{7:55,9:5,10:n,11:8,13:6,15:12,16:e,17:9,19:r,20:10,21:i,22:s,24:18,25:11,26:16,27:21,28:a,29:o,30:c,31:u,32:l,34:h,36:31,37:f,38:19,39:p,42:d,43:y,44:m,46:g},{7:56,9:5,10:n,11:8,13:6,15:12,16:e,17:9,19:r,20:10,21:i,22:s,24:18,25:11,26:16,27:21,28:a,29:o,30:c,31:u,32:l,34:h,36:31,37:f,38:19,39:p,42:d,43:y,44:m,46:g},{34:[1,57]},t([5,6,8,10,12,14,16,18,19,21,22,23,28,29,30,31,32,33,34,35,37,39,41,42,43,44,45,46],[2,26]),{34:[2,34]},{4:58,7:4,9:5,10:n,11:8,13:6,15:12,16:e,17:9,19:r,20:10,21:i,22:s,24:18,25:11,26:16,27:21,28:a,29:o,30:c,31:u,32:l,34:h,36:31,37:f,38:19,39:p,42:d,43:y,44:m,46:g},{1:[2,2]},{9:59,10:n,11:8,13:6,15:12,16:e,17:9,19:r,20:10,21:i,22:s,24:18,25:11,26:16,27:21,28:a,29:o,30:c,31:u,32:l,34:h,36:31,37:f,38:19,39:p,42:d,43:y,44:m,46:g},{9:60,10:n,11:8,13:6,15:12,16:e,17:9,19:r,20:10,21:i,22:s,24:18,25:11,26:16,27:21,28:a,29:o,30:c,31:u,32:l,34:h,36:31,37:f,38:19,39:p,42:d,43:y,44:m,46:g},t(_,[2,8]),{10:n,11:8,13:61,15:12,16:e,17:9,19:r,20:10,21:i,22:s,24:18,25:11,26:16,27:21,28:a,29:o,30:c,31:u,32:l,34:h,36:31,37:f,38:19,39:p,42:d,43:y,44:m,46:g},{10:n,11:8,13:62,15:12,16:e,17:9,19:r,20:10,21:i,22:s,24:18,25:11,26:16,27:21,28:a,29:o,30:c,31:u,32:l,34:h,36:31,37:f,38:19,39:p,42:d,43:y,44:m,46:g},t(_,[2,12]),t(_,[2,21]),t(_,[2,22]),{10:n,11:8,13:63,15:12,16:e,17:9,19:r,20:10,21:i,22:s,24:18,25:11,26:16,27:21,28:a,29:o,30:c,31:u,32:l,34:h,36:31,37:f,38:19,39:p,42:d,43:y,44:m,46:g},{24:64,27:21,28:a,29:o,30:c,31:u,32:l,34:h},{10:n,11:8,13:65,15:12,16:e,17:9,19:r,20:10,21:i,22:s,24:18,25:11,26:16,27:21,28:a,29:o,30:c,31:u,32:l,34:h,36:31,37:f,38:19,39:p,42:d,43:y,44:m,46:g},{7:66,9:5,10:n,11:8,13:6,15:12,16:e,17:9,19:r,20:10,21:i,22:s,24:18,25:11,26:16,27:21,28:a,29:o,30:c,31:u,32:l,34:h,36:31,37:f,38:19,39:p,42:d,43:y,44:m,46:g},{24:67,27:21,28:a,29:o,30:c,31:u,32:l,34:h},{8:v,10:x,33:[1,68]},{8:v,10:x,35:[1,69]},{7:70,9:5,10:n,11:8,13:6,15:12,16:e,17:9,19:r,20:10,21:i,22:s,24:18,25:11,26:16,27:21,28:a,29:o,30:c,31:u,32:l,34:h,36:31,37:f,38:19,39:p,42:d,43:y,44:m,46:g},{7:71,9:5,10:n,11:8,13:6,15:12,16:e,17:9,19:r,20:10,21:i,22:s,24:18,25:11,26:16,27:21,28:a,29:o,30:c,31:u,32:l,34:h,36:31,37:f,38:19,39:p,42:d,43:y,44:m,46:g},{7:72,9:5,10:n,11:8,13:6,15:12,16:e,17:9,19:r,20:10,21:i,22:s,24:18,25:11,26:16,27:21,28:a,29:o,30:c,31:u,32:l,34:h,36:31,37:f,38:19,39:p,42:d,43:y,44:m,46:g},{7:73,9:5,10:n,11:8,13:6,15:12,16:e,17:9,19:r,20:10,21:i,22:s,24:18,25:11,26:16,27:21,28:a,29:o,30:c,31:u,32:l,34:h,36:31,37:f,38:19,39:p,42:d,43:y,44:m,46:g},{8:v,10:x,43:[1,74]},{8:v,10:x,45:[1,75]},{7:76,9:5,10:n,11:8,13:6,15:12,16:e,17:9,19:r,20:10,21:i,22:s,24:18,25:11,26:16,27:21,28:a,29:o,30:c,31:u,32:l,34:h,36:31,37:f,38:19,39:p,42:d,43:y,44:m,46:g},{6:[1,77]},t(w,[2,5],{17:9,20:10,25:11,15:12,26:16,24:18,38:19,27:21,36:31,11:38,12:b,14:k,16:e,19:r,21:i,22:s,28:a,29:o,30:c,31:u,32:l,34:h,37:f,39:p,42:d,44:m,46:g}),t(w,[2,6],{17:9,20:10,25:11,15:12,26:16,24:18,38:19,27:21,36:31,11:38,12:b,14:k,16:e,19:r,21:i,22:s,28:a,29:o,30:c,31:u,32:l,34:h,37:f,39:p,42:d,44:m,46:g}),t(_,[2,9]),t(_,[2,10]),t(M,[2,16]),t(M,[2,20]),t(_,[2,24]),{8:v,10:x,33:[1,78]},t(E,[2,27]),t(E,[2,32]),t(E,[2,33]),{8:v,10:x,35:[1,79]},{8:v,10:x,33:[1,80]},{8:v,10:x,41:[1,81]},{8:v,10:x,35:[1,82]},t(E,[2,39]),t(E,[2,40]),{8:v,10:x,35:[1,83]},{1:[2,1]},{32:[1,84]},t(E,[2,35]),t(E,[2,36]),{32:[1,85]},t(E,[2,38]),t(E,[2,41]),{7:86,9:5,10:n,11:8,13:6,15:12,16:e,17:9,19:r,20:10,21:i,22:s,24:18,25:11,26:16,27:21,28:a,29:o,30:c,31:u,32:l,34:h,36:31,37:f,38:19,39:p,42:d,43:y,44:m,46:g},{7:87,9:5,10:n,11:8,13:6,15:12,16:e,17:9,19:r,20:10,21:i,22:s,24:18,25:11,26:16,27:21,28:a,29:o,30:c,31:u,32:l,34:h,36:31,37:f,38:19,39:p,42:d,43:y,44:m,46:g},{8:v,10:x,33:[1,88]},{8:v,10:x,33:[1,89]},t(E,[2,44]),t(E,[2,37])],defaultActions:{3:[2,3],33:[2,34],35:[2,2],77:[2,1]},parseError:function(t,n){if(!n.recoverable)throw new Error(t);this.trace(t)},parse:function(t){var n=this,e=[0],r=[null],i=[],s=this.table,a="",o=0,c=0,u=0,l=2,h=1,f=i.slice.call(arguments,1),p=Object.create(this.lexer),d={yy:{}};for(var y in this.yy)Object.prototype.hasOwnProperty.call(this.yy,y)&&(d.yy[y]=this.yy[y]);p.setInput(t,d.yy),d.yy.lexer=p,d.yy.parser=this,void 0===p.yylloc&&(p.yylloc={});var m=p.yylloc;i.push(m);var g=p.options&&p.options.ranges;function v(){var t;return"number"!=typeof(t=p.lex()||h)&&(t=n.symbols_[t]||t),t}"function"==typeof d.yy.parseError?this.parseError=d.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var x,w,b,k,_,M,E,S,T,A={};;){if(b=e[e.length-1],this.defaultActions[b]?k=this.defaultActions[b]:(null==x&&(x=v()),k=s[b]&&s[b][x]),void 0===k||!k.length||!k[0]){var P="";for(M in T=[],s[b])this.terminals_[M]&&M>l&&T.push("'"+this.terminals_[M]+"'");P=p.showPosition?"Parse error on line "+(o+1)+":\n"+p.showPosition()+"\nExpecting "+T.join(", ")+", got '"+(this.terminals_[x]||x)+"'":"Parse error on line "+(o+1)+": Unexpected "+(x==h?"end of input":"'"+(this.terminals_[x]||x)+"'"),this.parseError(P,{text:p.match,token:this.terminals_[x]||x,line:p.yylineno,loc:m,expected:T})}if(k[0]instanceof Array&&k.length>1)throw new Error("Parse Error: multiple actions possible at state: "+b+", token: "+x);switch(k[0]){case 1:e.push(x),r.push(p.yytext),i.push(p.yylloc),e.push(k[1]),x=null,w?(x=w,w=null):(c=p.yyleng,a=p.yytext,o=p.yylineno,m=p.yylloc,u>0&&u--);break;case 2:if(E=this.productions_[k[1]][1],A.$=r[r.length-E],A._$={first_line:i[i.length-(E||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(E||1)].first_column,last_column:i[i.length-1].last_column},g&&(A._$.range=[i[i.length-(E||1)].range[0],i[i.length-1].range[1]]),void 0!==(_=this.performAction.apply(A,[a,c,o,d.yy,k[1],r,i].concat(f))))return _;E&&(e=e.slice(0,-1*E*2),r=r.slice(0,-1*E),i=i.slice(0,-1*E)),e.push(this.productions_[k[1]][0]),r.push(A.$),i.push(A._$),S=s[e[e.length-2]][e[e.length-1]],e.push(S);break;case 3:return!0}}return!0}},T={EOF:1,parseError:function(t,n){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,n)},setInput:function(t,n){return this.yy=n||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var n=t.length,e=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-n),this.offset-=n;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),e.length-1&&(this.yylineno-=e.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:e?(e.length===r.length?this.yylloc.first_column:0)+r[r.length-e.length].length-e[0].length:this.yylloc.first_column-n},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-n]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),n=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+n+"^"},test_match:function(t,n){var e,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,n,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e)return e;if(this._backtrack){for(var s in i)this[s]=i[s];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,n,e,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),s=0;s<i.length;s++)if((e=this._input.match(this.rules[i[s]]))&&(!n||e[0].length>n[0].length)){if(n=e,r=s,this.options.backtrack_lexer){if(!1!==(t=this.test_match(e,i[s])))return t;if(this._backtrack){n=!1;continue}return!1}if(!this.options.flex)break}return n?!1!==(t=this.test_match(n,i[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0},performAction:function(t,n,e,r){switch(e){case 0:case 1:case 2:break;case 3:return"INT";case 4:return"FLOAT";case 5:return"^";case 6:case 7:case 8:case 9:return"*";case 10:case 11:return"/";case 12:case 13:return"-";case 14:return"+";case 15:return"^";case 16:return"(";case 17:return")";case 18:return"(";case 19:return")";case 20:return"[";case 21:return"]";case 22:return"{";case 23:return"}";case 24:return"{";case 25:return"}";case 26:return"_";case 27:return"|";case 28:return"LEFT|";case 29:return"RIGHT|";case 30:return"!";case 31:return"SIGN";case 32:return n.yytext="<=","SIGN";case 33:return n.yytext=">=","SIGN";case 34:return n.yytext="<=","SIGN";case 35:return n.yytext=">=","SIGN";case 36:case 37:case 38:case 39:return n.yytext="<>","SIGN";case 40:return n.yytext="<=","SIGN";case 41:return n.yytext=">=","SIGN";case 42:case 43:return"FRAC";case 44:return"sqrt";case 45:return"abs";case 46:return"ln";case 47:return"log";case 48:case 49:case 50:case 51:return"TRIG";case 52:return n.yytext="sin","TRIG";case 53:return n.yytext="cos","TRIG";case 54:return n.yytext="tan","TRIG";case 55:return n.yytext="csc","TRIG";case 56:return n.yytext="sec","TRIG";case 57:return n.yytext="cot","TRIG";case 58:return n.yytext="arcsin","TRIG";case 59:return n.yytext="arccos","TRIG";case 60:return n.yytext="arctan","TRIG";case 61:return n.yytext="arccsc","TRIG";case 62:return n.yytext="arcsec","TRIG";case 63:return n.yytext="arccot","TRIG";case 64:case 65:return"TRIGINV";case 66:return n.yytext="sinh","TRIG";case 67:return n.yytext="cosh","TRIG";case 68:return n.yytext="tanh","TRIG";case 69:return n.yytext="csch","TRIG";case 70:return n.yytext="sech","TRIG";case 71:return n.yytext="tanh","TRIG";case 72:return"CONST";case 73:case 74:return n.yytext="pi","CONST";case 75:return"VAR";case 76:case 77:return n.yytext="theta","VAR";case 78:return"VAR";case 79:case 80:return n.yytext="phi","VAR";case 81:return t.symbolLexer(n.yytext);case 82:return"EOF";case 83:return"INVALID";case 84:console.log(n.yytext)}},rules:[/^(?:\s+)/,/^(?:\\space)/,/^(?:\\ )/,/^(?:[0-9]+\.?)/,/^(?:([0-9]+)?\.[0-9]+)/,/^(?:\*\*)/,/^(?:\*)/,/^(?:\\cdot|·)/,/^(?:\\times|×)/,/^(?:\\ast)/,/^(?:\/)/,/^(?:\\div|÷)/,/^(?:-)/,/^(?:−)/,/^(?:\+)/,/^(?:\^)/,/^(?:\()/,/^(?:\))/,/^(?:\\left\()/,/^(?:\\right\))/,/^(?:\[)/,/^(?:\])/,/^(?:\{)/,/^(?:\})/,/^(?:\\left\{)/,/^(?:\\right\})/,/^(?:_)/,/^(?:\|)/,/^(?:\\left\|)/,/^(?:\\right\|)/,/^(?:\!)/,/^(?:<=|>=|<>|<|>|=)/,/^(?:\\le)/,/^(?:\\ge)/,/^(?:\\leq)/,/^(?:\\geq)/,/^(?:=\/=)/,/^(?:\\ne)/,/^(?:\\neq)/,/^(?:≠)/,/^(?:≤)/,/^(?:≥)/,/^(?:\\frac)/,/^(?:\\dfrac)/,/^(?:sqrt|\\sqrt)/,/^(?:abs|\\abs)/,/^(?:ln|\\ln)/,/^(?:log|\\log)/,/^(?:sin|cos|tan)/,/^(?:csc|sec|cot)/,/^(?:sinh|cosh|tanh)/,/^(?:csch|sech|coth)/,/^(?:\\sin)/,/^(?:\\cos)/,/^(?:\\tan)/,/^(?:\\csc)/,/^(?:\\sec)/,/^(?:\\cot)/,/^(?:\\arcsin)/,/^(?:\\arccos)/,/^(?:\\arctan)/,/^(?:\\arccsc)/,/^(?:\\arcsec)/,/^(?:\\arccot)/,/^(?:arcsin|arccos|arctan)/,/^(?:arccsc|arcsec|arccot)/,/^(?:\\sinh)/,/^(?:\\cosh)/,/^(?:\\tanh)/,/^(?:\\csch)/,/^(?:\\sech)/,/^(?:\\coth)/,/^(?:pi)/,/^(?:π)/,/^(?:\\pi)/,/^(?:theta)/,/^(?:θ)/,/^(?:\\theta)/,/^(?:phi)/,/^(?:φ)/,/^(?:\\phi)/,/^(?:[a-zA-Z])/,/^(?:$)/,/^(?:.)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],inclusive:!0}}};function A(){this.yy={}}return S.lexer=T,A.prototype=S,S.Parser=A,new A}();t.parser=n}(i),function(t){var n=function(){var t=function(t,n,e,r){for(e=e||{},r=t.length;r--;e[t[r]]=n);return e},n=[1,11],e=[1,9],r=[8,17],i=[6,11],s=[6,11,13,17],a={trace:function(){},yy:{},symbols_:{error:2,unitvalue:3,magnitude:4,unit:5,EOF:6,float:7,POW:8,int:9,multatoms:10,DIV:11,expatom:12,MUL:13,atom:14,"^":15,nat:16,ATOM:17,FLOAT:18,NAT:19,NEG:20,$accept:0,$end:1},terminals_:{2:"error",6:"EOF",8:"POW",11:"DIV",13:"MUL",15:"^",17:"ATOM",18:"FLOAT",19:"NAT",20:"NEG"},productions_:[0,[3,3],[3,2],[4,3],[4,1],[5,3],[5,1],[10,3],[10,2],[10,1],[12,3],[12,1],[14,1],[7,1],[7,1],[16,1],[9,2],[9,1]],performAction:function(t,n,e,r,i,s,a){var o=s.length-1;switch(i){case 1:return{type:"unitMagnitude",magnitude:s[o-2],unit:s[o-1]};case 2:return{type:"unitStandalone",unit:s[o-1]};case 3:this.$=s[o-2]+"e"+s[o];break;case 4:case 13:case 14:case 15:case 17:this.$=s[o];break;case 5:this.$={num:s[o-2],denom:s[o]};break;case 6:this.$={num:s[o],denom:null};break;case 7:this.$=[s[o-2]].concat(s[o]);break;case 8:this.$=[s[o-1]].concat(s[o]);break;case 9:this.$=[s[o]];break;case 10:this.$={name:s[o-2],pow:s[o]};break;case 11:this.$={name:s[o],pow:1};break;case 12:this.$=t;break;case 16:this.$="-"+s[o]}},table:[{3:1,4:2,5:3,7:4,10:5,12:8,14:10,16:7,17:n,18:[1,6],19:e},{1:[3]},{5:12,10:5,12:8,14:10,17:n},{6:[1,13]},{8:[1,14],17:[2,4]},{6:[2,6],11:[1,15]},t(r,[2,13]),t(r,[2,14]),t(i,[2,9],{12:8,14:10,10:17,13:[1,16],17:n}),t([6,8,11,13,17],[2,15]),t(s,[2,11],{15:[1,18]}),t([6,11,13,15,17],[2,12]),{6:[1,19]},{1:[2,2]},{9:20,19:[1,22],20:[1,21]},{10:23,12:8,14:10,17:n},{10:24,12:8,14:10,17:n},t(i,[2,8]),{16:25,19:e},{1:[2,1]},{17:[2,3]},{19:[1,26]},{17:[2,17]},{6:[2,5]},t(i,[2,7]),t(s,[2,10]),{17:[2,16]}],defaultActions:{13:[2,2],19:[2,1],20:[2,3],22:[2,17],23:[2,5],26:[2,16]},parseError:function(t,n){if(!n.recoverable)throw new Error(t);this.trace(t)},parse:function(t){var n=this,e=[0],r=[null],i=[],s=this.table,a="",o=0,c=0,u=0,l=2,h=1,f=i.slice.call(arguments,1),p=Object.create(this.lexer),d={yy:{}};for(var y in this.yy)Object.prototype.hasOwnProperty.call(this.yy,y)&&(d.yy[y]=this.yy[y]);p.setInput(t,d.yy),d.yy.lexer=p,d.yy.parser=this,void 0===p.yylloc&&(p.yylloc={});var m=p.yylloc;i.push(m);var g=p.options&&p.options.ranges;function v(){var t;return"number"!=typeof(t=p.lex()||h)&&(t=n.symbols_[t]||t),t}"function"==typeof d.yy.parseError?this.parseError=d.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var x,w,b,k,_,M,E,S,T,A={};;){if(b=e[e.length-1],this.defaultActions[b]?k=this.defaultActions[b]:(null==x&&(x=v()),k=s[b]&&s[b][x]),void 0===k||!k.length||!k[0]){var P="";for(M in T=[],s[b])this.terminals_[M]&&M>l&&T.push("'"+this.terminals_[M]+"'");P=p.showPosition?"Parse error on line "+(o+1)+":\n"+p.showPosition()+"\nExpecting "+T.join(", ")+", got '"+(this.terminals_[x]||x)+"'":"Parse error on line "+(o+1)+": Unexpected "+(x==h?"end of input":"'"+(this.terminals_[x]||x)+"'"),this.parseError(P,{text:p.match,token:this.terminals_[x]||x,line:p.yylineno,loc:m,expected:T})}if(k[0]instanceof Array&&k.length>1)throw new Error("Parse Error: multiple actions possible at state: "+b+", token: "+x);switch(k[0]){case 1:e.push(x),r.push(p.yytext),i.push(p.yylloc),e.push(k[1]),x=null,w?(x=w,w=null):(c=p.yyleng,a=p.yytext,o=p.yylineno,m=p.yylloc,u>0&&u--);break;case 2:if(E=this.productions_[k[1]][1],A.$=r[r.length-E],A._$={first_line:i[i.length-(E||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(E||1)].first_column,last_column:i[i.length-1].last_column},g&&(A._$.range=[i[i.length-(E||1)].range[0],i[i.length-1].range[1]]),void 0!==(_=this.performAction.apply(A,[a,c,o,d.yy,k[1],r,i].concat(f))))return _;E&&(e=e.slice(0,-1*E*2),r=r.slice(0,-1*E),i=i.slice(0,-1*E)),e.push(this.productions_[k[1]][0]),r.push(A.$),i.push(A._$),S=s[e[e.length-2]][e[e.length-1]],e.push(S);break;case 3:return!0}}return!0}},o={EOF:1,parseError:function(t,n){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,n)},setInput:function(t,n){return this.yy=n||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var n=t.length,e=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-n),this.offset-=n;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),e.length-1&&(this.yylineno-=e.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:e?(e.length===r.length?this.yylloc.first_column:0)+r[r.length-e.length].length-e[0].length:this.yylloc.first_column-n},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-n]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),n=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+n+"^"},test_match:function(t,n){var e,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,n,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e)return e;if(this._backtrack){for(var s in i)this[s]=i[s];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,n,e,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),s=0;s<i.length;s++)if((e=this._input.match(this.rules[i[s]]))&&(!n||e[0].length>n[0].length)){if(n=e,r=s,this.options.backtrack_lexer){if(!1!==(t=this.test_match(e,i[s])))return t;if(this._backtrack){n=!1;continue}return!1}if(!this.options.flex)break}return n?!1!==(t=this.test_match(n,i[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(t,n,e,r){switch(e){case 0:return 11;case 1:return"(";case 2:return")";case 3:return 8;case 4:return 15;case 5:return 13;case 6:return 18;case 7:return 19;case 8:return 20;case 9:case 10:case 11:return 17;case 12:break;case 13:return 6}},rules:[/^(?:\/)/,/^(?:\()/,/^(?:\))/,/^(?:(\*|x|\u00d7|\u2219|\u22c5|\u00b7)\s*10\s*\^)/,/^(?:\^)/,/^(?:\*)/,/^(?:[0-9]+\.[0-9]+)/,/^(?:[0-9]+)/,/^(?:-)/,/^(?:\u00b0( ?)[cCfF])/,/^(?:fl\.? oz\.?)/,/^(?:[\u00b5]?([A-Za-z-]+|[\u2103\u2109\u212b]))/,/^(?:\s+)/,/^(?:$)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};function c(){this.yy={}}return a.lexer=o,c.prototype=a,a.Parser=c,new c}();t.unitParser=n}(i),function(t){var n=function(){throw new Error("Abstract method - must override for expr: "+this.print())},e=function(t){throw new Error(t)},i=function(t){return t!=t};function s(){}function a(){}function o(){this.terms=1===arguments.length?arguments[0]:r.toArray(arguments)}function c(){this.terms=1===arguments.length?arguments[0]:r.toArray(arguments)}function u(t,n){this.base=t,this.exp=n}function l(t,n){this.base=t,this.power=n}function h(t,n){this.type=t,this.arg=n}function f(t){this.arg=t}function p(t,n,e){this.left=t,this.type=n,this.right=e}function d(){}function y(t,n){this.symbol=t,this.arg=n}function m(t,n){this.symbol=t,this.subscript=n}function g(t){this.symbol=t}function v(){}function x(t,n){var e=t,r=n;r<0&&(e=-e,r=-r),this.n=e,this.d=r}function w(t){this.n=t}function b(t){this.n=t}r.extend(s.prototype,{func:n,args:n,construct:function(t){var n=new this.func;return this.func.apply(n,t),n},recurse:function(t){var n=Array.prototype.slice.call(arguments,1),e=r.map(this.args(),(function(e){return r.isString(e)?e:e[t].apply(e,n)}));return this.construct(e)},eval:n,codegen:n,compile:function(){var t=this.codegen();try{return new Function("vars","return "+t+";")}catch(n){throw new Error("Function did not compile: "+t)}},print:n,tex:n,asTex:function(t){t=t||{},r.defaults(t,{display:!0,dynamic:!0,times:!1});var n=this.tex();return t.display&&(n="\\displaystyle "+n),t.dynamic&&(n=(n=n.replace(/\(/g,"\\left(")).replace(/\)/g,"\\right)")),t.times&&(n=n.replace(/\\cdot/g,"\\times")),n},name:function(){return this.func.name?this.func.name:this.func.toString().match(/^function\s*([^\s(]+)/)[1]},repr:function(){return this.name()+"("+r.map(this.args(),(function(t){return r.isString(t)?t:t.repr()})).join(",")+")"},strip:function(){return this.recurse("strip")},normalize:function(){return this.recurse("normalize")},expand:function(){return this.recurse("expand")},factor:function(t){return this.recurse("factor",t)},collect:function(t){return this.recurse("collect",t)},equals:function(t){return this.normalize().print()===t.normalize().print()},simplify:function(t){t=r.extend({once:!1},t);var n=this.factor(t),e=n.collect(t);n.equals(e)&&(e=this.collect(t));var i=e.expand(t),s=i.collect(t);i.equals(s)&&(s=e.collect(t));var a=s;return t.once||this.equals(a)?a:a.simplify(t)},isSimplified:function(){return this.equals(this.simplify())},exprArgs:function(){return r.filter(this.args(),(function(t){return t instanceof s}))},getVars:function(t){return r.uniq(r.flatten(r.invoke(this.exprArgs(),"getVars",t))).sort()},getConsts:function(){return r.uniq(r.flatten(r.invoke(this.exprArgs(),"getConsts"))).sort()},getUnits:function(){return r.flatten(r.invoke(this.exprArgs(),"getUnits"))},is:function(t){return this instanceof t},has:function(t){return this instanceof t||r.any(this.exprArgs(),(function(n){return n.has(t)}))},raiseToThe:function(t){return new u(this,t)},isSubtract:function(){return!1},isDivide:function(){return!1},isRoot:function(){return!1},needsExplicitMul:function(){return this.args()[0].needsExplicitMul()},sameVars:function(t){var n=this.getVars(),e=t.getVars(),i=function(t,n){return!r.difference(t,n).length},s=function(t){return r.uniq(r.invoke(t,"toLowerCase")).sort()};return{equal:i(n,e),equalIgnoringCase:i(s(n),s(e))}},compare:function(t){if(t instanceof p)return!1;var n=r.union(this.getVars(!0),t.getVars(!0)),e=function(t,n){var e=function(t,n){return Math.abs(t)<1||Math.abs(n)<1?Math.abs(t-n):Math.abs(1-t/n)}(t,n);return t===n||i(t)&&i(n)||e<Math.pow(10,-9)};if(!n.length&&!this.has(_)&&!t.has(_))return e(this.eval(),t.eval());var s=this.collect(),a=t.collect(),o=this.getUnits(),c=t.getUnits();if(!r.isEqual(o,c))return!1;for(var u=0;u<12;u++){var l,h={},f=Math.pow(10,1+Math.floor(3*u/12)),d=u%2==0;if(r.each(n,(function(t){var n,e;h[t]=d?(e=f-(n=-f),Math.random()*e+n):r.random(-f,f)})),s.has(y)||a.has(y)||s.has(_)||a.has(_)){var m=s.partialEval(h),g=a.partialEval(h);l=m.simplify().equals(g.simplify())}else{l=e(m=s.eval(h),g=a.eval(h))}if(!l)return!1}return!0},partialEval:function(t){return this instanceof _?this:this.has(y)?this instanceof y?new y(this.symbol,this.arg.partialEval(t)):this.recurse("partialEval",t):new b(this.eval(t).toFixed(9)).collect()},sameForm:function(t){return this.strip().equals(t.strip())},findGCD:function(t){return this.equals(t)?t:v.One},getDenominator:function(){return v.One},asMul:function(){return new c(v.One,this)},isPositive:n,isNegative:function(){return!1},asPositiveFactor:function(){return this.isPositive()?this:v.One},addHint:function(t){if(!t)return this;var n=this.construct(this.args());return n.hints=r.clone(this.hints),n.hints[t]=!0,n},hints:{parens:!1},asExpr:function(){return this},completeParse:function(){return this.recurse("completeParse")},abs:n,negate:function(){return new c(v.Neg,this)}}),a.prototype=new s,r.extend(a.prototype,{args:function(){return this.terms},normalize:function(){var t=r.sortBy(r.invoke(this.terms,"normalize"),(function(t){return t.print()}));return new this.func(t)},expand:function(){return this.recurse("expand").flatten()},partition:function(){var t=r.groupBy(this.terms,(function(t){return t instanceof v})),n=t[!0]||[],e=t[!1]||[];return[new this.func(n),new this.func(e)]},flatten:function(){var t=this,n=r.reject(this.terms,(function(n){return n.equals(t.identity)}));if(0===n.length)return t.identity;if(1===n.length)return n[0];var e=r.groupBy(n,(function(n){return n instanceof t.func})),i=e[!0]||[],s=(e[!1]||[]).concat(r.flatten(r.pluck(i,"terms"),!0));return new t.func(s)},identity:void 0,reduce:n,isPositive:function(){var t=r.invoke(this.terms,"collect");return r.all(r.invoke(t,"isPositive"))},replace:function(t,n){var e;e=t instanceof s?r.indexOf(this.terms,t):t;var i=[];r.isArray(n)?i=n:n&&(i=[n]);var a=this.terms.slice(0,e).concat(i).concat(this.terms.slice(e+1));return new this.func(a)},remove:function(t){return this.replace(t)},getDenominator:function(){return new c(r.invoke(this.terms,"getDenominator")).flatten()}}),o.prototype=new a,r.extend(o.prototype,{func:o,eval:function(t,n){return r.reduce(this.terms,(function(e,r){return e+r.eval(t,n)}),0)},codegen:function(){return r.map(this.terms,(function(t){return"("+t.codegen()+")"})).join(" + ")||"0"},print:function(){return r.invoke(this.terms,"print").join("+")},tex:function(){var t="";return r.each(this.terms,(function(n){!t||n.isSubtract()?t+=n.tex():t+="+"+n.tex()})),t},collect:function(t){var n=r.invoke(this.terms,"collect",t),e=[];r.each(n,(function(n){if(n instanceof c){var r=n.partition();e.push([r[1].flatten(),r[0].reduce(t)])}else n instanceof v?e.push([v.One,n]):e.push([n,v.One])}));var i=r.groupBy(e,(function(t){return t[0].normalize().print()})),s=r.compact(r.map(i,(function(n){var e=n[0][0];return new c(new o(r.zip.apply(r,n)[1]).reduce(t),e).collect(t)})));return new o(s).flatten()},factor:function(t){t=r.extend({keepNegative:!1},t);var n,e=r.invoke(this.terms,"collect");n=e[0]instanceof c?e[0].terms:[e[0]],r.each(r.rest(this.terms),(function(t){n=r.map(n,(function(n){return t.findGCD(n)}))})),!t.keepNegative&&this.isNegative()&&n.push(v.Neg),n=new c(n).flatten().collect();var i=r.map(e,(function(t){return c.handleDivide(t,n).simplify()}));return i=new o(i).flatten(),c.createOrAppend(n,i).flatten()},reduce:function(t){return r.reduce(this.terms,(function(n,e){return n.add(e,t)}),this.identity)},needsExplicitMul:function(){return!1},isNegative:function(){var t=r.invoke(this.terms,"collect");return r.all(r.invoke(t,"isNegative"))},negate:function(){return new o(r.invoke(this.terms,"negate"))}}),c.prototype=new a,r.extend(c.prototype,{func:c,eval:function(t,n){return r.reduce(this.terms,(function(e,r){return e*r.eval(t,n)}),1)},codegen:function(){return r.map(this.terms,(function(t){return"("+t.codegen()+")"})).join(" * ")||"0"},print:function(){return r.map(this.terms,(function(t){return t instanceof o?"("+t.print()+")":t.print()})).join("*")},getUnits:function(){var t=r(this.terms).chain().map((function(t){return t.getUnits()})).flatten().value();return t.sort((function(t,n){return t.unit<n.unit})),t},tex:function(){for(var t,n=" \\cdot ",e=r.groupBy(this.terms,(function(t){return t.isDivide()?"inverse":t instanceof v?"number":"other"})),i=e.inverse||[],s=e.number||[],a=e.other||[],l="",h=0;h<s.length;h++){if(s[h]instanceof x&&!(s[h]instanceof w)&&a.length>0&&i.length>0){var f=s.slice();f.splice(h,1);var p=f.concat(i).concat(a);return s[h].tex()+new c(p).tex()}}if(0===(s=r.compact(r.map(s,(function(t){var n=t instanceof x&&!(t instanceof w),e=!t.hints.fraction||i.length>0;if(n&&e){i.push(new u(new w(t.d),v.Div));var s=new w(t.n);return s.hints=t.hints,r.any(t.hints)?s:null}return t})))).length&&1===a.length)t=a[0].tex();else{var d="";r.each(s,(function(t){t.hints.subtract&&t.hints.entered?(l+="-",d+=(d?n:"")+t.abs().tex()):t instanceof w&&-1===t.n&&(t.hints.negate||t.hints.subtract)?l+="-":d+=(d?n:"")+t.tex()})),r.each(a,(function(t){t.needsExplicitMul()?d+=(d?n:"")+t.tex():d+=t instanceof o?"("+t.tex()+")":t.tex()})),t=d||"1"}if(i.length){var y=new c(r.invoke(i,"asDivide")).flatten().tex();return l+"\\frac{"+t+"}{"+y+"}"}return l+t},strip:function(){return new c(r.map(this.terms,(function(t){return t instanceof v?t.abs():t.strip()}))).flatten()},expand:function(){var t=function(t){return t instanceof o},n=function(t){return t instanceof u&&t.exp.isNegative()},e=this.recurse("expand").flatten(),i=r.any(e.terms,t),s=r.any(e.terms,(function(e){return n(e)&&t(e.base)}));if(!i&&!s)return e;var a=r.groupBy(e.terms,n),l=a[!1]||[],h=a[!0]||[];if(i){var f=r.groupBy(l,t),p=f[!0]||[],d=f[!1]||[],y=r.reduce(p,(function(t,n){return r.reduce(t,(function(t,e){return t.concat(r.map(n.terms,(function(t){return e.concat(t)})))}),[])}),[[]]);l=[new o(r.map(y,(function(t){return new c(d.concat(t)).flatten()})))]}s&&(h=[new u(new c(r.invoke(h,"getDenominator")).flatten().expand(),v.Div)]);return new c(l.concat(h)).flatten()},factor:function(t){var n=this.recurse("factor",t).flatten();if(!(n instanceof c))return n;var e=r.groupBy(n.terms,(function(t){return t instanceof x})),i=r.reduce(e[!0],(function(t,n){return{n:t.n*n.n,d:t.d*n.d}}),{n:1,d:1});return i=1===i.d?new w(i.n):new x(i.n,i.d),new c((e[!1]||[]).concat(i)).flatten()},collect:function(t){var n=this.recurse("collect",t).partition(),e=n[0].reduce(t);if(0===e.eval())return v.Zero;var i=n[1].flatten();if(!(i instanceof c))return new c(e,i).flatten();i=i.terms;var s=[];r.each(i,(function(t){t instanceof u?s.push([t.base,t.exp]):s.push([t,v.One])}));var a=r.groupBy(s,(function(t){return t[0].normalize().print()})),f=r.compact(r.map(a,(function(n){var e=n[0][0],i=new o(r.zip.apply(r,n)[1]).collect(t);return i instanceof v&&0===i.eval()?null:[e,i]}))),p=(s=r.groupBy(f,(function(t){return t[0]instanceof h&&t[0].isBasic()?"trig":t[0]instanceof l?"log":"expr"}))).trig||[],d=s.log||[],y=s.expr||[];if(p.length>1){var m=r.groupBy(p,(function(t){return t[0].arg.normalize().print()}));p=[],r.each(m,(function(n){var e=n[0][0].arg,i={sin:v.Zero,cos:v.Zero};r.each(n,(function(t){i[t[0].type]=t[1]})),c.handleNegative(i.sin).collect(t).equals(i.cos)&&(i=i.cos.isNegative()?{tan:i.sin}:{cot:i.cos}),r.each(i,(function(t,n){p.push([new h(n,e),t])}))}))}if(d.length>1){var g=r.groupBy(d,(function(t){return t[0].base.normalize().print()}));d=[],r.each(g,(function(n){2===n.length&&c.handleNegative(n[0][1]).collect(t).equals(n[1][1])?n[0][1].isNegative()?d.push([new l(n[0][0].power,n[1][0].power),n[1][1]]):d.push([new l(n[1][0].power,n[0][0].power),n[0][1]]):d=d.concat(n)}))}s=p.concat(d).concat(y);var x=r.map(s,(function(n){return new u(n[0],n[1]).collect(t)}));return new c([e].concat(x)).flatten()},isSubtract:function(){return r.any(this.terms,(function(t){return t instanceof v&&t.hints.subtract}))},factorIn:function(t){var n=this.partition()[0].terms;if(n.length&&r.all(n,(function(t){return t.n>0}))){var e=n[0].negate();return e.hints=n[0].hints,this.replace(n[0],e.addHint(t))}return new c([v.negativeOne(t)].concat(this.terms))},factorOut:function(){var t=!1,n=r.compact(r.map(this.terms,(function(n,e,r){return!t&&n instanceof v&&n.hints.divide?(t=!0,-1!==n.n?n.negate():null):n})));return 1===n.length?n[0]:new c(n)},reduce:function(t){return r.reduce(this.terms,(function(n,e){return n.mul(e,t)}),this.identity)},findGCD:function(t){return new c(r.invoke(this.terms,"findGCD",t)).flatten()},asMul:function(){return this},asPositiveFactor:function(){return this.isPositive()?this:new c(r.invoke(this.collect().terms,"asPositiveFactor")).flatten()},isNegative:function(){return r.any(r.invoke(this.collect().terms,"isNegative"))},fold:function(){return c.fold(this)},negate:function(){var t=function(t){return t instanceof v};if(r.any(this.terms,t)){var n=r.find(this.terms,t);return this.replace(n,n.negate())}return new c([v.Neg].concat(this.terms))}}),r.each([o,c],(function(t){r.extend(t,{createOrAppend:function(n,e){return n instanceof t?new t(n.terms.concat(e)):new t(n,e)}})})),r.extend(c,{handleNegative:function(t,n){if(t instanceof v&&t.n>0){var e=t.negate();return e.hints=t.hints,e.addHint(n)}return t instanceof c?t.factorIn(n):new c(v.negativeOne(n),t)},handleDivide:function(t,n){if(n instanceof c){var e=c.handleDivide(t,n.terms[0]),i=new c(r.rest(n.terms)).flatten();return c.handleDivide(e,i)}var s=function(t){return t instanceof w};if(s(n)&&t instanceof c&&r.any(t.terms,s)){var a=t.terms.slice().reverse(),o=r.find(a,(function(t){return t instanceof x}));if(!s(o))return new c(t.terms.concat([new x(1,n.n).addHint("fraction")]));var l=new x(o.n,n.n);return l.hints=o.hints,o===a[0]&&(l=l.addHint("fraction")),o.n<0&&n.n<0?(l.d=-l.d,t.replace(o,[v.Neg,l])):t.replace(o,l)}var f=function(t,n){if(n instanceof w){if(t instanceof w)return t.n<0&&n.n<0?[v.Neg,new x(t.n,-n.n).addHint("fraction")]:[new x(t.n,n.n).addHint("fraction")];var e=new x(1,n.eval());return n.eval()<0?[t,e.addHint("negate")]:[t,e]}var r;if(n instanceof h&&n.exp){var i=n.exp;n.exp=void 0,n=new u(n,i)}return r=n instanceof u?new u(n.base,c.handleNegative(n.exp,"divide")):new u(n,v.Div),t instanceof w&&1===t.n?[r]:[t,r]};if(t instanceof c){var p=f(r.last(t.terms),n);return new c(r.initial(t.terms).concat(p))}return new c(p=f(t,n)).flatten()},fold:function(t){if(t instanceof c){var n=r.find(r.initial(t.terms),(function(t){return(t instanceof h||t instanceof l)&&t.hints.open})),e=r.indexOf(t.terms,n);if(n){var i,s=r.last(t.terms);if(!(n.hints.parens||s.hints.parens||s.has(h)||s.has(l)))return i=n instanceof h?h.create([n.type,n.exp],c.createOrAppend(n.arg,s).fold()):l.create(n.base,c.createOrAppend(n.power,s).fold()),0===e?i:new c(t.terms.slice(0,e).concat(i)).fold();n.hints.open=!1}var a=t.partition()[0].terms,o=function(t){return t.n>0},u=function(t){return-1===t.n&&t.hints.negate};if(a.length>1&&r.some(a,u)&&r.some(a,o)&&r.every(a,(function(t){return o(t)||u(t)}))){var f=r.indexOf(t.terms,r.find(t.terms,u)),p=r.indexOf(t.terms,r.find(t.terms,o));if(f<p)return t.replace(p,t.terms[p].negate()).remove(f)}}return t}}),u.prototype=new s,r.extend(u.prototype,{func:u,args:function(){return[this.base,this.exp]},eval:function(t,n){var e=this.base.eval(t,n),r=this.exp.eval(t,n);if(e<0){var i=this.exp.simplify();if(i instanceof b){var s=i.n,a=(s-s.toFixed()).toString().length-2,o=Math.pow(10,a);i=new x(s*o,o).simplify()}if(i instanceof x)if(Math.abs(i.d)%2==1)return(Math.abs(i.n)%2==1?-1:1)*Math.pow(-1*e,r)}return Math.pow(e,r)},getUnits:function(){return this.base.getUnits().map(function(t){return{unit:t.unit,pow:t.pow*this.exp.n}}.bind(this))},codegen:function(){return"Math.pow("+this.base.codegen()+", "+this.exp.codegen()+")"},print:function(){var t=this.base.print();return(this.base instanceof a||this.base instanceof u)&&(t="("+t+")"),t+"^("+this.exp.print()+")"},tex:function(){if(this.isDivide())return"\\frac{1}{"+this.asDivide().tex()+"}";if(this.isRoot())return 1!==this.exp.n&&e("Node marked with hint 'root' does not have exponent of form 1/x."),2===this.exp.d?"\\sqrt{"+this.base.tex()+"}":"\\sqrt["+this.exp.d+"]{"+this.base.tex()+"}";if(this.base instanceof h&&!this.base.isInverse()&&this.exp instanceof v&&this.exp.isSimple()&&this.exp.eval()>=0){var t=this.base.tex({split:!0});return t[0]+"^{"+this.exp.tex()+"}"+t[1]}var n=this.base.tex();return this.base instanceof a||this.base instanceof u||this.base instanceof v&&!this.base.isSimple()?n="("+n+")":(this.base instanceof h||this.base instanceof l)&&(n="["+n+"]"),n+"^{"+this.exp.tex()+"}"},needsExplicitMul:function(){return!this.isRoot()&&this.base.needsExplicitMul()},expand:function(){var t=this.recurse("expand");if(t.base instanceof c)return new c(r.map(t.base.terms,(function(n){return new u(n,t.exp)}))).expand();if(t.base instanceof o&&t.exp instanceof w&&t.exp.abs().eval()>1){for(var n=t.exp.eval()>0,e=t.exp.abs().eval(),i=function(t){return n?t:new u(t,v.Div)},s={1:t.base},a=2;a<=e;a*=2){var l=new c(s[a/2],s[a/2]);s[a]=l.expand().collect()}if(r.has(s,e))return i(s[e]);var h=r.map(e.toString(2).split(""),(function(t,n,e){return Number(t)*Math.pow(2,e.length-n-1)}));return h=r.without(h,0),i(l=new c(r.pick(s,h)).expand().collect())}return t.exp instanceof o?new c(r.map(t.exp.terms,(function(n){return new u(t.base,n).expand()}))).expand():t},factor:function(){var t=this.recurse("factor");return t.base instanceof c?new c(r.map(t.base.terms,(function(n){return n instanceof w&&t.exp.equals(v.Div)?new x(1,n.n):new u(n,t.exp)}))):t},collect:function(t){if(this.base instanceof u)return new u(this.base.base,s=c.createOrAppend(this.base.exp,this.exp)).collect(t);var n=this.recurse("collect",t),e=function(t){return t instanceof l&&t.base.equals(n.base)};if(n.exp instanceof v&&0===n.exp.eval())return v.One;if(n.exp instanceof v&&1===n.exp.eval())return n.base;if(e(n.exp))return n.exp.power;if(n.exp instanceof c&&r.any(n.exp.terms,e)){var i=r.find(n.exp.terms,e);return new u(i.power,s=n.exp.remove(i).flatten()).collect(t)}if(n.base instanceof v&&n.exp instanceof v){if(t&&t.preciseFloats){var s=n.exp.asRational(),a=n.base.getDecimalPlaces();if(new u(n.base,new x(1,s.d)).collect().getDecimalPlaces()>a){var o=new u(n.base,new w(s.n)).collect();return new u(o,new x(1,s.d))}}return n.base.raiseToThe(n.exp,t)}return n},isDivide:function(){var t=function(t){return t instanceof v&&t.hints.divide};return t(this.exp)||this.exp instanceof c&&r.any(this.exp.terms,t)},asDivide:function(){if(this.exp instanceof v){if(-1===this.exp.eval())return this.base;var t=this.exp.negate();return t.hints=r.clone(this.exp.hints),t.hints.divide=!1,new u(this.base,t)}if(this.exp instanceof c)return new u(this.base,this.exp.factorOut());e("called asDivide() on an Expr that wasn't a Num or Mul")},isRoot:function(){return this.exp instanceof x&&this.exp.hints.root},isSquaredTrig:function(){return this.base instanceof h&&!this.base.isInverse()&&this.exp instanceof v&&2===this.exp.eval()},getDenominator:function(){if(this.exp instanceof v&&-1===this.exp.eval())return c.createOrAppend(this.base,this.base.getDenominator()).flatten();if(this.exp.isNegative()){var t=new u(this.base,c.handleNegative(this.exp).collect());return c.createOrAppend(t,t.collect().getDenominator()).flatten()}return this.base instanceof v?new u(this.base.getDenominator(),this.exp).collect():v.One},findGCD:function(t){var n,e;if(t instanceof u?(n=t.base,e=t.exp):(n=t,e=v.One),this.base.equals(n)){if(this.exp.equals(e))return this;if(this.exp instanceof v&&e instanceof v)return new u(this.base,v.min(this.exp,e)).collect();if(this.exp instanceof v||e instanceof v)return v.One;var r=this.exp.asMul().partition(),i=e.asMul().partition();if(r[1].equals(i[1]))return new u(n,new c(v.min(r[0].reduce(),i[0].reduce()),r[1].flatten()).flatten()).collect()}return v.One},isPositive:function(){if(this.base.isPositive())return!0;var t=this.exp.simplify();return t instanceof w&&t.eval()%2==0},asPositiveFactor:function(){if(this.isPositive())return this;var t=this.exp.simplify();if(t instanceof w){var n=t.eval();if(n>2)return new u(this.base,new w(n-1));if(n<-2)return new u(this.base,new w(n+1))}return v.One}}),r.extend(u,{sqrt:function(t){return new u(t,v.Sqrt)},nthroot:function(t,n){return new u(t,c.fold(c.handleDivide(new w(1),n)).addHint("root"))}}),l.prototype=new s,r.extend(l.prototype,{func:l,args:function(){return[this.base,this.power]},eval:function(t,n){return Math.log(this.power.eval(t,n))/Math.log(this.base.eval(t,n))},codegen:function(){return"(Math.log("+this.power.codegen()+") / Math.log("+this.base.codegen()+"))"},print:function(){var t="("+this.power.print()+")";return this.isNatural()?"ln"+t:"log_("+this.base.print()+") "+t},tex:function(){var t="("+this.power.tex()+")";return this.isNatural()?"\\ln"+t:"\\log_{"+this.base.tex()+"}"+t},collect:function(t){var n=this.recurse("collect",t);return n.power instanceof v&&1===n.power.eval()?v.Zero:n.base.equals(n.power)?v.One:n.power instanceof u&&n.power.base.equals(n.base)?n.power.exp:n},expand:function(){var t=this.recurse("expand");return t.power instanceof c?new o(r.map(t.power.terms,(function(n){return new l(t.base,n).expand()}))):t.power instanceof u?new c(t.power.exp,new l(t.base,t.power.base).expand()).flatten():t.isNatural()?t:c.handleDivide(new l(g.e,t.power),new l(g.e,t.base))},hints:r.extend(l.prototype.hints,{open:!1}),isPositive:function(){var t=this.collect();return t.base instanceof v&&t.power instanceof v&&this.eval()>0},needsExplicitMul:function(){return!1},isNatural:function(){return this.base.equals(g.e)}}),r.extend(l,{natural:function(){return g.e},common:function(){return v.Ten},create:function(t,n){var e=new l(t,n);return n.hints.parens||(e=e.addHint("open")),e}}),h.prototype=new s,r.extend(h.prototype,{func:h,args:function(){return[this.type,this.arg]},functions:{sin:{eval:Math.sin,codegen:"Math.sin((",tex:"\\sin",expand:function(){return this}},cos:{eval:Math.cos,codegen:"Math.cos((",tex:"\\cos",expand:function(){return this}},tan:{eval:Math.tan,codegen:"Math.tan((",tex:"\\tan",expand:function(){return c.handleDivide(h.sin(this.arg),h.cos(this.arg))}},csc:{eval:function(t){return 1/Math.sin(t)},codegen:"(1/Math.sin(",tex:"\\csc",expand:function(){return c.handleDivide(v.One,h.sin(this.arg))}},sec:{eval:function(t){return 1/Math.cos(t)},codegen:"(1/Math.cos(",tex:"\\sec",expand:function(){return c.handleDivide(v.One,h.cos(this.arg))}},cot:{eval:function(t){return 1/Math.tan(t)},codegen:"(1/Math.tan(",tex:"\\cot",expand:function(){return c.handleDivide(h.cos(this.arg),h.sin(this.arg))}},arcsin:{eval:Math.asin,codegen:"Math.asin((",tex:"\\arcsin"},arccos:{eval:Math.acos,codegen:"Math.acos((",tex:"\\arccos"},arctan:{eval:Math.atan,codegen:"Math.atan((",tex:"\\arctan"},arccsc:{eval:function(t){return Math.asin(1/t)},codegen:"Math.asin(1/(",tex:"\\operatorname{arccsc}"},arcsec:{eval:function(t){return Math.acos(1/t)},codegen:"Math.acos(1/(",tex:"\\operatorname{arcsec}"},arccot:{eval:function(t){return Math.atan(1/t)},codegen:"Math.atan(1/(",tex:"\\operatorname{arccot}"},sinh:{eval:function(t){return(Math.exp(t)-Math.exp(-t))/2},codegen:function(t){return"((Math.exp("+t+") - Math.exp(-("+t+"))) / 2)"},tex:"\\sinh",expand:function(){return this}},cosh:{eval:function(t){return(Math.exp(t)+Math.exp(-t))/2},codegen:function(t){return"((Math.exp("+t+") + Math.exp(-("+t+"))) / 2)"},tex:"\\cosh",expand:function(){return this}},tanh:{eval:function(t){return(Math.exp(t)-Math.exp(-t))/(Math.exp(t)+Math.exp(-t))},codegen:function(t){return"((Math.exp("+t+") - Math.exp(-("+t+"))) / (Math.exp("+t+") + Math.exp(-("+t+"))))"},tex:"\\tanh",expand:function(){return c.handleDivide(h.sinh(this.arg),h.cosh(this.arg))}},csch:{eval:function(t){return 2/(Math.exp(t)-Math.exp(-t))},codegen:function(t){return"(2 / (Math.exp("+t+") - Math.exp(-("+t+"))))"},tex:"\\csch",expand:function(){return c.handleDivide(v.One,h.sinh(this.arg))}},sech:{eval:function(t){return 2/(Math.exp(t)+Math.exp(-t))},codegen:function(t){return"(2 / (Math.exp("+t+") + Math.exp(-("+t+"))))"},tex:"\\sech",expand:function(){return c.handleDivide(v.One,h.cosh(this.arg))}},coth:{eval:function(t){return(Math.exp(t)+Math.exp(-t))/(Math.exp(t)-Math.exp(-t))},codegen:function(t){return"((Math.exp("+t+") + Math.exp(-("+t+"))) / (Math.exp("+t+") - Math.exp(-("+t+"))))"},tex:"\\coth",expand:function(){return c.handleDivide(h.cosh(this.arg),h.sinh(this.arg))}}},isEven:function(){return r.contains(["cos","sec"],this.type)},isInverse:function(){return 0===this.type.indexOf("arc")},isBasic:function(){return r.contains(["sin","cos"],this.type)},eval:function(t,n){return(0,this.functions[this.type].eval)(this.arg.eval(t,n))},codegen:function(){var t=this.functions[this.type].codegen;if("function"==typeof t)return t(this.arg.codegen());if("string"==typeof t)return t+this.arg.codegen()+"))";throw new Error("codegen not implemented for "+this.type)},print:function(){return this.type+"("+this.arg.print()+")"},tex:function(t){var n=this.functions[this.type].tex,e="("+this.arg.tex()+")";return t&&t.split?[n,e]:n+e},hints:r.extend(h.prototype.hints,{open:!1}),isPositive:function(){return this.collect().arg instanceof v&&this.eval()>0},completeParse:function(){if(this.exp){var t=new u(this,this.exp);return this.exp=void 0,t}return this},needsExplicitMul:function(){return!1},expand:function(){var t=this.recurse("expand");if(t.isInverse())return t;var n=t.functions[t.type].expand;return r.bind(n,t)()},collect:function(t){var n,e=this.recurse("collect",t);return!e.isInverse()&&e.arg.isNegative()?(n=e.arg instanceof v?e.arg.abs():c.handleDivide(e.arg,v.Neg).collect(t),e.isEven()?new h(e.type,n):new c(v.Neg,new h(e.type,n))):e}}),r.extend(h,{create:function(t,n){var e=t[0],r=t[1];r&&r.equals(v.Neg)&&(e="arc"+e,r=void 0);var i=new h(e,n);return n.hints.parens||(i=i.addHint("open")),r&&(i.exp=r),i},sin:function(t){return new h("sin",t)},cos:function(t){return new h("cos",t)},sinh:function(t){return new h("sinh",t)},cosh:function(t){return new h("cosh",t)}}),f.prototype=new s,r.extend(f.prototype,{func:f,args:function(){return[this.arg]},eval:function(t,n){return Math.abs(this.arg.eval(t,n))},codegen:function(){return"Math.abs("+this.arg.codegen()+")"},print:function(){return"abs("+this.arg.print()+")"},tex:function(){return"\\left|"+this.arg.tex()+"\\right|"},collect:function(t){var n=this.recurse("collect",t);if(n.arg.isPositive())return n.arg;if(n.arg instanceof v)return n.arg.abs();if(n.arg instanceof c){var e=r.groupBy(n.arg.terms,(function(t){return t.isPositive()?"positive":t instanceof v?"number":"other"})),i=e.positive.concat(r.invoke(e.number,"abs"));return e.other.length&&i.push(new f(new c(e.other).flatten())),new c(i).flatten()}return n},expand:function(){var t=this.recurse("expand");return t.arg instanceof c?new c(r.map(t.arg.terms,(function(t){return new f(t)}))):t},isPositive:function(){return!0}}),p.prototype=new s,r.extend(p.prototype,{func:p,args:function(){return[this.left,this.type,this.right]},needsExplicitMul:function(){return!1},print:function(){return this.left.print()+this.type+this.right.print()},signs:{"=":" = ","<":" < ",">":" > ","<>":" \\ne ","<=":" \\le ",">=":" \\ge "},tex:function(){return this.left.tex()+this.signs[this.type]+this.right.tex()},normalize:function(){var t=this.recurse("normalize");return r.contains([">",">="],t.type)?new p(t.right,t.type.replace(">","<"),t.left):t},asExpr:function(t){var n=function(t){return t instanceof v&&t.isSimple()&&0===t.eval()},e=[];this.left instanceof o?e=r.clone(this.left.terms):n(this.left)||(e=[this.left]),this.right instanceof o?e=e.concat(this.right.negate().terms):n(this.right)||e.push(this.right.negate());var i=!this.isEquality();e=r.invoke(e,"collect",{preciseFloats:!0});for(var s=0;s<e.length;s++){var a=e[s].getDenominator();i&&!a.isPositive()&&(a=a.asPositiveFactor()),a.equals(v.One)||(e=r.map(e,(function(t){return c.createOrAppend(t,a).simplify({once:!0,preciseFloats:!0})})))}var u=new o(e).flatten();return t?u:this.divideThrough(u)},divideThrough:function(t){var n=!this.isEquality(),e=t.simplify({once:!0}),i=e.factor({keepNegative:n});if(!(i instanceof c))return t;var s=i.terms,a=r.groupBy(s,(function(t){return t instanceof o})),l=a[!0]||[],h=a[!1]||[];if(l.length&&this.isEquality())return new c(l).flatten();var f=h;l.length||(f=r.reject(f,(function(t){return!!t.getVars().length}))),n&&(f=r.invoke(f,"asPositiveFactor")),f=r.reject(f,(function(t){return t.equals(v.One)})),f=r.map(f,(function(t){return new u(t,v.Div)}));var p=new c(s.concat(f)).collect();return p.equals(i)?e:p},isEquality:function(){return r.contains(["=","<>"],this.type)},compare:function(t){if(!(t instanceof p))return!1;var n=this.normalize(),e=t.normalize();if(n.type!==e.type)return!1;var r=n.divideThrough(n.asExpr(!0).collect()),i=e.divideThrough(e.asExpr(!0).collect());return n.isEquality()?r.compare(i)||r.compare(c.handleNegative(i)):r.compare(i)},sameForm:function(t){var n=this.normalize(),e=t.normalize(),r=n.left.sameForm(e.left)&&n.right.sameForm(e.right);return n.isEquality()?r||n.left.sameForm(e.right)&&n.right.sameForm(e.left):r},isSimplified:function(){var t=this.asExpr(!0),n=this.divideThrough(t).simplify();return t.equals(n)&&this.left.isSimplified()&&this.right.isSimplified()}}),r.extend(p.prototype,{solveLinearEquationForVariable:function(t){var n=this.asExpr();if(!n.is(o)||2!==n.terms.length)throw new Error("Can only handle linear equations of the form a + bx (= 0)");var e,i,s;return(s=n.terms[0]).has(m)&&r.contains(s.getVars(),t.symbol)?(e=c.handleNegative(n.terms[1]),i=c.handleDivide(n.terms[0],t)):(e=c.handleNegative(n.terms[0]),i=c.handleDivide(n.terms[1],t)),c.handleDivide(e,i).simplify()}}),d.prototype=new s,r.extend(d.prototype,{needsExplicitMul:function(){return!1},findGCD:function(t){return t instanceof d||t instanceof v?this.equals(t)?this:v.One:t.findGCD(this)}}),y.prototype=new d,r.extend(y.prototype,{func:y,args:function(){return[this.symbol,this.arg]},print:function(){return this.symbol+"("+this.arg.print()+")"},tex:function(){return this.symbol+"("+this.arg.tex()+")"},eval:function(n,e){var i=this.arg,s=n[this.symbol],a=r.extend(r.clone(n),{x:i.eval(n,e)}),o=t.parse(s,e);return o.parsed?o.expr.eval(a,e):o},codegen:function(){return'vars["'+this.symbol+'"]('+this.arg.codegen()+")"},getUnits:function(){return this.arg.getUnits()},getVars:function(t){return t?this.arg.getVars():r.union(this.arg.getVars(),[this.symbol]).sort()},getConsts:function(){return this.arg.getConsts()}}),m.prototype=new d,r.extend(m.prototype,{func:m,args:function(){return[this.symbol,this.subscript]},exprArgs:function(){return[]},recurse:function(){return this},print:function(){var t="";return this.subscript&&(t="_("+this.subscript.print()+")"),this.symbol+t},prettyPrint:function(){var t=this.subscript;return t&&(t instanceof v||t instanceof d)?this.symbol+"_"+t.print():this.print()},tex:function(){var t="";return this.subscript&&(t="_{"+this.subscript.tex()+"}"),(this.symbol.length>1?"\\":"")+this.symbol+t},repr:function(){return"Var("+this.print()+")"},eval:function(t,n){return t[this.prettyPrint()]},codegen:function(){return'vars["'+this.prettyPrint()+'"]'},getVars:function(){return[this.prettyPrint()]},isPositive:function(){return!1}}),g.prototype=new d,r.extend(g.prototype,{func:g,args:function(){return[this.symbol]},recurse:function(){return this},eval:function(t,n){return"pi"===this.symbol?Math.PI:"e"===this.symbol?Math.E:void 0},codegen:function(){return"pi"===this.symbol?"Math.PI":"e"===this.symbol?"Math.E":void 0},print:function(){return this.symbol},tex:function(){return"pi"===this.symbol?"\\pi ":"e"===this.symbol?"e":void 0},isPositive:function(){return this.eval()>0},abs:function(){return this.eval()>0?this:c.handleNegative(this)},getConsts:function(){return[this.print()]}}),g.e=new g("e"),g.pi=new g("pi"),v.prototype=new s,r.extend(v.prototype,{repr:function(){return this.print()},strip:function(){return this.abs()},recurse:function(){return this},codegen:function(){return this.print()},add:n,mul:n,negate:n,isSubtract:function(){return this.hints.subtract},abs:n,needsExplicitMul:function(){return!0},findGCD:n,isPositive:function(){return this.eval()>0},isNegative:function(){return this.eval()<0},asPositiveFactor:function(){return this.isPositive()?this:this.abs()},hints:r.extend(v.prototype.hints,{negate:!1,subtract:!1,divide:!1,root:!1,fraction:!1,entered:!1}),isSimple:n,getDecimalPlaces:function(){var t=(""+this.n).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0},asRational:n}),x.prototype=new v,r.extend(x.prototype,{func:x,args:function(){return[this.n,this.d]},eval:function(){return this.n/this.d},print:function(){return this.n.toString()+"/"+this.d.toString()},tex:function(){var t="\\frac{"+Math.abs(this.n).toString()+"}{"+this.d.toString()+"}";return this.n<0?"-"+t:t},add:function(t,n){return t instanceof x?new x(this.n*t.d+this.d*t.n,this.d*t.d).collect():t.add(this,n)},mul:function(t,n){return t instanceof x?new x(this.n*t.n,this.d*t.d).collect():t.mul(this,n)},collect:function(){var t=v.findGCD(this.n,this.d),n=this.n/t,e=this.d/t;return 1===e?new w(n):new x(n,e)},negate:function(){return new x(-this.n,this.d)},abs:function(){return new x(Math.abs(this.n),this.d)},findGCD:function(t){return t instanceof x?new x(v.findGCD(this.n*t.d,t.n*this.d),this.d*t.d).collect():t instanceof w?new x(v.findGCD(this.n,t.n),this.d):t.findGCD(this)},raiseToThe:function(t){if(t instanceof w){var n=t.eval()>0,e=t.abs().eval(),r=Math.pow(this.n,e),i=Math.pow(this.d,e);return n?new x(r,i).collect():new x(i,r).collect()}return new b(this.eval()).raiseToThe(t)},getDenominator:function(){return new w(this.d)},isSimple:function(){return!1},asRational:function(){return this}}),w.prototype=new x(0,1),r.extend(w.prototype,{func:w,args:function(){return[this.n]},print:function(){return this.n.toString()},tex:function(){return this.n.toString()},negate:function(){return new w(-this.n)},abs:function(){return new w(Math.abs(this.n))},isSimple:function(){return!0},findGCD:function(t){return t instanceof w?new w(v.findGCD(this.n,t.n)):t.findGCD(this)}}),r.extend(w,{create:function(t){return new w(t).addHint("entered")}}),b.prototype=new v,r.extend(b.prototype,{func:b,args:function(){return[this.n]},eval:function(){return this.n},print:function(){return this.n.toString()},tex:function(){return this.n.toString()},add:function(t,n){return n&&n.preciseFloats?b.toDecimalPlaces(this.n+t.eval(),Math.max(this.getDecimalPlaces(),t.getDecimalPlaces())):new b(this.n+t.eval()).collect()},mul:function(t,n){return n&&n.preciseFloats?b.toDecimalPlaces(this.n*t.eval(),this.getDecimalPlaces()+t.getDecimalPlaces()):new b(this.n*t.eval()).collect()},collect:function(){return this},negate:function(){return new b(-this.n)},abs:function(){return new b(Math.abs(this.n))},findGCD:function(t){return t instanceof v?new b(v.findGCD(this.eval(),t.eval())).collect():t.findGCD(this)},raiseToThe:function(t,n){return n&&n.preciseFloats&&t instanceof w&&t.n>1?b.toDecimalPlaces(new u(this,t).eval(),this.getDecimalPlaces()*t.n):new b(new u(this,t).eval()).collect()},asRational:function(){var t=this.n.toString().split(".");return 1===t.length?new x(this.n,1):new x(Number(t.join("")),Math.pow(10,t[1].length)).collect()},getDenominator:function(){return this.asRational().getDenominator()},isSimple:function(){return!0}}),r.extend(b,{create:function(t){return new b(t).addHint("entered")},toDecimalPlaces:function(t,n){return new b(+t.toFixed(Math.min(n,20))).collect()}}),r.extend(v,{negativeOne:function(t){return"subtract"===t?v.Sub:"divide"===t?v.Div:v.Neg},findGCD:function(t,n){var e;if(t=Math.abs(t),n=Math.abs(n),t!==Math.floor(t)||n!==Math.floor(n))return 1;for(;n;)e=t%n,t=n,n=e;return t},min:function(){return r.min(r.toArray(arguments),(function(t){return t.eval()}))},max:function(){return r.max(r.toArray(arguments),(function(t){return t.eval()}))}}),v.Neg=new w(-1).addHint("negate"),v.Sub=new w(-1).addHint("subtract"),v.Div=new w(-1).addHint("divide"),v.Sqrt=new x(1,2).addHint("root"),v.Zero=new w(0),v.One=new w(1),v.Ten=new w(10),o.prototype.identity=v.Zero,c.prototype.identity=v.One;var k=t.parser;function _(t){this.symbol=t}k.yy={Add:o,Mul:c,Pow:u,Log:l,Trig:h,Eq:p,Abs:f,Func:y,Const:g,Var:m,Int:w,Float:b,parseError:function(t,n){throw new Error(n.loc.first_column)},constants:["e"],symbolLexer:function(t){return r.contains(k.yy.constants,t)?"CONST":r.contains(k.yy.functions,t)?"FUNC":"VAR"}},t.parse=function(t,n){try{return n&&n.functions?k.yy.functions=r.without(n.functions,"i"):k.yy.functions=[],n&&n.decimal_separator&&(t=t.split(n.decimal_separator).join(".")),{parsed:!0,expr:k.parse(t).completeParse()}}catch(t){return{parsed:!1,error:t.message}}},_.prototype=new d;var M=function(t){if(r(E).has(t)||r(I).has(t))return new _(t);var n=r(r(S).keys()).find((function(n){return new RegExp("^"+n).test(t)}));if(n){var e=t.replace(new RegExp("^"+n),"");if(r(E).has(e)||I[e]&&I[e].prefixes===T)return new c(S[n],new _(e));throw new Error(e+" does not allow prefixes")}return new _(t)};t.unitParse=function(n){try{var e=t.unitParser.parse(n),i=[];r(e.unit.num).each((function(t){i.push(new u(M(t.name),new w(t.pow)))})),r(e.unit.denom).each((function(t){i.push(new u(M(t.name),new w(-1*t.pow)))}));var s=new c(i).flatten();return"unitMagnitude"===e.type?{parsed:!0,unit:s,expr:new c([new b(+e.magnitude)].concat(i)),coefficient:e.magnitude,type:e.type}:{parsed:!0,unit:s,type:e.type}}catch(t){return{parsed:!1,error:t.message}}},r.extend(_.prototype,{func:_,args:function(){return[this.symbol]},recurse:function(){return this},eval:function(t,n){return 1},getUnits:function(){return[{unit:this.symbol,pow:1}]},codegen:function(){return"1"},print:function(){return this.symbol},tex:function(){return this.symbol},collect:function(t){if(r(E).has(this.symbol))return this;if(r(I).has(this.symbol))return I[this.symbol].conversion;throw new Error("could not understand unit: "+this.symbol)}});var E={m:new _("m"),g:new _("g"),s:new _("s"),A:new _("A"),K:new _("K"),mol:new _("mol"),cd:new _("cd")},S={a:new u(new w(10),new w(-18)),f:new u(new w(10),new w(-15)),p:new u(new w(10),new w(-12)),n:new u(new w(10),new w(-9)),u:new u(new w(10),new w(-6)),m:new u(new w(10),new w(-3)),c:new u(new w(10),new w(-2)),d:new u(new w(10),new w(-1)),da:new w(10),h:new u(new w(10),new w(2)),k:new u(new w(10),new w(3)),M:new u(new w(10),new w(6)),G:new u(new w(10),new w(9)),T:new u(new w(10),new w(12)),P:new u(new w(10),new w(15)),E:new u(new w(10),new w(18)),hella:new u(new w(10),new w(27))},T={},A={},P=function(n,e){var r=n.split("|"),i=r[0].trim(),s=r[1].trim(),a=v.One;""!==i&&(a=t.parse(i).expr);var o=s.split("/"),l=[a];return o[0]&&o[0].split(" ").filter((function(t){return""!==t})).map((function(t){l.push(new _(t))})),o[1]&&o[1].split(" ").filter((function(t){return""!==t})).map((function(t){l.push(new u(new _(t),v.Div))})),{conversion:new c(l),prefixes:e}},I={Da:P("1.6605388628 x 10^-24 | g",T),u:P("| Da",A),meter:P("| m",A),meters:P("| m",A),in:P("254 / 10000 | m",A),ft:P("3048  / 10000 | m",A),yd:P("9144  / 10000 | m",A),mi:P("1609344 / 1000 | m",A),ly:P("9.4607 x 10^15 | m",A),nmi:P("1852 | m",A),Å:P("10^-10 | m",A),pc:P("3.0857 x 10^16 | m",A),min:P("60 | s",A),hr:P("3600 | s",A),sec:P("| s",A),day:P("86400 | s",A),wk:P("604800 | s",A),fortnight:P("14 | day",A),shake:P("10^-8 | s",A),olympiad:P("126200000 | s",A),"°C":P("1 | K",A),"°F":P("5/9 | K",A),"°R":P("5/9 | K",A),e:P("1.6021765314 x 10^-19 | C",A),c:P("299792458 | m / s",A),kn:P("514/1000 | m / s",A),kt:P("| kn",A),knot:P("| kn",A),J:P("| N m",T),BTU:P("1060 | J",A),cal:P("4184 / 1000 | J",T),eV:P("1.602176514 x 10^-19 | J",T),erg:P("10^−7 | J",T),W:P("| J / s",T),"H-e":P("80 | W",A),N:P("1000 | g m / s s",T),lb:P("4448221615 / 1000000000 | N",A),dyn:P("10^-5 | N",A),Pa:P("1 | N / m m m",T),bar:P("10^5 | Pa",T),"㏔":P("1/1000 | bar",A),"㍴":P("| bar",A),atm:P("101325 | Pa",A),Torr:P("1/760 | atm",A),mmHg:P("| Torr",A),ha:P("10^4 | m m",A),b:P("10^−28 | m m",T),barn:P("| b",T),acre:P("4046.87 | m m",A),skilodge:P("10^-31 | m m",A),outhouse:P("10^-34 | m m",A),shed:P("10^-52 | m m",A),L:P("1/1000 | m m m",T),gal:P("3785/1000 | L",T),cup:P("1/16 | gal",A),qt:P("1/4 | gal",A),quart:P("| qt",A),p:P("1/8 | gal",A),pt:P("| p",A),pint:P("| p",A),"fl oz":P("1/8 | cup",A),"fl. oz.":P("1/8 | cup",A),tbsp:P("1/16 | cup",A),tsp:P("1/3 | tbsp",A),rev:P("2 pi | rad",A),deg:P("180 pi | rad",A),"°":P("| deg",A),arcminute:P("1/60 | deg",A),arcsec:P("1/3600 | deg",A),Hu:P("1000 | dB",T),dozen:P("12 |",A),mol:P("6.0221412927 x 10^23 |",T),"%":P("1/100 |",A),percent:P("| %",A),ppm:P("1/1000000 |",A),V:P("1000 | g m m / s s C",T),C:P("| A s",T),ampere:P("| A",A),Ω:P("| V / A",T),ohm:P("| Ω",A),F:P("| C / V",T),H:P("| ohm s",T),T:P("1000 | g / C s",T),Wb:P("1000 | g m m / C s",T),lm:P("pi x 10^4 | cd / m m",A),lx:P("| lm / m m",A),nit:P("| cd / m m",A),sb:P("10^4 | cd / m m",A),stilb:P("1 | sb",A),apostilb:P("1 / pi x 10^(-4) | sb",A),blondel:P("| apostilb",A),asb:P("| apostilb",A),la:P("| lm",A),Lb:P("| lm",A),sk:P("10^-7 | lm",A),skot:P("| sk",A),bril:P("10^-11 | lm",A),Hz:P("| / s",T)};t.Add=o,t.Mul=c,t.Pow=u,t.Log=l,t.Eq=p,t.Trig=h,t.Abs=f,t.Func=y,t.Var=m,t.Const=g,t.Unit=_,t.Rational=x,t.Int=w,t.Float=b,t.Zero=v.Zero,t.One=v.One}(i),function(t){t.compare=function(t,n,e){var i={form:!1,simplify:!1};e=void 0!==e?r.extend(i,e):i;var s,a=t.sameVars(n);return a.equal?t.compare(n)?e.form&&!t.sameForm(n)?{equal:!1,message:"Your answer is not in the correct form."}:e.simplify&&!t.isSimplified()?{equal:!1,message:"Your answer is not fully expanded and simplified."}:{equal:!0,message:null}:{equal:!1,message:null}:(s=a.equalIgnoringCase?"Check your variables; one or more are using the wrong case (upper or lower).":"Check your variables; you may have used the wrong letter for one or more of them.",{equal:!1,wrongVariableCase:a.equalIgnoringCase,wrongVariableNames:!a.equalIgnoringCase,message:s})}}(i)},"wk+a":function(t,n,e){(function(n){!function(){var e,r,i,s,a,o,c,u,l,h,f,p=/\r\n?/g,d=/\t/g,y=/\f/g,m=function(t){return t.replace(p,"\n").replace(y,"").replace(d,"    ")},g=function(t){var n=Object.keys(t);n.forEach((function(n){var e=t[n].order;"number"==typeof e&&isFinite(e)||"undefined"==typeof console||console.warn("simple-markdown: Invalid order for rule `"+n+"`: "+e)})),n.sort((function(n,e){var r=t[n],i=t[e],s=r.order,a=i.order;if(s!==a)return s-a;var o=r.quality?0:1,c=i.quality?0:1;return o!==c?o-c:n<e?-1:n>e?1:0}));var e=function(r,i){var s=[];i=i||{};for(var a="";r;){var o=null,c=null,u=null,l=NaN,h=0,f=n[0],p=t[f];do{var d=p.order,y=p.match(r,i,a);if(y){var m=p.quality?p.quality(y,i,a):0;m<=l||(o=f,c=p,u=y,l=m)}h++,f=n[h],p=t[f]}while(p&&(!u||p.order===d&&p.quality));if(!u)throw new Error("could not find rule to match content: "+r);var g=c.parse(u,e,i);Array.isArray(g)?Array.prototype.push.apply(s,g):(null==g.type&&(g.type=o),s.push(g)),a=u[0],r=r.substring(a.length)}return s};return function(t,n){return e(m(t),n)}},v=function(t){var n=function(n,e){return e.inline?t.exec(n):null};return n.regex=t,n},x=function(t){var n=function(n,e){return e.inline?null:t.exec(n)};return n.regex=t,n},w=function(t){var n=function(n,e){return t.exec(n)};return n.regex=t,n},b=function(t){var n=function(e,r){if(r=r||{},Array.isArray(e)){for(var i=r.key,s=[],a=!1,o=0;o<e.length;o++){r.key=""+o;var c=n(e[o],r),u="string"==typeof c;u&&a?s[s.length-1]+=c:s.push(c),a=u}return r.key=i,s}return t(e,n,r)};return n},k=function(t){var n=function(e,r){return r=r||{},Array.isArray(e)?e.map((function(t){return n(t,r)})).join(""):t(e,n,r)};return n},_="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,M=function(t,n,e){return{$$typeof:_,type:t,key:n,ref:null,props:e,_owner:null}},E=function(t,n,e,r){e=e||{},r=void 0===r||r;var i="";for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&e[s]&&(i+=" "+s+'="'+e[s]+'"');var a="<"+t+i+">";return r?a+n+"</"+t+">":a},S={},T=function(t){if(null==t)return null;try{if(0===decodeURIComponent(t).replace(/[^A-Za-z0-9/:]/g,"").toLowerCase().indexOf("javascript:"))return null}catch(t){return null}return t},A=/\\([^0-9A-Za-z\s])/g,P=function(t){return t.replace(A,"$1")},I=function(t,n,e){var r=e.inline||!1;e.inline=!0;var i=t(n,e);return e.inline=r,i},N=function(t,n,e){return{content:I(n,t[1],e)}},D=function(){return{}},O="(?:[*+-]|\\d+\\.)",q="( *)((?:[*+-]|\\d+\\.)) +",R=new RegExp("^"+q),F=new RegExp(q+"[^\\n]*(?:\\n(?!\\1"+O+" )[^\\n]*)*(\n|$)","gm"),$=/\n{2,}$/,C=$,G=/ *\n+$/,L=new RegExp("^( *)((?:[*+-]|\\d+\\.)) [\\s\\S]+?(?:\n{2,}(?! )(?!\\1(?:[*+-]|\\d+\\.) )\\n*|\\s*\n*$)"),z=/(?:^|\n)( *)$/,V=(e=/^ *| *\| *$/g,r=/\n+$/,i=/^ *\| *| *\| *$/g,s=/^ *| *$/g,a=/ *\| */,o=/^ *-+: *$/,c=/^ *:-+: *$/,u=/^ *:-+ *$/,l=function(t){return o.test(t)?"right":c.test(t)?"center":u.test(t)?"left":null},h=function(t,n,e,r){return n[1].replace(t,"").split(a).map((function(t){return e(t,r)}))},f=function(t,n,e,r){return n[2].replace(t,"").split(a).map(l)},{parseTable:function(t,n,s){s.inline=!0;var o=h(e,t,n,s),c=f(e,t),u=function(t,n,e){return t[3].replace(r,"").split("\n").map((function(t){return t.replace(i,"").split(a).map((function(t){return n(t,e)}))}))}(t,n,s);return s.inline=!1,{type:"table",header:o,align:c,cells:u}},parseNpTable:function(t,n,e){e.inline=!0;var i=h(s,t,n,e),o=f(s,t),c=function(t,n,e){return t[3].replace(r,"").split("\n").map((function(t){return t.split(a).map((function(t){return n(t,e)}))}))}(t,n,e);return e.inline=!1,{type:"table",header:i,align:o,cells:c}},NPTABLE_REGEX:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/}),j="(?:\\[[^\\]]*\\]|[^\\[\\]]|\\](?=[^\\[]*\\]))*",U="\\s*<?((?:[^\\s\\\\]|\\\\.)*?)>?(?:\\s+['\"]([\\s\\S]*?)['\"])?\\s*",H=/mailto:/i,B=function(t,n,e){var r=(t[2]||t[1]).replace(/\s+/g," ").toLowerCase();if(n._defs&&n._defs[r]){var i=n._defs[r];e.target=i.target,e.title=i.title}return n._refs=n._refs||{},n._refs[r]=n._refs[r]||[],n._refs[r].push(e),e},Z={heading:{match:x(/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n *)+\n/),parse:function(t,n,e){return{level:t[1].length,content:I(n,t[2],e)}},react:function(t,n,e){return M("h"+t.level,e.key,{children:n(t.content,e)})},html:function(t,n,e){return E("h"+t.level,n(t.content,e))}},nptable:{match:x(V.NPTABLE_REGEX),regex:V.NPTABLE_REGEX,parse:V.parseNpTable},lheading:{match:x(/^([^\n]+)\n *(=|-){3,} *(?:\n *)+\n/),parse:function(t,n,e){return{type:"heading",level:"="===t[2]?1:2,content:I(n,t[1],e)}}},hr:{match:x(/^( *[-*_]){3,} *(?:\n *)+\n/),parse:D,react:function(t,n,e){return M("hr",e.key,S)},html:function(t,n,e){return"<hr>"}},codeBlock:{match:x(/^(?:    [^\n]+\n*)+(?:\n *)+\n/),parse:function(t,n,e){return{lang:void 0,content:t[0].replace(/^    /gm,"").replace(/\n+$/,"")}},react:function(t,n,e){var r=t.lang?"markdown-code-"+t.lang:void 0;return M("pre",e.key,{children:M("code",null,{className:r,children:t.content})})},html:function(t,n,e){var r=t.lang?"markdown-code-"+t.lang:void 0,i=E("code",t.content,{class:r});return E("pre",i)}},fence:{match:x(/^ *(`{3,}|~{3,}) *(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n *)+\n/),parse:function(t,n,e){return{type:"codeBlock",lang:t[2]||void 0,content:t[3]}}},blockQuote:{match:x(/^( *>[^\n]+(\n[^\n]+)*\n*)+\n{2,}/),parse:function(t,n,e){return{content:n(t[0].replace(/^ *> ?/gm,""),e)}},react:function(t,n,e){return M("blockquote",e.key,{children:n(t.content,e)})},html:function(t,n,e){return E("blockquote",n(t.content,e))}},list:{match:function(t,n,e){var r=z.exec(e),i=n._list||!n.inline;if(r&&i){t=r[1]+t;L.exec(t);return L.exec(t)}return null},parse:function(t,n,e){var r=t[2],i=r.length>1,s=i?+r:void 0,a=t[0].replace(C,"\n").match(F),o=!1;return{ordered:i,start:s,items:a.map((function(t,r){var i=R.exec(t)[0].length,s=new RegExp("^ {1,"+i+"}","gm"),c=t.replace(s,"").replace(R,""),u=r===a.length-1,l=-1!==c.indexOf("\n\n")||u&&o;o=l;var h,f=e.inline,p=e._list;e._list=!0,l?(e.inline=!1,h=c.replace(G,"\n\n")):(e.inline=!0,h=c.replace(G,""));var d=n(h,e);return e.inline=f,e._list=p,d}))}},react:function(t,n,e){var r=t.ordered?"ol":"ul";return M(r,e.key,{start:t.start,children:t.items.map((function(t,r){return M("li",""+r,{children:n(t,e)})}))})},html:function(t,n,e){var r=t.items.map((function(t){return E("li",n(t,e))})).join(""),i=t.ordered?"ol":"ul",s={start:t.start};return E(i,r,s)}},def:{match:x(/^ *\[([^\]]+)\]: *<?([^\s>]*)>?(?: +["(]([^\n]+)[")])? *\n(?: *\n)?/),parse:function(t,n,e){var r=t[1].replace(/\s+/g," ").toLowerCase(),i=t[2],s=t[3];return e._refs&&e._refs[r]&&e._refs[r].forEach((function(t){t.target=i,t.title=s})),e._defs=e._defs||{},e._defs[r]={target:i,title:s},{def:r,target:i,title:s}},react:function(){return null},html:function(){return""}},table:{match:x(/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/),parse:V.parseTable,react:function(t,n,e){var r=function(n){return null==t.align[n]?{}:{textAlign:t.align[n]}},i=t.header.map((function(t,i){return M("th",""+i,{style:r(i),scope:"col",children:n(t,e)})})),s=t.cells.map((function(t,i){return M("tr",""+i,{children:t.map((function(t,i){return M("td",""+i,{style:r(i),children:n(t,e)})}))})}));return M("table",e.key,{children:[M("thead","thead",{children:M("tr",null,{children:i})}),M("tbody","tbody",{children:s})]})},html:function(t,n,e){var r=function(n){return null==t.align[n]?"":"text-align:"+t.align[n]+";"},i=t.header.map((function(t,i){return E("th",n(t,e),{style:r(i),scope:"col"})})).join(""),s=t.cells.map((function(t){var i=t.map((function(t,i){return E("td",n(t,e),{style:r(i)})})).join("");return E("tr",i)})).join(""),a=E("thead",E("tr",i)),o=E("tbody",s);return E("table",a+o)}},newline:{match:x(/^(?:\n *)*\n/),parse:D,react:function(t,n,e){return"\n"},html:function(t,n,e){return"\n"}},paragraph:{match:x(/^((?:[^\n]|\n(?! *\n))+)(?:\n *)+\n/),parse:N,react:function(t,n,e){return M("div",e.key,{className:"paragraph",children:n(t.content,e)})},html:function(t,n,e){return E("div",n(t.content,e),{class:"paragraph"})}},escape:{match:v(/^\\([^0-9A-Za-z\s])/),parse:function(t,n,e){return{type:"text",content:t[1]}}},autolink:{match:v(/^<([^ >]+:\/[^ >]+)>/),parse:function(t,n,e){return{type:"link",content:[{type:"text",content:t[1]}],target:t[1]}}},mailto:{match:v(/^<([^ >]+@[^ >]+)>/),parse:function(t,n,e){var r=t[1],i=t[1];return H.test(i)||(i="mailto:"+i),{type:"link",content:[{type:"text",content:r}],target:i}}},url:{match:v(/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/),parse:function(t,n,e){return{type:"link",content:[{type:"text",content:t[1]}],target:t[1],title:void 0}}},link:{match:v(new RegExp("^\\[("+j+")\\]\\("+U+"\\)")),parse:function(t,n,e){return{content:n(t[1],e),target:P(t[2]),title:t[3]}},react:function(t,n,e){return M("a",e.key,{href:T(t.target),title:t.title,children:n(t.content,e)})},html:function(t,n,e){var r={href:T(t.target),title:t.title};return E("a",n(t.content,e),r)}},image:{match:v(new RegExp("^!\\[("+j+")\\]\\("+U+"\\)")),parse:function(t,n,e){return{alt:t[1],target:P(t[2]),title:t[3]}},react:function(t,n,e){return M("img",e.key,{src:T(t.target),alt:t.alt,title:t.title})},html:function(t,n,e){var r={src:T(t.target),alt:t.alt,title:t.title};return E("img","",r,!1)}},reflink:{match:v(new RegExp("^\\[("+j+")\\]\\s*\\[([^\\]]*)\\]")),parse:function(t,n,e){return B(t,e,{type:"link",content:n(t[1],e)})}},refimage:{match:v(new RegExp("^!\\[("+j+")\\]\\s*\\[([^\\]]*)\\]")),parse:function(t,n,e){return B(t,e,{type:"image",alt:t[1]})}},em:{match:v(new RegExp("^\\b_((?:__|\\\\[\\s\\S]|[^\\\\_])+?)_\\b|^\\*(?=\\S)((?:\\*\\*|\\s+(?:[^\\*\\s]|\\*\\*)|[^\\s\\*])+?)\\*(?!\\*)")),quality:function(t){return t[0].length+.2},parse:function(t,n,e){return{content:n(t[2]||t[1],e)}},react:function(t,n,e){return M("em",e.key,{children:n(t.content,e)})},html:function(t,n,e){return E("em",n(t.content,e))}},strong:{match:v(/^\*\*([\s\S]+?)\*\*(?!\*)/),quality:function(t){return t[0].length+.1},parse:N,react:function(t,n,e){return M("strong",e.key,{children:n(t.content,e)})},html:function(t,n,e){return E("strong",n(t.content,e))}},u:{match:v(/^__([\s\S]+?)__(?!_)/),quality:function(t){return t[0].length},parse:N,react:function(t,n,e){return M("u",e.key,{children:n(t.content,e)})},html:function(t,n,e){return E("u",n(t.content,e))}},del:{match:v(/^~~(?=\S)([\s\S]*?\S)~~/),parse:N,react:function(t,n,e){return M("del",e.key,{children:n(t.content,e)})},html:function(t,n,e){return E("del",n(t.content,e))}},inlineCode:{match:v(/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/),parse:function(t,n,e){return{content:t[2]}},react:function(t,n,e){return M("code",e.key,{children:t.content})},html:function(t,n,e){return E("code",t.content)}},br:{match:w(/^ {2,}\n/),parse:D,react:function(t,n,e){return M("br",e.key,S)},html:function(t,n,e){return"<br>"}},text:{match:v(/^[\s\S]+?(?=[^0-9A-Za-z\s\u00c0-\uffff]|\n\n| {2,}\n|\w+:\S|$)/),parse:function(t,n,e){return{content:t[0]}},react:function(t,n,e){return t.content},html:function(t,n,e){return t.content}}};Object.keys(Z).forEach((function(t,n){Z[t].order=n})),Z.strong.order=Z.em.order=Z.u.order;var J=function(t,n){n||"undefined"==typeof console||console.warn("simple-markdown ruleOutput should take 'react' or 'html' as the second argument."),n=n||"react";return function(e,r,i){return t[e.type][n](e,r,i)}},K=g(Z),W=function(t){return K(t,{inline:!$.test(t)})},Y=b(J(Z,"react")),X=k(J(Z,"html")),Q={defaultRules:Z,parserFor:g,ruleOutput:J,reactFor:b,htmlFor:k,inlineRegex:v,blockRegex:x,anyScopeRegex:w,parseInline:I,parseBlock:function(t,n,e){var r=e.inline||!1;e.inline=!1;var i=t(n+"\n\n",e);return e.inline=r,i},defaultRawParse:K,defaultBlockParse:function(t){return K(t+"\n\n",{inline:!1})},defaultInlineParse:function(t){return K(t,{inline:!0})},defaultImplicitParse:W,defaultReactOutput:Y,defaultHtmlOutput:X,preprocess:m,sanitizeUrl:T,unescapeUrl:P,defaultParse:W,outputFor:b,defaultOutput:Y};t.exports?t.exports=Q:void 0!==n?n.SimpleMarkdown=Q:window.SimpleMarkdown=Q}()}).call(this,e("yLpj"))}}]);
//# sourceMappingURL=../../sourcemaps/en/AT8H.422c07dd063c47af938c.js.map