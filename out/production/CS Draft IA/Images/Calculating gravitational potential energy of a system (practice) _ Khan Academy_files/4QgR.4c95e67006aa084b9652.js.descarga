(window.webpackJsonp=window.webpackJsonp||[]).push([["4QgR"],{N9Ym:function(e,t,n){"use strict";var o=n("284h"),r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("lSNA")),s=o(n("q1tI")),a=r(n("17x9")),l=n("mR6N"),d=r(n("hKI/")),c=o(n("6OHE")),u=r(n("6wxr"));const h=[c.colors.gray17,c.domainColors("partner-content").domain1,c.domainColors("humanities").domain1,c.domainColors("computing").domain2,c.domainColors("math").domain1,c.domainColors("economics-finance-domain").domain2,c.domainColors("science").domain1,c.domainColors("test-prep").domain1],m={path:"M12.586 1.586a2 2 0 0 1 2.828 0l7 7a2 2 0 0 1 0 2.828l-9 9\n        A2 2 0 0 1 12 21H8a2 2 0 0 1-1.414-.586l-5-5a2 2 0 0 1 0-2.828l11-11z\n        M3 14l5 5h4l9-9-7-7L3 14zm4-4l7-7 7 7-7 7-7-7z",width:24,height:24},f=s.createElement("svg",{width:"100%",height:"100%",opacity:"0.1",xmlns:"http://www.w3.org/2000/svg"},s.createElement("defs",null,s.createElement("pattern",{id:"smallGrid",width:"18",height:"18",patternUnits:"userSpaceOnUse"},s.createElement("path",{d:"M 0 8.5 L 18 8.5 M 8.5 0 L 8.5 18",strokeDasharray:"1, 1",fill:"none",stroke:"#000",opacity:"0.5",strokeWidth:"1"})),s.createElement("pattern",{id:"grid",width:"18",height:"18",patternUnits:"userSpaceOnUse"},s.createElement("rect",{width:"18",height:"18",fill:"url(#smallGrid)"}),s.createElement("path",{d:"M 6 8.5 L 11 8.5 M 8.5 6 L 8.5 11",fill:"none",stroke:"#000",strokeWidth:"1"}))),s.createElement("rect",{width:"100%",height:"100%",fill:"url(#grid)"}));class p extends s.Component{componentDidMount(){this.context.onAreaMount(this.refs.drawing)}render(){return s.createElement("div",{className:(0,l.css)(this.props.style),ref:"drawing"},s.createElement("div",{className:(0,l.css)(C.drawingBackground)},f))}}(0,i.default)(p,"contextTypes",{onAreaMount:a.default.func.isRequired});class g extends s.Component{render(){const e=this.context.erasing;return s.createElement("div",{className:(0,l.css)(C.controls,this.props.useVerticalLayout&&C.controlsVertical)},s.createElement("div",{className:(0,l.css)(C.colorControls)},h.map(((t,n)=>s.createElement("div",{className:(0,l.css)(C.controlButton),key:n,style:{backgroundColor:t},onClick:()=>{this.context.setColor(n)}},!e&&this.context.color===n&&s.createElement(u.default,{color:"#fff",icon:"M10,3.8C10,4,9.9,4.2,9.8,4.3L5.1,8.9L4.3,9.8C4.2,9.9,4,10,3.8,10\n    S3.5,9.9,3.4,9.8L2.5,8.9L0.2,6.6C0.1,6.5,0,6.3,0,6.2s0.1-0.3,0.2-0.4\n    l0.9-0.9c0.1-0.1,0.3-0.2,0.4-0.2s0.3,0.1,0.4,0.2l1.9,1.9l4.2-4.2c0.1\n    -0.1,0.3-0.2,0.4-0.2c0.2,0,0.3,0.1,0.4,0.2l0.9,0.9C9.9,3.5,10,3.7,\n    10,3.8z",size:10}))))),s.createElement("div",null,s.createElement("div",{className:(0,l.css)(C.controlButton,C.whiteButton),onClick:this.context.undo},s.createElement("svg",{width:"24",height:"24"},s.createElement("g",{fill:"none",fillRule:"evenodd"},s.createElement("path",{fill:c.colors.gray41,d:"M3.515 20.485c4.686 4.687 12.284 4.687 16.97 0 4.687-4.686 4.687-12.284\n    0-16.97-4.686-4.687-12.284-4.687-16.97 0-.482.482-.914.994-1.297 1.531L4.38\n    7.208a9 9 0 1 1 1.257 11.156 1.5 1.5 0 0 0-2.122 2.121z"}),s.createElement("path",{fill:c.colors.gray41,stroke:c.colors.gray41,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M1 3l6 6H1z"})))),s.createElement("div",{className:(0,l.css)(C.controlButton,C.whiteButton),onClick:this.context.setErase},s.createElement(u.default,{color:e?c.colors.kaGreen:c.colors.gray41,size:24,icon:m}))))}}(0,i.default)(g,"contextTypes",{color:a.default.number.isRequired,erasing:a.default.bool.isRequired,setColor:a.default.func.isRequired,setErase:a.default.func.isRequired,undo:a.default.func.isRequired}),(0,i.default)(g,"defaultProps",{useVerticalLayout:!1});class w extends s.Component{constructor(...e){super(...e),(0,i.default)(this,"state",{color:0,erasing:!1}),(0,i.default)(this,"onAreaMount",(e=>{const t=this.state.color,{initialContent:o,onStroke:r}=this.props;n.e("5OGZ").then(n.t.bind(null,"aVwm",7)).then((e=>e.default)).then((n=>{this.drawing=new n(e,h[t],r),o&&this.drawing.setContent(o)}))})),(0,i.default)(this,"setColor",(e=>{this.setState({color:e,erasing:!1}),this.drawing&&this.drawing.setColor(h[e])})),(0,i.default)(this,"undo",(()=>{this.drawing&&this.drawing.undo()})),(0,i.default)(this,"setErase",(()=>{this.setState({erasing:!0}),this.drawing&&this.drawing.setErase()}))}getChildContext(){return{color:this.state.color,erasing:this.state.erasing,onAreaMount:this.onAreaMount,setColor:this.setColor,setErase:this.setErase,undo:this.undo}}componentDidMount(){this.resize=(0,d.default)((()=>{this.drawing&&this.drawing.resize()}),1e3),window.addEventListener("resize",this.resize)}componentWillUnmount(){const{onUnmount:e}=this.props;if(e&&this.drawing){e(this.drawing.saveStateAndGetHistory())}window.removeEventListener("resize",this.resize)}render(){return s.createElement("div",null,this.props.children)}}(0,i.default)(w,"childContextTypes",{color:a.default.number.isRequired,erasing:a.default.bool.isRequired,onAreaMount:a.default.func.isRequired,setColor:a.default.func.isRequired,setErase:a.default.func.isRequired,undo:a.default.func.isRequired}),(0,i.default)(w,"Area",p),(0,i.default)(w,"Controls",g);const C=l.StyleSheet.create({controls:{display:"flex",justifyContent:"space-between",marginLeft:18},controlsVertical:{flexDirection:"column-reverse",width:40},colorControls:{display:"flex",flexWrap:"wrap",maxWidth:132},controlButton:{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",cursor:"pointer",height:24,marginTop:12,position:"relative",width:24,verticalAlign:"top",zIndex:c.zIndexes.aboveDrawingArea,paddingBottom:2},whiteButton:{backgroundColor:c.colors.white,height:24,marginTop:12,width:24},drawingBackground:{position:"absolute",top:0,bottom:0,right:0,left:0,touchAction:"none"}});var E=w;t.default=E}}]);
//# sourceMappingURL=../../sourcemaps/en/4QgR.4c95e67006aa084b9652.js.map