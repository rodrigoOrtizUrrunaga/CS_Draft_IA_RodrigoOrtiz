(window.webpackJsonp=window.webpackJsonp||[]).push([["54uO"],{P06G:function(e,t,a){"use strict";var s=a("284h"),l=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=l(a("lSNA")),r=s(a("q1tI")),n=a("mR6N"),i=l(a("Nw73")),c=l(a("Lx7c")),u=l(a("pbLn")),h=l(a("wINb")),d=l(a("uFGi")),m=l(a("+Hxn")),g=l(a("uKIX")),p=l(a("nVHT")),f=s(a("HEOz"));class C extends r.Component{constructor(e){super(e),this.state={description:"",selectedCourse:void 0,googleCourses:void 0,creatingAssignment:!1,title:"".concat(f._("Khan Academy"),": ").concat(e.title)}}componentDidMount(){c.default.getCourses().then((e=>{this.setState({googleCourses:e})}))}getMaterial(){const{assignment:e}=this.state;if(e&&0!==e.materials.length)return e.materials[0]}createAssignment(){const{url:e}=this.props,{selectedCourse:t,description:a,title:s}=this.state;t&&(this.setState({creatingAssignment:!0}),c.default.shareToClassroomApi(t,e,s,a).then((e=>{this.setState({assignment:e,creatingAssignment:!1})})).catch((()=>this.setState({creatingAssignment:!1}))))}renderFooter(){const{selectedCourse:e,title:t,creatingAssignment:a,assignment:s}=this.state,l=e&&""!==t&&!a;return r.createElement("div",null,a&&r.createElement("div",{className:(0,n.css)(E.spinner)},r.createElement(p.default,null)),!s&&r.createElement(i.default,{type:"primary",onClick:()=>this.createAssignment(),disabled:!l},f._("Create Assignment")),s&&r.createElement("span",null,r.createElement("span",{className:(0,n.css)(E.takeMeThere)},r.createElement(i.default,{type:"secondary",href:s.alternateLink,target:"_blank"},f._("Take me there"))),r.createElement(i.default,{type:"primary",onClick:()=>this.modal.handleClose()},f._("Done"))))}renderAssignmentForm(){const{url:e}=this.props,{googleCourses:t,title:a}=this.state,s=f._("Describe your assignment in detail here");return r.createElement("div",null,r.createElement("div",{className:(0,n.css)(E.url)},e),r.createElement(u.default,{isLoading:!t,googleCourses:t||[],onCourseChanged:e=>this.setState({selectedCourse:e})}),r.createElement("div",{className:(0,n.css)(E.inputFields)},r.createElement(d.default,{title:f._("Title"),placeholder:f._("Please choose a title"),defaultValue:a,onChange:e=>this.setState({title:e.target.value})}),r.createElement(m.default,{title:f._("Description"),placeholder:s,onChange:e=>this.setState({description:e.target.value})})))}renderComplete(){const e=this.getMaterial();return r.createElement("div",{className:(0,n.css)(E.complete)},r.createElement("h2",null,f._("Your assignment has been shared to Google Classroom!")),e&&r.createElement("img",{alt:"","aria-hidden":!0,src:(0,h.default)(e.link.thumbnailUrl)}))}render(){const{inFixture:e,onClose:t}=this.props,{assignment:a}=this.state;return r.createElement(g.default,{title:f._("Create a Google Classroom Assignment"),forceTop:!0,showCloseButton:!0,inline:!!e,footer:this.renderFooter(),onClose:()=>t(),ref:e=>this.modal=e},a?this.renderComplete():this.renderAssignmentForm())}}(0,o.default)(C,"defaultProps",{inFixture:!1});const E=n.StyleSheet.create({inputFields:{marginTop:"1em"},url:{color:"lightgrey",marginTop:"-0.5em",marginBottom:"0.5em"},spinner:{float:"left",height:"2em"},takeMeThere:{marginRight:"1em"},complete:{textAlign:"center"}});var b=C;t.default=b},ZpGe:function(e,t,a){"use strict";var s=a("284h"),l=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=l(a("lSNA")),r=a("mR6N"),n=s(a("q1tI")),i=l(a("Lx7c")),c=l(a("P06G")),u=l(a("wINb")),h=l(a("/uDT")),d=l(a("2oqa")),m=l(a("EWp6")),g=l(a("6wxr")),p=l(a("QCGh")),f=s(a("6OHE")),C=l(a("mXPZ")),E=a("MRvb"),b=l(a("4Du/")),v=s(a("HEOz"));const{newWindow:y}=d.default,w={path:"M12.283 0H.717A.717.717 0 0 0 0 .717v11.566c0 .396.32.717.717.717h6.227V7.965H5.25V6.002h1.694V4.554c0-1.679 1.025-2.593 2.524-2.593.717 0 1.335.054 1.515.078v1.755H9.945c-.815 0-.973.388-.973.955v1.253h1.944l-.256 1.963H8.97V13h3.313c.396 0 .717-.32.717-.717V.717A.717.717 0 0 0 12.283 0z",width:13,height:13},A={path:"M90.576 23.128q0 17.528-9.8 32.48-10.864 16.576-28.336 22.848-9.688 3.472-20.664 3.472-17.36 0-31.752-9.296 2.24.28 4.984.28 14.392 0 25.704-8.848-6.72-.056-12.04-4.088t-7.28-10.248q2.128.336 4.368.336t4.928-.728q-7.168-1.456-11.872-7.112t-4.704-13.16l0-.28q4.368 2.408 9.352 2.632-4.2-2.8-6.72-7.336-2.464-4.536-2.464-10.024t2.8-10.248q7.728 9.52 18.816 15.232t23.8 6.384q-.504-2.408-.504-4.76 0-8.568 6.048-14.616t14.784-6.048 14.952 6.552q7-1.344 13.104-4.984-2.352 7.336-9.072 11.368 5.936-.616 11.872-3.192-4.312 6.272-10.36 10.696.056.896.056 2.688z",width:100,height:81.233},_={path:"M8.967 71.687l82.418 0q.735 0 1.274-.539t.539-1.274l0-42.973q-1.813 2.009-3.871 3.675-14.945 11.515-20.825 16.415t-7.693 6.272-4.851 2.695q-3.038 1.372-5.733 1.372l-.098 0q-2.695 0-5.733-1.372t-4.851-2.695q-1.813-1.372-7.693-6.272t-20.825-16.415q-2.058-1.666-3.871-3.675l0 42.973q0 .735.539 1.274t1.274.539zm84.231-62.034q0-2.499-1.813-2.499l-82.418 0q-.735 0-1.274.539t-.539 1.274q0 9.408 8.232 15.925 21.952 17.297 25.676 20.433 5.733 4.851 9.065 4.851l.098 0q2.254 0 5.194-2.009t7.056-5.537q11.662-9.261 22.491-17.738 3.038-2.401 5.635-6.468t2.597-7.399l0-1.372zm7.154-.686l0 60.907q0 3.675-2.646 6.321t-6.321 2.646l-82.418 0q-3.675 0-6.321-2.646t-2.646-6.321l0-60.907q0-3.675 2.646-6.321t6.321-2.646l82.418 0q3.675 0 6.321 2.646t2.646 6.321z",width:100,height:78.564},q=r.StyleSheet.create({sharingFooter:{color:f.colors.gray17,font:f.typography.labelMedium,display:"flex",justifyContent:"flex-start"},viewCount:{borderRight:"1px solid ".concat(f.colors.gray85),fontSize:17,display:"inline-block",marginRight:16,textAlign:"center",width:150},socialButton:{display:"inline-block",fontSize:17,marginRight:32},socialButtonIcon:{marginRight:8},disabled:{color:"lightgrey"}});class S extends n.Component{constructor(){super(),(0,o.default)(this,"handleGoogleClassroom",(e=>{const{googleIsReady:t}=this.state;if(e.preventDefault(),this.useApiShare()){if(!t)return;this.setState({showGClassModal:!0})}else i.default.shareToClassroom(this.getAbsoluteUrl(),"".concat(v._("Khan Academy"),": ").concat(this.props.title),v._("Describe your assignment in detail here"))})),(0,o.default)(this,"handleTwitter",(e=>(e.preventDefault(),h.default.openTwitterPopup(h.default.formatTwitterShareUrl({url:this.getAbsoluteUrl(),text:this.props.title}))))),(0,o.default)(this,"handleFacebook",(e=>(e.preventDefault(),h.default.facebookShare(this.props.title,this.getAbsoluteUrl(),this.props.image),!1))),this.state={googleIsReady:!1,showGClassModal:!1}}componentDidMount(){this.useApiShare()&&i.default.loadGoogleAPI(i.default.SHARE_SCOPES).then((()=>this.setState({googleIsReady:!0})))}getAbsoluteUrl(){const{url:e,location:{pathname:t}}=this.props;return(0,E.toAbsoluteUrl)(e||t)}useApiShare(){return!1}getMailtoUrl(){return h.default.formatMailtoUrl({subject:v._("I just learned about %(title)s",{title:this.props.title}),body:v._("You can learn about it, too. Check out %(url)s",{url:this.getAbsoluteUrl()})})}classroomShareButton(){const{googleIsReady:e}=this.state,t=[q.socialButton];return this.useApiShare()&&!e&&t.push(q.disabled),n.createElement(p.default,{href:"#",style:t,onClick:this.handleGoogleClassroom,"aria-label":"".concat(m.default.shareGoogle," ").concat(y)},n.createElement("span",{"aria-hidden":"true",className:(0,r.css)(q.socialButtonIcon)},n.createElement("img",{alt:"","aria-hidden":!0,src:(0,u.default)("/images/google_classroom_logo_light_square_36.svg"),width:13})),v._("Google Classroom"))}render(){const{showGClassModal:e}=this.state,t=C.default.isMaybeUnder13,a=n.createElement("div",{className:(0,r.css)(q.sharingFooter)},this.props.views&&n.createElement("span",{className:(0,r.css)(q.viewCount)},v.$_("%(count)s views",{count:this.props.views})),!t&&n.createElement("div",null,this.classroomShareButton(),n.createElement(p.default,{href:"#",onMouseOver:()=>h.default.prepFacebook(),onClick:this.handleFacebook,style:[q.socialButton],"aria-label":"".concat(m.default.shareFacebook," ").concat(y)},n.createElement("span",{"aria-hidden":"true",className:(0,r.css)(q.socialButtonIcon)},n.createElement(g.default,{icon:w,size:13,color:f.colors.gray17})),v._("Facebook")),n.createElement(p.default,{href:"#",style:[q.socialButton],onClick:this.handleTwitter,"aria-label":"".concat(m.default.shareTwitter," ").concat(y)},n.createElement("span",{"aria-hidden":"true",className:(0,r.css)(q.socialButtonIcon)},n.createElement(g.default,{icon:A,size:13,color:f.colors.gray17})),v._("Twitter"))),n.createElement(p.default,{href:this.getMailtoUrl(),style:[q.socialButton],"aria-label":"".concat(m.default.shareEmail," ").concat(y)},n.createElement("span",{"aria-hidden":"true",className:(0,r.css)(q.socialButtonIcon)},n.createElement(g.default,{icon:_,size:13,color:f.colors.gray17})),v._("Email")));return n.createElement("div",null,e&&n.createElement(c.default,{url:this.getAbsoluteUrl(),title:this.props.title,onClose:()=>this.setState({showGClassModal:!1})}),a)}}var k=(0,b.default)(S);t.default=k}}]);
//# sourceMappingURL=../../sourcemaps/en/54uO.1f2e9df2b43a64319786.js.map