(window.webpackJsonp=window.webpackJsonp||[]).push([["6Uw9"],{"+Mvj":function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("bRUr")),a=o.default.makeRule({name:"heading-level-1",severity:o.default.Severity.WARNING,selector:"heading",lint:function(t,e,i,n){if(1===i[0].level)return"Don't use level-1 headings:\nBegin headings with two or more # characters."}});e.default=a},"+vEw":function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i("eAf/"),a=n(i("oLyU")),s=n(i("e1hl")),r=n(i("p8fL")),l=n(i("vNny")),c=n(i("yfnS")),u=n(i("NT9k"));const d=r.default.assert,h=r.default.normalizeOptions,f=a.default.keys(s.default),p={points:null,angleLabels:[],showRightAngleMarkers:[],sideLabels:[],vertexLabels:[],numArcs:[],numArrows:[],numTicks:[],closed:!0,static:!1,cursor:"move",normalStyle:null,highlightStyle:null,labelStyle:null},g={added:!1,hasMoved:!1,visibleShape:null,mouseTarget:null},m=function(t,e,i){d(null!=t),d(null!=i),a.default.extend(this,{graphie:t,movable:e,state:{id:a.default.uniqueId("movablePolygon")}}),this.modify(a.default.extend({},g,i))};a.default.extend(m,s.default),r.default.createGettersFor(m,a.default.extend({},p,g)),r.default.addMovableHelperMethodsTo(m),a.default.extend(m.prototype,{cloneState:function(){return a.default.extend(this.movable.cloneState(),this.state)},_createDefaultState:function(){return a.default.extend({id:this.state.id},h(f,l.default.pluck(s.default,"standard")),p)},modify:function(t){this.update(a.default.extend(this._createDefaultState(),t))},update:function(t){const e=this,i=e.graphie,n=a.default.extend(e.state,h(f,t)),s=n.static?c.default.DYNAMIC:c.default.INTERACTIVE;n.normalStyle=a.default.extend({},n.normalStyle,{"stroke-width":2,"fill-opacity":0,fill:s,stroke:s},t.normalStyle),n.highlightStyle=a.default.extend({},{stroke:c.default.INTERACTING,"stroke-width":2,fill:c.default.INTERACTING,"fill-opacity":.05},n.highlightStyle),n.labelStyle=a.default.extend({},{stroke:c.default.DYNAMIC,"stroke-width":1,color:c.default.DYNAMIC},n.labelStyle),n.static||n.mouseTarget||(n.mouseTarget=i.mouselayer.path(this.path()),n.mouseTarget.attr({fill:"#000",opacity:0,cursor:"move"})),e.movable.modify(a.default.extend({},n,{modify:null,draw:e.draw.bind(e),remove:null,onMoveStart:function(){e._initialRefCoord=e.coord(0),e._prevRefCoord=e._initialRefCoord,e._totalDelta=[0,0],e._fireEvent(e.state.onMoveStart,e.coord(0),e.coord(0))},onMove:function(t,i){const n=o.vector.subtract(t,i);e._totalDelta=o.vector.add(e._totalDelta,n);let a=o.vector.add(e._initialRefCoord,e._totalDelta);a=e._applyConstraints(a,e._prevRefCoord),!1!==a&&(e._fireEvent(e.state.onMove,a,e._prevRefCoord),e._prevRefCoord=a)},onMoveEnd:function(){e._fireEvent(e.state.onMoveEnd,e._prevRefCoord,e._initialRefCoord)}})),a.default.invoke(n.points,"listen","onMove",n.id,e.draw.bind(e)),n.added||(e.prevState={},e._fireEvent(n.add,e.cloneState(),e.prevState),n.added=!0,e.prevState=e.cloneState()),e._fireEvent(n.modify,e.cloneState(),e.prevState)},path:function(t){const e=this.graphie;t=t||this.state;let i=a.default.map(t.points,(function(t){return e.scalePoint(t.coord())}));return t.closed?i.push(!0):i=i.concat(a.default.clone(i).reverse()),u.default.unscaledSvgPath(i)},coords:function(){return a.default.invoke(this.state.points,"coord")},point:function(t){return this.state.points[t]},coord:function(t){return this.point(t).coord()},remove:function(){this.state.added=!1,this._fireEvent(this.state.remove),this.state.points&&a.default.invoke(this.state.points,"unlisten","onMove",this.state.id),this.movable&&this.movable.remove(),this.state.mouseTarget=null},constrain:function(){if(null==this.points||0===this.points.length)return;const t=this.coord(0),e=this._applyConstraints(t,t);!1!==e&&this._fireEvent(this.state.onMove,e,t)},normalStyle:function(){return a.default.clone(this.state.normalStyle)},highlightStyle:function(){return a.default.clone(this.state.highlightStyle)},toBack:function(){this.movable.toBack(),this.state.visibleShape&&this.state.visibleShape.toBack()},toFront:function(){this.state.visibleShape&&this.state.visibleShape.toFront(),this.movable.toFront()},isHovering:function(){return this.movable.isHovering()},isDragging:function(){return this.movable.isDragging()},mouseTarget:function(){return this.movable.mouseTarget()}});var v=m;e.default=v},"/4Qb":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.iconMinus=e.iconUndo=e.iconTrash=e.iconTablet=e.iconTryAgain=e.iconStar=e.iconRemove=e.iconPlus=e.iconOk=e.iconMobilePhone=e.iconGear=e.iconExclamationSign=e.iconDropdownArrow=e.iconDesktop=e.iconCircleThin=e.iconCircleArrowUp=e.iconCircleArrowDown=e.iconCircle=e.iconChevronRight=e.iconChevronDown=e.iconCheckMedium=e.iconCheck=void 0;e.iconCheck={path:"M8.70710678,12.2928932 C8.31658249,11.9023689 7.68341751,11.9023689 7.29289322,12.2928932 C6.90236893,12.6834175 6.90236893,13.3165825 7.29289322,13.7071068 L9.82842712,16.2426407 C10.2207367,16.6349502 10.8574274,16.6328935 11.2471942,16.2380576 L16.7116603,10.7025237 C17.0996535,10.3094846 17.0955629,9.67633279 16.7025237,9.28833966 C16.3094846,8.90034653 15.6763328,8.90443714 15.2883397,9.29747629 L10.5309507,14.1167372 L8.70710678,12.2928932 Z",width:24,height:24};e.iconCheckMedium={path:"M6.072 10.4l6.175-7.058a1 1 0 1 1 1.506 1.317L6.769 12.64a1 1 0 0 1-1.55-.054L2.203 8.604a1 1 0 1 1 1.594-1.208L6.072 10.4z",width:16,height:16};e.iconChevronDown={path:"M99.669 13.048q0 3.36-2.352 5.712l-41.664 41.664q-2.408 2.408-5.88 2.408t-5.712-2.408l-41.664-41.664q-2.408-2.24-2.408-5.712t2.408-5.88l4.76-4.816q2.52-2.352 5.88-2.352t5.656 2.352l31.136 31.136 31.08-31.136q2.352-2.352 5.712-2.352t5.88 2.352l4.816 4.816q2.352 2.52 2.352 5.88z",width:100,height:63.034};e.iconChevronRight={path:"M62.808 49.728q0 3.36-2.352 5.88l-41.72 41.664q-2.352 2.408-5.768 2.408t-5.768-2.408l-4.872-4.76q-2.352-2.52-2.352-5.88t2.352-5.712l31.08-31.136-31.08-31.024q-2.352-2.52-2.352-5.88t2.352-5.712l4.872-4.76q2.296-2.408 5.768-2.408t5.768 2.408l41.72 41.664q2.352 2.296 2.352 5.656z",width:63.034,height:100};e.iconCircle={path:"M100.035 50.046q.057 13.623-6.669 25.137t-18.24 18.183-25.08 6.669-25.137-6.726q-11.514-6.726-18.183-18.183-6.726-11.571-6.726-25.137t6.726-25.08 18.24-18.24 25.08-6.669q13.566 0 25.08 6.726 11.514 6.669 18.24 18.183t6.669 25.137z",width:100,height:100};e.iconCircleArrowDown={path:"M50.046 83.676q1.767 0 2.907-1.14l29.526-29.526q1.197-1.197 1.197-2.907t-1.197-2.964l-5.928-5.928q-1.197-1.14-2.964-1.14t-2.907 1.14l-12.312 12.312l0-32.661q0-1.71-1.254-2.964t-2.907-1.254l-8.322 0q-1.71 0-2.964 1.254t-1.254 2.964l0 32.661l-12.312-12.312q-1.197-1.254-2.907-1.254t-2.907 1.254l-5.928 5.928q-1.197 1.197-1.197 2.964t1.197 2.907l29.469 29.526q1.197 1.14 2.964 1.14zm49.989-33.63q.057 13.623-6.669 25.137t-18.24 18.183-25.08 6.669-25.137-6.726q-11.514-6.726-18.183-18.183-6.726-11.571-6.726-25.137t6.726-25.08 18.24-18.24 25.08-6.669q13.566 0 25.08 6.726 11.514 6.669 18.24 18.183t6.669 25.137z",width:100,height:100};e.iconCircleArrowUp={path:"M54.207 83.391q1.653 0 2.907-1.254t1.254-2.907l0-32.718l12.312 12.312q1.254 1.254 2.964 1.254t2.907-1.254l5.928-5.928q1.197-1.197 1.14-2.964 0-1.767-1.14-2.907l-29.526-29.526q-1.197-1.14-2.907-1.14t-2.964 1.14l-29.469 29.526q-1.197 1.254-1.197 2.964t1.197 2.907l5.928 5.928q1.197 1.197 2.907 1.197t2.907-1.197l12.312-12.312l0 32.718q0 1.653 1.254 2.907t2.964 1.254l8.322 0zm45.828-33.345q.057 13.623-6.669 25.137t-18.24 18.183-25.08 6.669-25.137-6.726q-11.514-6.726-18.183-18.183-6.726-11.571-6.726-25.137t6.726-25.08 18.24-18.24 25.08-6.669q13.566 0 25.08 6.726 11.514 6.669 18.24 18.183t6.669 25.137z",width:100,height:100};e.iconCircleThin={path:"M50.046 8.322q-8.493 0-16.188 3.306-15.561 6.669-22.173 22.23-3.363 7.695-3.363 16.188t3.306 16.188 8.949 13.281q5.586 5.586 13.281 8.892t16.188 3.306 16.188-3.306 13.281-8.892 8.892-13.281 3.306-16.188-3.306-16.188-8.892-13.281-13.281-8.949q-7.695-3.306-16.188-3.306zm0 91.713q-13.623 0-25.137-6.726t-18.183-18.183q-6.726-11.571-6.726-25.137t6.726-25.08 18.24-18.24 25.08-6.669q13.566 0 25.08 6.726 11.514 6.669 18.24 18.183t6.726 25.137-6.726 25.137-18.24 18.126q-11.514 6.726-25.08 6.726z",width:100,height:99.944};e.iconDesktop={path:"M94.208 52.119l0-43.746q0-.69-.506-1.15t-1.196-.506l-84.088 0q-.69 0-1.196.506t-.506 1.15l0 43.746q0 .69.506 1.196t1.196.506l84.088 0q.69 0 1.196-.506t.506-1.196zm6.716-43.746l0 57.224q0 3.45-2.484 5.934t-5.934 2.484l-28.566 0q0 3.128 2.53 7.774.828 1.61.828 2.622t-1.012 2.07q-1.012 1.012-2.346.966l-26.91 0q-1.38 0-2.392-1.012t-1.012-2.024q0-1.058 1.656-4.14t1.748-6.256l-28.612 0q-3.45 0-5.934-2.484t-2.484-5.934l0-57.224q0-3.45 2.484-5.934t5.934-2.438l84.088 0q3.45 0 5.98 2.438 2.438 2.484 2.438 5.934z",width:100,height:86.648};e.iconDropdownArrow={path:"M9 9.8c0 .5.7 1.7 1.5 2.8 1.5 1.9 1.5 1.9 3 0C15.7 9.7 15.4 9 12 9c-1.6 0-3 .4-3 .8z",width:24,height:24};e.iconExclamationSign={path:"M58.368 81.225l0-12.369q0-.912-.57-1.539t-1.425-.627l-12.54 0q-.855-.057-1.482.627t-.684 1.539l0 12.369q-.057.855.627 1.482t1.539.684l12.54 0q.855 0 1.425-.627t.57-1.539zm1.026-62.871q0-1.596-2.223-1.71l-14.307 0q-2.109 0-2.223 1.71l1.14 40.47q0 .627.627 1.14t1.539.456l12.084 0q.912-.057 1.539-.513t.684-1.083zm-9.348-18.354q13.566 0 25.08 6.726 11.514 6.669 18.24 18.183t6.726 25.137-6.726 25.137-18.24 18.183-25.08 6.669-25.137-6.726q-11.514-6.726-18.183-18.183-6.726-11.571-6.726-25.137t6.726-25.08 18.24-18.24 25.08-6.669z",width:100,height:99.944};e.iconGear={path:"M1152 896q0-106-75-181t-181-75-181 75-75 181 75 181 181 75 181-75 75-181zm512-109v222q0 12-8 23t-20 13l-185 28q-19 54-39 91 35 50 107 138 10 12 10 25t-9 23q-27 37-99 108t-94 71q-12 0-26-9l-138-108q-44 23-91 38-16 136-29 186-7 28-36 28h-222q-14 0-24.5-8.5t-11.5-21.5l-28-184q-49-16-90-37l-141 107q-10 9-25 9-14 0-25-11-126-114-165-168-7-10-7-23 0-12 8-23 15-21 51-66.5t54-70.5q-27-50-41-99l-183-27q-13-2-21-12.5t-8-23.5v-222q0-12 8-23t19-13l186-28q14-46 39-92-40-57-107-138-10-12-10-24 0-10 9-23 26-36 98.5-107.5t94.5-71.5q13 0 26 10l138 107q44-23 91-38 16-136 29-186 7-28 36-28h222q14 0 24.5 8.5t11.5 21.5l28 184q49 16 90 37l142-107q9-9 24-9 13 0 25 10 129 119 165 170 7 8 7 22 0 12-8 23-15 21-51 66.5t-54 70.5q26 50 41 98l183 28q13 2 21 12.5t8 23.5z",width:1792,height:1792};e.iconMobilePhone={path:"M36.04 89.557q0-2.584-1.836-4.42t-4.42-1.836-4.352 1.836q-1.836 1.836-1.836 4.42t1.836 4.352 4.42 1.836q2.652-.068 4.42-1.836t1.768-4.352zm16.184-12.444l0-54.74q0-1.088-.748-1.768t-1.768-.68l-39.78 0q-1.088 0-1.768.748t-.68 1.7l0 54.74q0 1.02.748 1.768t1.7.68l39.78 0q1.02-.068 1.768-.748t.748-1.7zm-14.892-65.892q0-1.224-1.292-1.292l-12.444 0q-1.224.068-1.224 1.292t1.224 1.224l12.444 0q1.292 0 1.292-1.224zm22.372-1.292l0 79.628q0 3.944-2.992 6.936t-7.004 2.992l-39.78 0q-4.012 0-7.004-2.924-2.924-2.924-2.924-7.004l0-79.628q0-4.012 2.924-6.936t7.004-2.992l39.78 0q4.012-.068 7.004 2.924t2.992 7.004z",width:60.013,height:100};e.iconOk={path:"M37.964 76.048q-2.576 0-4.368-1.792l-31.864-31.864q-1.792-1.792-1.792-4.368t1.792-4.368l8.736-8.68q1.792-1.792 4.368-1.792t4.312 1.792l18.816 18.872 42-42.056q1.792-1.792 4.368-1.792t4.312 1.792l8.736 8.736q1.792 1.792 1.792 4.368t-1.792 4.312l-55.048 55.048q-1.792 1.792-4.368 1.792z",width:100,height:76.637};e.iconPlus={path:"M99.758 43.09l0 13.578q0 2.852-1.984 4.836t-4.836 1.984l-29.45 0l0 29.45q0 2.852-1.984 4.836t-4.836 1.984l-13.578 0q-2.852 0-4.836-1.984t-1.984-4.836l0-29.45l-29.45 0q-2.852 0-4.836-1.984t-1.984-4.836l0-13.578q0-2.852 1.984-4.836t4.836-1.984l29.45 0l0-29.45q0-2.852 1.984-4.836t4.836-1.984l13.578 0q2.852 0 4.836 1.984t1.984 4.836l0 29.45l29.45 0q2.852 0 4.836 1.984t1.984 4.836z",width:100,height:100};e.iconRemove={path:"M100.464 80.808q0 3.404-2.368 5.772l-11.47 11.544q-2.368 2.368-5.772 2.368t-5.698-2.368l-24.864-24.864-24.864 24.864q-2.368 2.368-5.772 2.368t-5.772-2.368l-11.47-11.544q-2.368-2.368-2.368-5.772t2.368-5.698l24.864-24.864-24.864-24.864q-2.368-2.368-2.368-5.772t2.368-5.772l11.47-11.47q2.368-2.368 5.772-2.368t5.772 2.368l24.864 24.864 24.864-24.864q2.294-2.368 5.698-2.368t5.772 2.368l11.47 11.47q2.368 2.368 2.368 5.772t-2.368 5.772l-24.864 24.864 24.864 24.864q2.368 2.294 2.368 5.698z",width:100,height:100};e.iconStar={path:"M15.1052249,9.55978547 L22.0028147,9.55978545 C23.6568673,9.55978545 23.9349557,10.3753626 22.6181351,11.3858845 L16.9943688,15.7015366 L19.2518801,22.8294455 C19.7526645,24.4106317 19.0984455,24.8825885 17.769353,23.8673293 L12.0490577,19.4977438 L6.5116497,23.8422153 C5.20921411,24.8640642 4.53299569,24.4067544 5.00266927,22.8160582 L7.10332364,15.7015366 L1.42794544,11.3634306 C0.110226041,10.3562014 0.383967283,9.54239221 2.0409646,9.54574013 L8.9924676,9.55978547 L11.1485117,2.72669438 C11.6458693,1.15043244 12.4548928,1.15900049 12.9494787,2.72669438 L15.1052249,9.55978547 Z",width:24,height:24};e.iconTryAgain={path:"M3.74890556,17.9799506 C2.19251241,16.1970909 1.10103636,13.4971457 1.13090903,11.1491783 C1.17160478,7.95052637 4.01704076,0.865059407 11.7028044,0.865059407 C19.388568,0.865059407 22.3026521,7.35203035 22.3026521,11.5879453 C22.3026521,15.8238603 19.386629,20.5574509 13.6832464,21.7131548 L13.6757539,17.3722171 C17.0812986,16.2190517 18.331158,14.1944123 18.3311578,11.5879451 C18.3311574,8.16554692 15.6664205,5.03476549 11.7028048,5.20494205 C7.73918903,5.37511861 5.59244567,8.66930079 5.59244567,11.1491783 C5.59244567,12.9090077 6.11128139,14.1753512 6.93640437,15.3053215 L8.14052356,14.2949456 C8.98559348,13.5858477 9.6994861,13.9070448 9.73489556,15.0076413 L9.91284941,20.5388014 C9.94832683,21.6415103 9.09967118,22.3514475 8.02194403,22.1254594 L2.60571602,20.9897332 C1.5259204,20.7633114 1.34338662,19.9984207 2.18070755,19.295825 L3.74890556,17.9799506 Z",width:23,height:23};e.iconTablet={path:"M45.322 90.706q0-1.86-1.302-3.224-1.364-1.364-3.224-1.364t-3.224 1.364-1.302 3.224q0 1.86 1.364 3.224 1.302 1.364 3.162 1.302 1.86.062 3.224-1.302t1.302-3.224zm27.218-11.346l0-68.014q0-.93-.682-1.612t-1.55-.682l-58.962 0q-.93 0-1.612.682t-.682 1.612l0 68.014q0 .93.682 1.612t1.612.62l58.962 0q.992-.062 1.612-.682t.62-1.55zm9.114-68.014l0 77.066q0 4.65-3.348 7.998t-7.998 3.348l-58.962 0q-4.65 0-7.998-3.348t-3.348-7.998l0-77.066q0-4.65 3.348-7.998t7.998-3.348l58.962 0q4.65 0 7.998 3.348t3.348 7.998z",width:81.852,height:100};e.iconTrash={path:"M31.293 37.506q2.052 0 2.052 2.109l0 37.506q0 1.995-2.052 2.109l-4.218 0q-.912-.057-1.482-.627t-.57-1.482l0-37.506q0-2.109 2.052-2.109l4.218 0zm18.753 2.109l0 37.506q0 .912-.57 1.482t-1.539.627l-4.161 0q-1.995 0-2.109-2.109l0-37.506q.057-.912.627-1.482t1.482-.627l4.161 0q.969.057 1.539.627t.57 1.482zm14.592-2.109q2.052 0 2.052 2.109l0 37.506q0 1.995-2.052 2.109l-4.161 0q-.969-.057-1.539-.627t-.57-1.482l0-37.506q0-2.109 2.109-2.109l4.161 0zm10.431 49.248l0-61.731l-58.368 0l0 61.731q.057 2.679.969 3.819t1.083 1.14l54.207 0q.171 0 1.14-1.083t.969-3.876zm-43.776-70.11l29.184 0l-3.135-7.581q-.456-.57-1.14-.741l-20.634 0q-.627.114-1.083.741zm-31.293 2.109q0-1.995 2.109-2.109l20.121 0l4.56-10.83q.969-2.394 3.477-4.104 2.565-1.71 5.187-1.71l20.805 0q2.622 0 5.187 1.71t3.477 4.104l4.56 10.83l20.178 0q.912.057 1.482.627t.57 1.482l0 4.161q0 1.995-2.052 2.109l-6.27 0l0 61.731q0 5.415-3.078 9.348t-7.353 3.933l-54.207 0q-4.275 0-7.353-3.819t-3.078-9.177l0-62.016l-6.213 0q-.969 0-1.539-.57t-.57-1.539l0-4.161z",width:91.681,height:100};e.iconUndo={path:"M10,6.6C10,7.2,9.8,8,9.3,9.1c0,0,0,0.1-0.1,0.1S9.2,9.3,9.2,9.4c0,0,0,0.1-0.1,0.1C9,9.6,9,9.6,8.9,9.6 c-0.1,0-0.1,0-0.1-0.1c0,0,0-0.1,0-0.1c0,0,0-0.1,0-0.1s0-0.1,0-0.1c0-0.3,0-0.5,0-0.7c0-0.4,0-0.7-0.1-1C8.6,7.1,8.5,6.9,8.4,6.7S8.2,6.3,8,6.1C7.8,5.9,7.6,5.8,7.4,5.7S6.9,5.5,6.7,5.5S6.1,5.4,5.8,5.4c-0.3,0-0.6,0-1,0H3.6v1.4c0,0.1,0,0.2-0.1,0.3C3.4,7.1,3.3,7.1,3.2,7.1C3.1,7.1,3,7.1,3,7L0.1,4.1C0,4.1,0,4,0,3.9s0-0.2,0.1-0.3L3,0.8C3,0.7,3.1,0.7,3.2,0.7c0.1,0,0.2,0,0.3,0.1C3.5,0.9,3.6,0.9,3.6,1v1.4h1.2c2.6,0,4.3,0.7,4.9,2.2C9.9,5.2,10,5.8,10,6.6z",width:10,height:10};e.iconMinus={path:"M8,13 L16,13 C16.5522847,13 17,12.5522847 17,12 C17,11.4477153 16.5522847,11 16,11 L8,11 C7.44771525,11 7,11.4477153 7,12 C7,12.5522847 7.44771525,13 8,13 Z",width:24,height:24}},"05Nk":function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("bRUr")),a=i("ma4Y"),s=o.default.makeRule({name:"absolute-url",severity:o.default.Severity.GUIDELINE,selector:"link, image",lint:function(t,e,i,n){const o=i[0].target,s=(0,a.getHostname)(o);if("khanacademy.org"===s||s.endsWith(".khanacademy.org"))return"Don't use absolute URLs:\nWhen linking to KA content or images, omit the\nhttps://www.khanacademy.org URL prefix.\nUse a relative URL beginning with / instead."}});e.default=s},"1+56":function(t,e,i){"use strict";var n=i("284h"),o=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o(i("pVnL")),s=o(i("17x9"));const r=n(i("j8wP")).Options;var l={propTypes:{apiOptions:s.default.any},getDefaultProps:()=>({apiOptions:{}}),getApiOptions(){return(0,a.default)({},r.defaults,this.props.apiOptions)}};e.default=l},"2BsJ":function(t,e,i){"use strict";var n=i("284h"),o=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o(i("pVnL")),s=i("eAf/"),r=o(i("oLyU")),l=o(i("rGVj")),c=o(i("nL9U")),u=n(i("4PhQ")),d=o(i("XwLL")),h=o(i("KmI1")),f=o(i("yfnS"));const{processMath:p}=h.default;function g(t,e){return"number"==typeof t&&(t=[t,t]),e=e*Math.PI/180,[t[0]*Math.cos(e),t[1]*Math.sin(e)]}const m={unscaledSvgPath:function(t){return!0===t[0]?"":l.default.map(t,(function(t,e){return!0===t?"z":(0===e?"M":"L")+t[0]+" "+t[1]})).join("")},getDistance:function(t,e){return s.point.distanceToPoint(t,e)},coordDiff:function(t,e){return r.default.map(e,(function(i,n){return e[n]-t[n]}))},snapCoord:function(t,e){return r.default.map(t,(function(t,i){return d.default.roundToNearest(e[i],t)}))},findAngle:function(t,e,i){if(void 0===i){const i=t[0]-e[0],n=t[1]-e[1];return i||n?(180+180*Math.atan2(-n,-i)/Math.PI+360)%360:0}return m.findAngle(t,i)-m.findAngle(e,i)},graphs:{}},v=m.Graphie=function(){};r.default.extend(v.prototype,{cartToPolar:function(t,e){const i=Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2));let n=Math.atan2(t[1],t[0]);return n<0&&(n+=2*Math.PI),e||(n=180*n/Math.PI),[i,n]},polar:g});const y={center:[-.5,-.5],above:[-.5,-1],"above right":[0,-1],right:[0,-.5],"below right":[0,0],below:[-.5,0],"below left":[-1,0],left:[-1,-.5],"above left":[-1,-1]},b={"stroke-width":null};m.createGraphie=function(t){let e,i,n=40,o=40;(0,l.default)(t).css("position","relative");const h=(0,c.default)(t);(0,l.default)(t).children("div").css("position","absolute");let x={"stroke-width":2,fill:"none"};const w=function t(e){if("number"==typeof e)return t([e,e]);const i=e[0],a=e[1];return[i*n,a*o]},k=function t(a){if("number"==typeof a)return t([a,a]);const s=a[0],r=a[1];return[(s-e[0])*n,(i[1]-r)*o]},_=function(t,e){const i=(0,l.default)(t),n=i.data("labelDirection");let[o,a]=e;if(0===o&&0===a&&([o,a]=[1,1],u.default.log("Label size was 0x0 in graphie.js; using 1x1 instead")),i.css("visibility",""),"number"==typeof n){const t=Math.cos(n),e=Math.sin(n),s=Math.min(o/2/Math.abs(t),a/2/Math.abs(e));i.css({marginLeft:-o/2+t*s,marginTop:-a/2-e*s})}else{const t=y[n||"center"];i.css({marginLeft:Math.round(o*t[0]),marginTop:Math.round(a*t[1])})}},S=function(t,e){return l.default.map(t,(function(t,i){if(!0===t)return"z";const n=e?t:k(t);return(0===i?"M":"L")+d.default.bound(n[0])+" "+d.default.bound(n[1])})).join("")},M=function(t,i,n){const o=function(e){return(t*e+i)*e+n};if(0===t){const t=r.default.map(e,(function(t){return[t,o(t)]}));return S(t)}const a=-i/(2*t),s=a+Math.max(Math.abs(a-e[0]),Math.abs(a-e[1])),l=[a,o(a)],c=[s,o(s)],u=[l[0],l[1]-(c[1]-l[1])],h=Math.abs(l[0]-c[0]),f=[l[0]-h,c[1]],p=[l[0]+h,c[1]],g=r.default.map([f,u,p],k),m=r.default.map(r.default.flatten(g),d.default.bound);return"M"+m[0]+","+m[1]+" Q"+m[2]+","+m[3]+" "+m[4]+","+m[5]},T=function(t,i,n,o){const a=Math.abs(Math.PI/(2*i)),s=function(e){return t*Math.sin(i*e-n)+o},l=function(e){return t*i*Math.cos(n-i*e)},c=function(t,e){const i=t+a*e,n=i+a,o=[i,2*i/3+1*n/3,1*i/3+2*n/3,n],c=[s(i),s(i)+l(i)*(n-i)/3,s(n)-l(n)*(n-i)/3,s(n)];return r.default.map(r.default.zip(o,c),k)},u=e[1]-e[0],d=Math.ceil(u/a)+1;let h=n/i;const f=h-e[0];h-=a*Math.ceil(f/a);let p=c(h,0),g="M"+p[0][0]+","+p[0][1]+" C"+p[1][0]+","+p[1][1]+" "+p[2][0]+","+p[2][1]+" "+p[3][0]+","+p[3][1];for(let t=1;t<d;t++)p=c(h,t),g+=" C"+p[1][0]+","+p[1][1]+" "+p[2][0]+","+p[2][1]+" "+p[3][0]+","+p[3][1];return g};m.svgPath=S;const C=function(t){const a={scale:function(t){"number"==typeof t&&(t=[t,t]),n=t[0],o=t[1],h.setSize((e[1]-e[0])*n,(i[1]-i[0])*o)},clipRect:function(t){const e=t[0],i=t[1];return e[1]+=i[1],{"clip-rect":k(e).concat(w(i)).join(" ")}},strokeWidth:function(t){return{"stroke-width":parseFloat(t)}},rx:function(t){return{rx:w([t,0])[0]}},ry:function(t){return{ry:w([0,t])[1]}},r:function(t){const e=w([t,t]);return{rx:e[0],ry:e[1]}}},s={};return l.default.each(t||{},(function(t,e){const i=a[t];if("function"==typeof i)l.default.extend(s,i(e));else{const i=t.replace(/([A-Z]+)([A-Z][a-z])/g,"$1-$2").replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase();s[i]=e}})),s},A=function t(e){const i=e.constructor.prototype;if(i===c.default.el){if("path"===e.type&&void 0===e.arrowheadsDrawn){const t=.6+.4*e.attr("stroke-width"),i=e.getTotalLength(),n=h.set(),o=h.path(E.isMobile?"M-4,4 C-4,4 -0.25,0 -0.25,0 C-0.25,0 -4,-4 -4,-4":"M-3 4 C-2.75 2.5 0 0.25 0.75 0C0 -0.25 -2.75 -2.5 -3 -4"),a=e.getPointAtLength(i-.4),s=e.getPointAtLength(i-.75*t),r=180*Math.atan2(a.y-s.y,a.x-s.x)/Math.PI,l=e.attr();delete l.path;let c=e.getSubpath(0,i-.75*t);return c=h.path(c).attr(l),c.arrowheadsDrawn=!0,e.remove(),o.rotate(r,E.isMobile?1e-5:.75,0).scale(t,t,.75,0).translate(s.x,s.y).attr(l).attr({"stroke-linejoin":"round","stroke-linecap":"round"}),o.arrowheadsDrawn=!0,n.push(c),n.push(o),n}}else if(i===c.default.st)for(let i=0,n=e.items.length;i<n;i++)t(e.items[i]);return e},P={circle:function(t,e){return h.ellipse.apply(h,k(t).concat(w([e,e])))},rect:function(t,e,i,n){const o=k([t,e+n]),a=w([i,n]),s=h.rect.apply(h,o.concat(a));return E.isMobile&&(s.node.style.shapeRendering="crispEdges"),s},ellipse:function(t,e){return h.ellipse.apply(h,k(t).concat(w(e)))},fixedEllipse:function(t,e,i,n){const o=k(t),a=w(e),s=2*a[0]*i+n,r=2*a[1]*i+n,u=o[0]-s/2,d=o[1]-r/2,h=document.createElement("div");(0,l.default)(h).css({position:"absolute",width:s+"px",height:r+"px",left:u+"px",top:d+"px"});return{wrapper:h,visibleShape:(0,c.default)(h,s,r).ellipse(s/2,r/2,a[0],a[1])}},arc:function(t,e,i,n,o){i=(i%360+360)%360,n=(n%360+360)%360;const a=k(t),s=w(e),r=g(e,i),l=g(e,n),c=k([t[0]+r[0],t[1]+r[1]]),u=k([t[0]+l[0],t[1]+l[1]]),d=((n-i)%360+360)%360>180;return h.path("M"+c.join(" ")+"A"+s.join(" ")+" 0 "+(d?1:0)+" 0 "+u.join(" ")+(o?"L"+a.join(" ")+"z":""))},path:function(t){const e=h.path(S(t));return e.graphiePath=t,e},fixedPath:function(t,e,i){t=r.default.map(t,k),e=e?k(e):null,i=i||S;const n=r.default.min(r.default.pluck(t,0)),o=r.default.max(r.default.pluck(t,0)),a=r.default.min(r.default.pluck(t,1)),u=r.default.max(r.default.pluck(t,1)),d=[4,4],h=[n,a];t=r.default.map(t,(function(t){return s.vector.add(s.vector.subtract(t,h),s.vector.scale(d,.5))}));const f=o-n+d[0],p=u-a+d[1],g=h[0]-d[0]/2,m=h[1]-d[1]/2,v=document.createElement("div");(0,l.default)(v).css({position:"absolute",width:f+"px",height:p+"px",left:g+"px",top:m+"px",transformOrigin:e?f/2+e[0]+"px "+(p/2+e[1])+"px":null});return{wrapper:v,visibleShape:(0,c.default)(v,f,p).path(i(t))}},scaledPath:function(t){const e=h.path(S(t,!0));return e.graphiePath=t,e},line:function(t,e){const i=this.path([t,e]);return E.isMobile&&(i.node.style.shapeRendering="crispEdges"),i},parabola:function(t,e,i){return h.path(M(t,e,i))},fixedLine:function(t,e,i){const n=[i,i];t=k(t),e=k(e);const o=[Math.min(t[0],e[0]),Math.min(t[1],e[1])];t=s.vector.add(s.vector.subtract(t,o),s.vector.scale(n,.5)),e=s.vector.add(s.vector.subtract(e,o),s.vector.scale(n,.5));const a=o[0]-n[0]/2,r=o[1]-n[1]/2,u=Math.abs(t[0]-e[0])+n[0],d=Math.abs(t[1]-e[1])+n[1],h=document.createElement("div");(0,l.default)(h).css({position:"absolute",width:u+"px",height:d+"px",left:a+"px",top:r+"px",transformOrigin:t[0]+"px "+t[1]+"px"});const f=(0,c.default)(h,u,d),p="M"+t[0]+" "+t[1]+" L"+e[0]+" "+e[1],g=f.path(p);return g.graphiePath=[t,e],{wrapper:h,visibleShape:g}},sinusoid:function(t,e,i,n){return h.path(T(t,e,i,n))},grid:function(t,e){const i=x.step||[1,1],n=h.set();let o=i[0]*Math.ceil(t[0]/i[0]);for(;o<=t[1];o+=i[0])n.push(this.line([o,e[0]],[o,e[1]]));let a=i[1]*Math.ceil(e[0]/i[1]);for(;a<=e[1];a+=i[1])n.push(this.line([t[0],a],[t[1],a]));return n},label:function(e,i,n,o){o=void 0===o||o;const a=(0,l.default)("<span>").addClass("graphie-label"),s=x["label-distance"];a.css(l.default.extend({},{position:"absolute",padding:(null!=s?s:7)+"px",color:"black"})).data("labelDirection",n).appendTo(t),a.setPosition=function(t){const e=k(t);a.css({left:e[0],top:e[1]})},a.setPosition(e);const r=a[0];return a.processMath=function(t,e){p(r,t,e,(function(){const t=r.scrollWidth,e=r.scrollHeight;_(r,[t,e])}))},a.processText=function(t){a.html(t);const e=r.scrollWidth,i=r.scrollHeight;_(r,[e,i])},o?a.processMath(i,!1):a.processText(i),a},plotParametric:function(t,e,i,n){n=n||function(t){return[t,0]};const a=t=>Math.abs(t[1])>5e5?[t[0],Math.min(Math.max(t[1],-5e5),5e5)]:t,s=e=>a(t(e)),r=t=>a(n(t));x.strokeLinejoin||(x.strokeLinejoin="round"),x.strokeLinecap||(x.strokeLinecap="round");const l=e[0],c=e[1];let u=(c-l)/(x["plot-points"]||800);0===u&&(u=1);const d=h.set();let f=[],p=m.coordDiff(s(l),r(l)),g=l;for(let t=l;t<=c;t+=u){const e=s(t),n=r(t),a=m.coordDiff(e,n);if(a[1]<0!=p[1]<0&&Math.abs(a[1]-p[1])>2*o||isNaN(a[1])){if(i){f.push(e);for(let e=t-u;e>=g;e-=u)f.push(r(e));g=t}d.push(this.path(f)),f=[],i&&f.push(e)}else f.push(e);p=a}if(i)for(let t=c-u;t>=g;t-=u)f.push(r(t));return d.push(this.path(f)),d},plotPolar:function(t,e){const i=e[0],o=e[1];return x["plot-points"]||(x["plot-points"]=2*(o-i)*n),this.plotParametric((function(e){return g(t(e),180*e/Math.PI)}),e)},plot:function(t,e,i,o,a){const s=e[0],r=e[1];if(x["plot-points"]||(x["plot-points"]=2*(r-s)*n),i){if(a)throw new u.KAError("Can't shade area between functions with swapped axes.",u.Errors.Internal);return this.plotParametric((function(e){return[t(e),e]}),e,o)}if(a){if(o)return this.plotParametric((function(e){return[e,t(e)]}),e,o,(function(t){return[t,a(t)]}));throw new u.KAError("fn2 should only be set when 'shade' is True.",u.Errors.Internal)}return this.plotParametric((function(e){return[e,t(e)]}),e,o)},plotPiecewise:function(t,e){const i=h.set(),n=this;return r.default.times(t.length,(function(o){const a=t[o],s=e[o],l=n.plotParametric((function(t){return[t,a(t)]}),s);r.default.each(l,(function(t){i.push(t)}))})),i},plotEndpointCircles:function(t){const e=h.set(),i=this;return r.default.each(t,(function(t,n){e.push(i.circle(t,.15))})),e},plotAsymptotes:function(t,e){const i=e[0],n=e[1],a=(n-i)/(x["plot-points"]||800),s=h.set();let r=t(i);for(let e=i;e<=n;e+=a){const i=t(e);i<0!=r<0&&Math.abs(i-r)>2*o&&s.push(this.line([e,o],[e,-o])),r=i}return s}},E=new v;return r.default.extend(E,{raphael:h,init:function(a){let s=a.scale||[40,40];if(s="number"==typeof s?[s,s]:s,n=s[0],o=s[1],null==a.range)throw new u.KAError("range should be specified in graph init",u.Errors.Internal);e=a.range[0],i=a.range[1];const r=(e[1]-e[0])*n,c=(i[1]-i[0])*o;return h.setSize(r,c),(0,l.default)(t).css({width:r,height:c}),this.range=a.range,this.scale=s,this.dimensions=[r,c],this.xpixels=r,this.ypixels=c,this.isMobile=a.isMobile,this},style:function(t,e){const i=C(t);if("function"==typeof e){const t=x;x=l.default.extend({},x,i);const n=e.call(E);return x=t,n}l.default.extend(x,i)},scalePoint:k,scaleVector:w,unscalePoint:function t(a){if("number"==typeof a)return t([a,a]);const s=a[0],r=a[1];return[s/n+e[0],i[1]-r/o]},unscaleVector:function t(e){return"number"==typeof e?t([e,e]):[e[0]/n,e[1]/o]},svgPath:S,svgParabolaPath:M,svgSinusoidPath:T}),l.default.each(P,(function(t){E[t]=function(){const e=arguments[arguments.length-1],i=x;let n;if("object"!=typeof e||r.default.isArray(e))x=l.default.extend({},x),n=P[t].apply(P,arguments);else{x=(0,a.default)({},x,C(e));const i=[].slice.call(arguments,0,arguments.length-1);n=P[t].apply(P,i)}const o=n.constructor.prototype;return o===c.default.el||o===c.default.st?(n.attr(x),x.arrows&&(n=A(n))):n instanceof l.default&&n.css((0,a.default)({},x,b)),x=i,n}})),E.graphInit=function(t){t=t||{},l.default.each(t,(function(e,i){e.match(/.*Opacity$/)||"range"===e||"number"!=typeof i||(t[e]=[i,i]),"range"!==e&&"gridRange"!==e||(i.constructor===Array?i[0].constructor!==Array&&(t[e]=[[-i[0],i[0]],[-i[1],i[1]]]):"number"==typeof i&&(t[e]=[[-i,i],[-i,i]]))}));const e=t.range||[[-10,10],[-10,10]],i=t.gridRange||t.range,n=t.scale||[20,20],o=null==t.grid||t.grid,a=t.gridOpacity||.1,s=t.gridStep||[1,1],c=null==t.axes||t.axes,u=t.axisArrows||"",d=t.axisOpacity||1,h=t.axisCenter||[Math.min(Math.max(e[0][0],0),e[0][1]),Math.min(Math.max(e[1][0],0),e[1][1])],p=null!=t.axisLabels&&t.axisLabels,g=null==t.ticks||t.ticks,m=t.tickStep||[2,2],v=t.tickLen||[5,5],y=t.tickOpacity||1,b=t.labels||t.labelStep||!1,x=t.labelStep||[1,1],w=t.labelOpacity||1;let k=t.unityLabels||!1;const _=t.labelFormat||function(t){return t};let S=t.xLabelFormat||_,M=t.yLabelFormat||_;const T=null==t.smartLabelPositioning||t.smartLabelPositioning,C=[[e[0][0]-(e[0][0]>0?1:0),e[0][1]+(e[0][1]<0?1:0)],[e[1][0]-(e[1][0]>0?1:0),e[1][1]+(e[1][1]<0?1:0)]];if(r.default.isArray(k)||(k=[k,k]),T){const t=function(t){return function(e){return(t(e)+"").replace(/-(\d)/g,"\\llap{-}$1")}};S=t(S),M=t(M)}if(this.init({range:C,scale:n,isMobile:t.isMobile}),o&&this.grid(i[0],i[1],{stroke:t.isMobile?f.default.GRAY_C:"#000000",opacity:t.isMobile?1:a,step:s,strokeWidth:t.isMobile?1:2}),c&&("<->"===u||!0===u?this.style({stroke:t.isMobile?f.default.GRAY_G:"#000000",opacity:t.isMobile?1:d,strokeWidth:t.isMobile?1:2,arrows:"->"},(function(){e[1][0]<0&&e[1][1]>0&&(this.path([h,[i[0][0],h[1]]]),this.path([h,[i[0][1],h[1]]])),e[0][0]<0&&e[0][1]>0&&(this.path([h,[h[0],i[1][0]]]),this.path([h,[h[0],i[1][1]]]))})):"->"!==u&&""!==u||this.style({stroke:"#000000",opacity:d,strokeWidth:2,arrows:u},(function(){this.path([[i[0][0],h[1]],[i[0][1],h[1]]]),this.path([[h[0],i[1][0]],[h[0],i[1][1]]])})),p&&2===p.length&&(this.label([i[0][1],h[1]],p[0],"right"),this.label([h[0],i[1][1]],p[1],"above"))),g){const o=t.isMobile;this.style({stroke:t.isMobile?f.default.GRAY_G:"#000000",opacity:t.isMobile?1:y,strokeWidth:1},(function(){let t=s[0]*m[0],a=v[0]/n[1],r=i[0][0],l=i[0][1];if(e[1][0]<0&&e[1][1]>0){for(let e=t+h[0];e<=l;e+=t)(e<l||!u)&&this.line([e,-a+h[1]],[e,o?0:a+h[1]]);for(let e=-t+h[0];e>=r;e-=t)(e>r||!u)&&this.line([e,-a+h[1]],[e,o?0:a+h[1]])}if(t=s[1]*m[1],a=v[1]/n[0],r=i[1][0],l=i[1][1],e[0][0]<0&&e[0][1]>0){for(let e=t+h[1];e<=l;e+=t)(e<l||!u)&&this.line([-a+h[0],e],[o?0:a+h[0],e]);for(let e=-t+h[1];e>=r;e-=t)(e>r||!u)&&this.line([-a+h[0],e],[o?0:a+h[0],e])}}))}b&&this.style({stroke:t.isMobile?f.default.GRAY_G:"#000000",opacity:t.isMobile?1:w},(function(){let t=s[0]*m[0]*x[0],e=i[0][0],n=i[0][1];const o=h[0]<0?"above":"below",a=h[0]<0?"right":"left",r=0===h[0]&&0!==h[1],l=0!==h[0]&&0===h[1],c=0!==h[0]||0!==h[1],d=k[0]||c,f=k[1]||c;for(let e=(r?0:t)+h[0];e<=n;e+=t)(e<n||!u)&&this.label([e,h[1]],S(e),o);for(let i=-t*(d?1:2)+h[0];i>=e;i-=t)(i>e||!u)&&this.label([i,h[1]],S(i),o);t=s[1]*m[1]*x[1],e=i[1][0],n=i[1][1];for(let e=(l?0:t)+h[1];e<=n;e+=t)(e<n||!u)&&this.label([h[0],e],M(e),a);for(let i=-t*(f?1:2)+h[1];i>=e;i-=t)(i>e||!u)&&this.label([h[0],i],M(i),a)}))},E};var x=m;e.default=x},"2qRe":function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("oLyU")),a=n(i("d773")),s=i("eAf/");const r={constrain:function(){this.constrain()}};r.standard=[r.constrain];const l={draw:function(){this.draw()}};l.standard=[l.draw];const c={basic:function(t,e){const i=this.graphie;if(!this.state.visibleShape){const e=[this.pointSize()/i.scale[0],this.pointSize()/i.scale[1]],n={maxScale:Math.max(this.highlightStyle().scale,this.normalStyle().scale),padding:10,shadow:t.shadow};this.state.visibleShape=new a.default(i,this.coord(),e,n),this.state.visibleShape.attr(o.default.omit(this.normalStyle(),"scale")),this.state.visibleShape.toFront(),this.mouseTarget()&&this.mouseTarget().toFront()}t.normalStyle===e.normalStyle||o.default.isEqual(t.normalStyle,e.normalStyle)||this.state.visibleShape.attr(this.normalStyle()),this.state.visibleShape.moveTo(this.coord()),this.mouseTarget()&&this.mouseTarget().moveTo(this.coord())},highlight:function(t,e){t.isHovering&&!e.isHovering?t.visibleShape.animate(this.highlightStyle(),50):!t.isHovering&&e.isHovering&&t.visibleShape.animate(this.normalStyle(),50)}};c.standard=[c.basic,c.highlight];const u={basic:function(){this.state.visibleShape&&(this.state.visibleShape.remove(),this.state.visibleShape=null)}};u.standard=u.basic;const d={fixed:function(){return function(){return!1}},snap:function(t){return function(e){return null===t||(t=t||this.graphie.snap,s.point.roundTo(e,t))}},bound:function(t,e,i){return void 0===i&&(i=void 0===t?10:0),function(n,o,a){const r=this.graphie;t=t||r.range,void 0===e&&(e=r.snap);let l=r.unscalePoint([i,r.ypixels-i]),c=r.unscalePoint([r.xpixels-i,i]);if(e&&(l=s.point.ceilTo(l,e),c=s.point.floorTo(c,e)),a&&a.onOutOfBounds)return(n[0]>c[0]||n[0]<l[0]||n[1]>c[1]||n[1]<l[1])&&(a.onSkipRemaining(),a.onOutOfBounds()),n;return[Math.max(l[0],Math.min(c[0],n[0])),Math.max(l[1],Math.min(c[1],n[1]))]}},standard:null};var h={add:r,modify:l,draw:c,remove:u,onMoveStart:{standard:null},constraints:d,onMove:{standard:null},onMoveEnd:{standard:null},onClick:{standard:null}};e.default=h},"4CVt":function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("bRUr")).default.makeRule({name:"profanity",pattern:/\b(shit|piss|fuck|cunt|cocksucker|motherfucker|tits)\b/i,message:"Avoid profanity"});e.default=o},"4Zwh":function(t,e,i){"use strict";var n=i("284h"),o=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o(i("oLyU")),s=n(i("4PhQ"));const r="block",l=["default"],c={},u={},d={registerWidget:function(t,e){c[t]=e},registerWidgets:function(t){t.forEach((t=>{this.registerWidget(t.name,t)})),this.validateAlignments()},registerEditors:function(t){t.forEach((t=>{if(!t.widgetName)throw new s.KAError("Editor ".concat(t.displayName," doesn't have a widgetName property"),s.Errors.Internal);u[t.widgetName]=t}))},getWidget:function(t){return a.default.has(c,t)?c[t].getWidget?c[t].getWidget():c[t].widget:null},getEditor:function(t){return a.default.has(u,t)?u[t]:null},getTransform:function(t){return a.default.has(c,t)?c[t].transform||a.default.identity:null},getVersion:function(t){return c[t]?c[t].version||{major:0,minor:0}:null},getVersionVector:function(){const t={};return a.default.each(a.default.keys(c),(function(e){t[e]=d.getVersion(e)})),t},getPublicWidgets:function(){return a.default.pick(c,a.default.reject(a.default.keys(c),(function(t){return c[t].hidden})))},isAccessible:function(t){const e=c[t.type].accessible;return"function"==typeof e?e(t.options):!!e},getAllWidgetTypes:function(){return a.default.keys(c)},upgradeWidgetInfoToLatestVersion:function(t){const e=t.type;if(!a.default.isString(e))throw new s.KAError("widget type must be a string, but was: "+e,s.Errors.Internal);const i=c[e];if(null==i)return t;const n=t.version||{major:0,minor:0},o=i.version||{major:0,minor:0};if(n.major>o.major||n.major===o.major&&n.minor>o.minor)return t;let r=a.default.clone(t.options)||{};const l=i.propUpgrades||{};if(0!==a.default.keys(r).length)for(let t=n.major+1;t<=o.major;t++)l[t]?r=l[t](r):s.default.error("No upgrade found for widget `"+e+"` from major version `"+(t-1)+"` to major version `"+t+"` found. This is necessary to render this `"+e+"` correctly.",s.Errors.Internal);const h=e in u?u[e].defaultProps:{};r=a.default.extend({},h,r);let f=t.alignment;null!=f&&"default"!==f||(f=d.getSupportedAlignments(e)[0]);let p=t.static;return null==p&&(p=false),a.default.extend({},t,{version:o,graded:null==t.graded||t.graded,alignment:f,static:p,options:r})},getRendererPropsForWidgetInfo:function(t,e){const i=t.type,n=c[i];if(null==n)return t.options;let o;return o=t.static?this.getStaticTransform(i)||a.default.identity:n.transform||a.default.identity,o(t.options,e)},traverseChildWidgets:function(t,e){if(!e)throw new s.KAError("traverseRenderer must be provided, but was not",s.Errors.Internal);if(!t||!t.type||!c[t.type])return t;const i=c[t.type],n=t.options;if(i.traverseChildWidgets&&n){const o=i.traverseChildWidgets(n,e);return a.default.extend({},t,{options:o})}return t},getSupportedAlignments:function(t){const e=c[t];return e&&e.supportedAlignments||l},getDefaultAlignment:function(t){const e=c[t];let i;return e?(i=e.getDefaultAlignment?e.getDefaultAlignment():e.defaultAlignment,i||r):r},validAlignments:["block","inline-block","inline","float-left","float-right","full-width"],validateAlignments:function(){a.default.each(c,(function(t){if(t.defaultAlignment&&!a.default.contains(d.validAlignments,t.defaultAlignment))throw new s.KAError("Widget '"+t.displayName+"' has an invalid defaultAlignment value: "+t.defaultAlignment,s.Errors.Internal);if(t.supportedAlignments){const e=a.default.difference(t.supportedAlignments,d.validAlignments);if(e.length)throw new s.KAError("Widget '"+t.displayName+"' has an invalid value for supportedAlignments: "+e.join(" "),s.Errors.Internal)}}))},supportsStaticMode:function(t){const e=c[t];return e&&null!=e.staticTransform},getStaticTransform:function(t){const e=c[t];return e&&e.staticTransform},getTracking:function(t){const e=c[t];return e&&e.tracking||""},isLintable:function(t){const e=c[t];return e&&e.isLintable||false}};var h=d;e.default=h},"4vmB":function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("oLyU")),a=n(i("rGVj"));i("KSpR");var s=i("4PhQ"),r=n(i("nL9U")),l=n(i("2BsJ")),c=i("eAf/"),u=n(i("d773")),d=n(i("T2HF")),h=n(i("f3EM")),f=n(i("XwLL")),p=n(i("yfnS")),g=n(i("p8fL"));const{getCanUse3dTransform:m}=g.default;function v(t){return o.default.reduce(t,(function(t,e){return t+e}),0)}function y(){const t=o.default.toArray(arguments),e=o.default.zip.apply(o.default,t);return o.default.map(e,v)}function b(t){return o.default.map(t,(function(t){return-1*t}))}function x(t){const e=11.374597405497571;return 58.919514629750836*Math.exp(-.037587715462826674*t)+e}function w(t,e){return[t*Math.cos(e),t*Math.sin(e)*-1]}function k(t,e){return w(t,e*Math.PI/180)}let _=!1;const S={bogusShape:{animate:function(){},attr:function(){},remove:function(){}}};function M(t,e){this.set=t.raphael.set(),this.cx=e[0],this.cy=e[1];const i=this,n=t.unscaleVector(180.5)[0],o=t.scalePoint([this.cx-n,this.cy+n-t.unscaleVector(10.5)[1]]),s=t.mouselayer.image("https://ka-perseus-graphie.s3.amazonaws.com/e9d032f2ab8b95979f674fbfa67056442ba1ff6a.png",o[0],o[1],360,180);this.set.push(s),s.node.addEventListener("touchstart",(function(t){t.preventDefault()}),{passive:!1});const r=function(i,o){const a=t.scaleVector(n);a[0]-=16,a[1]-=16;const s=t.scalePoint(e);return Math.sin((i+90)*Math.PI/180)*(a[0]+o)+s[0]+","+(Math.cos((i+90)*Math.PI/180)*(a[1]+o)+s[1])},c=t.raphael.path(" M"+r(180,6)+" L"+r(180,2)+" L"+r(183,10)+" L"+r(180,18)+" L"+r(180,14)+" A"+(t.scaleVector(n)[0]+10)+","+(t.scaleVector(n)[1]+10)+",0,0,1,"+r(170,14)+" L"+r(170,18)+" L"+r(167,10)+" L"+r(170,2)+" L"+r(170,6)+" A"+(t.scaleVector(n)[0]+10)+","+(t.scaleVector(n)[1]+10)+",0,0,0,"+r(180,6)+" Z").attr({stroke:null,fill:p.default.INTERACTIVE});this.set.push(c),this.centerPoint=t.addMovablePoint({coord:e,visible:!1}),this.rotateHandle=t.addMovablePoint({bounded:!1,coord:[Math.sin(275*Math.PI/180)*n+this.cx,Math.cos(275*Math.PI/180)*n+this.cy],onMove:function(t,e){const n=180*Math.atan2(i.centerPoint.coord[1]-e,i.centerPoint.coord[0]-t)/Math.PI;i.rotate(-n-5,!0)}}),this.rotateHandle.constraints.fixedDistance.dist=n,this.rotateHandle.constraints.fixedDistance.point=this.centerPoint,this.rotateHandle.visibleShape.remove(),this.rotateHandle.mouseTarget.attr({scale:2});let u=!1,d=!1;const h=function(){return d||u},f=(0,a.default)(this.rotateHandle.mouseTarget.getMouseTarget());f.bind("vmousedown",(function(t){u=!0,f.css("cursor","-webkit-grabbing"),f.css("cursor","grabbing"),c.animate({scale:1.5,fill:p.default.INTERACTING},50),(0,a.default)(document).bind("vmouseup.rotateHandle",(function(t){u=!1,f.css("cursor","-webkit-grab"),f.css("cursor","grab"),h()||c.animate({scale:1,fill:p.default.INTERACTIVE},50),(0,a.default)(document).unbind("vmouseup.rotateHandle")}))})),f.bind("vmouseover",(function(t){d=!0,c.animate({scale:1.5,fill:p.default.INTERACTING},50)})),f.bind("vmouseout",(function(t){d=!1,h()||c.animate({scale:1,fill:p.default.INTERACTIVE},50)}));const g=a.default.map(this.set,(function(t){return t.node}));return this.makeTranslatable=function(){(0,a.default)(g).css("cursor","move"),f.css("cursor","-webkit-grab"),f.css("cursor","grab"),(0,a.default)(g).bind("vmousedown",(function(e){e.preventDefault();let n=e.pageX-(0,a.default)(t.raphael.canvas.parentNode).offset().left,o=e.pageY-(0,a.default)(t.raphael.canvas.parentNode).offset().top;(0,a.default)(document).bind("vmousemove.protractor",(function(e){let s=e.pageX-(0,a.default)(t.raphael.canvas.parentNode).offset().left,r=e.pageY-(0,a.default)(t.raphael.canvas.parentNode).offset().top;s=Math.max(10,Math.min(t.xpixels-10,s)),r=Math.max(10,Math.min(t.ypixels-10,r));const l=s-n,c=r-o;a.default.each(i.set.items,(function(){this.translate(l,c)})),i.centerPoint.setCoord([i.centerPoint.coord[0]+l/t.scale[0],i.centerPoint.coord[1]-c/t.scale[1]]),i.rotateHandle.setCoord([i.rotateHandle.coord[0]+l/t.scale[0],i.rotateHandle.coord[1]-c/t.scale[1]]),n=s,o=r})),(0,a.default)(document).one("vmouseup",(function(t){(0,a.default)(document).unbind("vmousemove.protractor")}))}))},this.rotation=0,this.rotate=function(e,i){const n=t.scalePoint(this.centerPoint.coord);return i&&(this.rotation=0),this.set.rotate(this.rotation+e,n[0],n[1]),this.rotation=this.rotation+e,this},this.moveTo=function(e,n){const o=t.scalePoint(i.centerPoint.coord),s=t.scalePoint([e,n]),r=2*l.default.getDistance(o,s);(0,a.default)({x:o[0],y:o[1]}).animate({x:s[0],y:s[1]},{duration:r,step:function(e,n){let o=0,s=0;"x"===n.prop?o=e-t.scalePoint(i.centerPoint.coord)[0]:"y"===n.prop&&(s=e-t.scalePoint(i.centerPoint.coord)[1]),a.default.each(i.set.items,(function(){this.translate(o,s)})),i.centerPoint.setCoord([i.centerPoint.coord[0]+o/t.scale[0],i.centerPoint.coord[1]-s/t.scale[1]]),i.rotateHandle.setCoord([i.rotateHandle.coord[0]+o/t.scale[0],i.rotateHandle.coord[1]-s/t.scale[1]])}})},this.rotateTo=function(t){Math.abs(this.rotation-t)>180&&(this.rotation+=360);const e=5*Math.abs(this.rotation-t);(0,a.default)({0:this.rotation}).animate({0:t},{duration:e,step:function(t,e){i.rotate(t,!0),i.rotateHandle.setCoord([Math.sin((t+275)*Math.PI/180)*n+i.centerPoint.coord[0],Math.cos((t+275)*Math.PI/180)*n+i.centerPoint.coord[1]])}})},this.remove=function(){this.set.remove()},this.makeTranslatable(),this}function T(t,e){o.default.defaults(e,{center:[0,0],pixelsPerUnit:40,ticksPerUnit:10,units:10,label:"",style:{fill:null,stroke:p.default.GRAY}});const i=o.default.extend({},e.style,{strokeWidth:1}),n=o.default.extend({},e.style,{strokeWidth:2}),s=e.units*e.pixelsPerUnit,r=t.unscalePoint(c.vector.subtract(t.scalePoint(e.center),c.vector.scale([s,-50],.5))),u=e.pixelsPerUnit/t.scale[0],d=50/t.scale[0],h=c.vector.add(r,[e.units*u,d]);let f;if(10===e.ticksPerUnit)f={10:1,5:.55,1:.35};else{const t=[1,.6,.45,.3];f={};for(let i=e.ticksPerUnit;i>=1;i/=2)f[i]=1*(t.shift()||.2)}const g=o.default.keys(f).sort((function(t,e){return e-t}));const m=r[0],v=r[1],y=h[0],b=h[1],x=e.units*e.ticksPerUnit+1,w=t.raphael.set(),k=1/t.scale[0];w.push(t.line([m-k,v],[y+k,v],n)),w.push(t.line([m-k,b],[y+k,b],n)),o.default.times(x,(function(o){const a=o/e.ticksPerUnit,s=m+a*u,r=function(t){for(let e=0;e<g.length;e++){const i=g[e];if(t%i==0)return f[i]}}(o)*d,l=0===o||o===x-1?n:i;if(w.push(t.line([s,v],[s,v+r],l)),a%1==0){const i=t.scalePoint([s,b]);let n,o;0===a?(n=e.label,o={mm:13,cm:11,m:8,km:11,in:8,ft:8,yd:10,mi:10}[n]||3*n.toString().length):(n=a,o=-3*(a.toString().length+1));const r=t.raphael.text(i[0]+o,i[1]+10,n);r.attr({"font-family":"KaTeX_Main","font-size":"12px",color:"#444"}),w.push(r)}}));const _=t.mouselayer.path(l.default.svgPath([r,[m,b],h,[y,v],!0]));_.attr({fill:"#000",opacity:0,stroke:"#000","stroke-width":2}),w.push(_),_.node.addEventListener("touchstart",(function(t){t.preventDefault()}),{passive:!1});const S=a.default.map(w,(function(t){return t.node}));(0,a.default)(S).css("cursor","move"),(0,a.default)(S).bind("vmousedown",(function(e){e.preventDefault();let i=e.pageX-(0,a.default)(t.raphael.canvas.parentNode).offset().left,n=e.pageY-(0,a.default)(t.raphael.canvas.parentNode).offset().top;(0,a.default)(document).bind("vmousemove.ruler",(function(e){let o=e.pageX-(0,a.default)(t.raphael.canvas.parentNode).offset().left,s=e.pageY-(0,a.default)(t.raphael.canvas.parentNode).offset().top;o=Math.max(10,Math.min(t.xpixels-10,o)),s=Math.max(10,Math.min(t.ypixels-10,s));const r=o-i,l=s-n;w.translate(r,l),M.setCoord([M.coord[0]+r/t.scale[0],M.coord[1]-l/t.scale[1]]),T.setCoord([T.coord[0]+r/t.scale[0],T.coord[1]-l/t.scale[1]]),i=o,n=s})),(0,a.default)(document).one("vmouseup",(function(t){(0,a.default)(document).unbind("vmousemove.ruler")}))}));const M=t.addMovablePoint({coord:r,normalStyle:{fill:p.default.INTERACTIVE,"fill-opacity":0,stroke:p.default.INTERACTIVE},highlightStyle:{fill:p.default.INTERACTING,"fill-opacity":.1,stroke:p.default.INTERACTING},pointSize:6,onMove:function(e,i){const n=T.coord[1]-i,o=T.coord[0]-e,a=180*Math.atan2(n,o)/Math.PI,s=c.vector.scale(c.vector.add([e,i],T.coord),.5),r=t.scalePoint(s),l=c.vector.scale(c.vector.add(M.coord,T.coord),.5),u=t.scalePoint(l),d=c.vector.subtract(r,u);w.rotate(-a,u[0],u[1]),w.translate(d[0],d[1])}}),T=t.addMovablePoint({coord:[y,v],normalStyle:{fill:p.default.INTERACTIVE,"fill-opacity":0,stroke:p.default.INTERACTIVE},highlightStyle:{fill:p.default.INTERACTING,"fill-opacity":.1,stroke:p.default.INTERACTING},pointSize:6,onMove:function(e,i){const n=i-M.coord[1],o=e-M.coord[0],a=180*Math.atan2(n,o)/Math.PI,s=c.vector.scale(c.vector.add([e,i],M.coord),.5),r=t.scalePoint(s),l=c.vector.scale(c.vector.add(M.coord,T.coord),.5),u=t.scalePoint(l),d=c.vector.subtract(r,u);w.rotate(-a,u[0],u[1]),w.translate(d[0],d[1])}});return M.constraints.fixedDistance.dist=s/t.scale[0],M.constraints.fixedDistance.point=T,T.constraints.fixedDistance.dist=s/t.scale[0],T.constraints.fixedDistance.point=M,this.remove=function(){w.remove(),M.remove(),T.remove()},this}function C(t,e){if(this.graphie=t,o.default.extend(this,e),o.default.defaults(this,{normalStyle:{stroke:p.default.INTERACTIVE,"stroke-width":2,fill:p.default.INTERACTIVE},highlightStyle:{stroke:p.default.INTERACTING,"stroke-width":2,fill:p.default.INTERACTING},labelStyle:{stroke:p.default.DYNAMIC,"stroke-width":1,color:p.default.DYNAMIC},angleStyle:{stroke:p.default.DYNAMIC,"stroke-width":1,color:p.default.DYNAMIC},allowReflex:!0}),!this.points||3!==this.points.length)throw new s.KAError("MovableAngle requires 3 points",s.Errors.Internal);this.points=o.default.map(e.points,(function(e){return o.default.isArray(e)?t.addMovablePoint({coord:e,visible:!1,constraints:{fixed:!0},normalStyle:this.normalStyle}):e}),this),this.coords=o.default.pluck(this.points,"coord"),null==this.reflex&&(this.allowReflex?this.reflex=this._getClockwiseAngle(this.coords)>180:this.reflex=!1),this.rays=o.default.map([0,2],(function(e){return t.addMovableLineSegment({pointA:this.points[1],pointZ:this.points[e],fixed:!0,extendRay:!0})}),this),this.temp=[],this.labeledAngle=t.label([0,0],"","center",this.labelStyle),this.fixed||(this.addMoveHandlers(),this.addHighlightHandlers()),this.update()}o.default.extend(l.default.Graphie.prototype,{addMouseLayer:function(t){const e=this;t=o.default.extend({allowScratchpad:!1,setDrawingAreaAvailable:function(){}},t);if(e.mouselayer=(0,r.default)(e.raphael.canvas.parentNode,e.xpixels,e.ypixels),(0,a.default)(e.mouselayer.canvas).css("z-index",2),t.onClick||t.onMouseDown||t.onMouseMove||t.onMouseOver||t.onMouseOut){const i=e.mouselayer.rect(0,0,e.xpixels,e.ypixels).attr({fill:"#000",opacity:0});let n=!1;(0,a.default)(e.mouselayer.canvas).on("vmousedown",(function(o){o.target===i[0]&&(t.onMouseDown&&t.onMouseDown(e.getMouseCoord(o)),n=!0,t.onMouseMove&&(0,a.default)(document).bind("vmousemove.mouseLayer",(function(i){n&&(i.preventDefault(),t.onMouseMove(e.getMouseCoord(i)))})),(0,a.default)(document).bind("vmouseup.mouseLayer",(function(i){(0,a.default)(document).unbind(".mouseLayer"),n&&t.onClick&&t.onClick(e.getMouseCoord(i)),n=!1})))})),t.onMouseOver&&(0,a.default)(e.mouselayer.canvas).on("vmouseover",(function(i){t.onMouseOver(e.getMouseCoord(i))})),t.onMouseOut&&(0,a.default)(e.mouselayer.canvas).on("vmouseout",(function(i){t.onMouseOut(e.getMouseCoord(i))}))}t.allowScratchpad||t.setDrawingAreaAvailable(!1),e._mouselayerWrapper=document.createElement("div"),(0,a.default)(e._mouselayerWrapper).css({position:"absolute",left:0,top:0,zIndex:2}),e._visiblelayerWrapper=document.createElement("div"),(0,a.default)(e._visiblelayerWrapper).css({position:"absolute",left:0,top:0});const i=e.raphael.canvas.parentNode;i.appendChild(e._visiblelayerWrapper),i.appendChild(e._mouselayerWrapper),e.addToMouseLayerWrapper=function(t){this._mouselayerWrapper.appendChild(t)},e.addToVisibleLayerWrapper=function(t){this._visiblelayerWrapper.appendChild(t)}},getMousePx:function(t){return[t.pageX-(0,a.default)(this.raphael.canvas.parentNode).offset().left,t.pageY-(0,a.default)(this.raphael.canvas.parentNode).offset().top]},getMouseCoord:function(t){return this.unscalePoint(this.getMousePx(t))},labelAngle:function(t){const e=this;o.default.defaults(t,{point1:[0,0],vertex:[0,0],point3:[0,0],label:null,numArcs:1,showRightAngleMarker:!0,pushOut:0,clockwise:!1,style:{}});let i=void 0===t.text?"":t.text;const n=t.vertex,a=e.scalePoint(n);let s,r;t.clockwise?(s=t.point1,r=t.point3):(s=t.point3,r=t.point1);const c=l.default.findAngle(s,n),u=l.default.findAngle(r,n),d=(u+360-c)%360,h=(c+d/2)%360;let p=5*t.pushOut+x(d);const g=[];if(Math.abs(d-90)<1e-9&&t.showRightAngleMarker){const i=y(a,k(p,c)),n=y(a,k(p,u));p*=Math.SQRT2;const s=y(a,k(p,h));o.default.each([i,n],(function(i){g.push(e.scaledPath([i,s],t.style))}))}else o.default.times(t.numArcs,(function(i){g.push(e.arc(n,e.unscaleVector(p),c,u,t.style)),p+=3}));if(i){const n=i.match(/\$deg(\d)?/);if(n){const t=n[1]||1;i=i.replace(n[0],f.default.toFixedApprox(d,t)+"^{\\circ}")}const o=y(a,k(p+15,h)),s=e.unscalePoint(o);t.label?(t.label.setPosition(s),t.label.processMath(i,!0)):e.label(s,i,"center",t.style)}return g},labelSide:function(t){const e=this;let i,n;o.default.defaults(t,{point1:[0,0],point2:[0,0],label:null,text:"",numTicks:0,numArrows:0,clockwise:!1,style:{}}),t.clockwise?(i=t.point1,n=t.point2):(i=t.point2,n=t.point1);const a=[(i[0]+n[0])/2,(i[1]+n[1])/2],s=e.scalePoint(a),r=Math.atan2(n[1]-i[1],n[0]-i[0]),c=r+Math.PI/2,u=[];let d=0;if(t.numTicks){const i=t.numTicks,n=5,a=5,l=o.default.extend({},t.style,{strokeWidth:2});o.default.times(i,(function(t){const o=w(n*(t-(i-1)/2),r),d=w(a,c),h=[y(s,o,d),y(s,o,b(d))];u.push(e.scaledPath(h,l))})),d+=n*(i-1)+15}if(t.numArrows){const a=t.numArrows,l=[i,n].sort((function(t,e){return t[1]===e[1]?t[0]-e[0]:t[1]-e[1]}))[0],c=e.scalePoint(l),h=o.default.extend({},t.style,{arrows:"->",strokeWidth:2}),f=5;o.default.times(a,(function(t){let n=w(d+f*t,r);l!==i&&(n=b(n));const o=y(s,n);u.push(e.scaledPath([c,o],h))}))}let h=t.text;if(h){const o=h.match(/\$len(\d)?/);if(o){const t=l.default.getDistance(i,n),e=o[1]||1;h=h.replace(o[0],f.default.toFixedApprox(t,e))}const a=w(20,c),r=y(s,a),u=e.unscalePoint(r);t.label?(t.label.setPosition(u),t.label.processMath(h,!0)):e.label(u,h,"center",t.style)}return u},labelVertex:function(t){const e=this;if(o.default.defaults(t,{point1:null,vertex:[0,0],point3:null,label:null,text:"",clockwise:!1,style:{}}),!t.text)return;const i=t.vertex,n=e.scalePoint(i);let a,s;t.clockwise?(a=t.point1,s=t.point3):(a=t.point3,s=t.point1);let r,c=135;if(a&&s){const t=l.default.findAngle(a,i);c=(l.default.findAngle(s,i)+360-t)%360,r=(t+c/2+180)%360}else if(a){r=l.default.findAngle(i,a)+90}else if(s){r=l.default.findAngle(s,i)+90}else r=135;const u=y(n,k(10+x(360-c),r)),d=e.unscalePoint(u);t.label?(t.label.setPosition(d),t.label.processMath(t.text,!0)):e.label(d,t.text,"center",t.style)},addMovablePoint:function(t){const e=a.default.extend(!0,{graph:this,coord:[0,0],snapX:0,snapY:0,pointSize:4,highlight:!1,dragging:!1,visible:!0,bounded:!0,constraints:{fixed:!1,constrainX:!1,constrainY:!1,fixedAngle:{},fixedDistance:{}},lineStarts:[],lineEnds:[],polygonVertices:[],normalStyle:{},highlightStyle:{fill:p.default.INTERACTING,stroke:p.default.INTERACTING},labelStyle:{color:p.default.INTERACTIVE},vertexLabel:"",mouseTarget:null},t),i=e.constraints.fixed?p.default.DYNAMIC:p.default.INTERACTIVE;e.normalStyle=o.default.extend({},{fill:i,stroke:i},t.normalStyle),void 0!==t.coordX&&(e.coord[0]=t.coordX),void 0!==t.coordY&&(e.coord[1]=t.coordY);const n=e.graph,s=function(t){e.visible&&e.bounded&&!e.constraints.fixed&&(t=n.constrainToBounds(t,10));let i=t[0],o=t[1];if(0!==e.snapX&&(i=Math.round(i/e.snapX)*e.snapX),0!==e.snapY&&(o=Math.round(o/e.snapY)*e.snapY),e.constraints.fixedDistance.snapPoints){const a=n.scalePoint(t);let s=a[0],r=a[1];const l=2*Math.PI/e.constraints.fixedDistance.snapPoints,c=e.constraints.fixedDistance.dist,u=e.constraints.fixedDistance.point,d=(u[0]-n.range[0][0])*n.scale[0],h=(-u[1]+n.range[1][1])*n.scale[1];let p=s-d,g=-r+h,m=Math.atan(g/p);p<0&&(m+=Math.PI),m=Math.round(m/l)*l,p=c*Math.cos(m),g=c*Math.sin(m),s=p+d,r=-g+h,i=f.default.roundTo(5,s/n.scale[0]+n.range[0][0]),o=f.default.roundTo(5,n.range[1][1]-r/n.scale[1])}return e.applyConstraint([i,o])};e.applyConstraint=function(t,i,n){let o=t.slice();const s={};if(n?a.default.extend(s,{fixed:!1,constrainX:!1,constrainY:!1,fixedAngle:{},fixedDistance:{}},i):a.default.extend(s,this.constraints,i),s.constrainX)o=[this.coord[0],t[1]];else if(s.constrainY)o=[t[0],this.coord[1]];else if("number"==typeof s.fixedAngle.angle&&"number"==typeof s.fixedDistance.dist){const t=s.fixedAngle.vertex.coord||s.fixedAngle.vertex,e=s.fixedAngle.ref.coord||s.fixedAngle.ref,i=s.fixedDistance.point.coord||s.fixedDistance.point,n=(s.fixedAngle.angle+l.default.findAngle(e,t))*Math.PI/180,a=s.fixedDistance.dist;o[0]=a*Math.cos(n)+i[0],o[1]=a*Math.sin(n)+i[1]}else if("number"==typeof s.fixedAngle.angle){const e=s.fixedAngle.vertex.coord||s.fixedAngle.vertex,i=s.fixedAngle.ref.coord||s.fixedAngle.ref,n=(s.fixedAngle.angle+l.default.findAngle(i,e))*Math.PI/180,a=l.default.findAngle(t,e)*Math.PI/180;let r=l.default.getDistance(t,e)*Math.cos(n-a);r=r<1?1:r,o[0]=r*Math.cos(n)+e[0],o[1]=r*Math.sin(n)+e[1]}else if("number"==typeof s.fixedDistance.dist){const e=s.fixedDistance.point.coord||s.fixedDistance.point;let i=l.default.findAngle(t,e);const n=s.fixedDistance.dist;i=i*Math.PI/180,o[0]=n*Math.cos(i)+e[0],o[1]=n*Math.sin(i)+e[1]}else s.fixed&&(o=e.coord);return o},e.coord=s(e.coord);if(e.visible&&n.style(e.normalStyle,(function(){const t=[e.pointSize/n.scale[0],e.pointSize/n.scale[1]],i={maxScale:2,padding:2};e.visibleShape=new u.default(n,e.coord,t,i),e.visibleShape.attr(o.default.omit(e.normalStyle,"scale")),e.visibleShape.toFront()})),e.normalStyle.scale=1,e.highlightStyle.scale=2,e.vertexLabel&&(e.labeledVertex=this.label([0,0],"","center",e.labelStyle)),e.drawLabel=function(){e.vertexLabel&&e.graph.labelVertex({vertex:e.coord,label:e.labeledVertex,text:e.vertexLabel,style:e.labelStyle})},e.drawLabel(),e.grab=function(t){t=t||[0,0],(0,a.default)(document).bind("vmousemove.point vmouseup.point",(function(i){i.preventDefault(),e.dragging=!0,_=!0;let r=c.vector.add(n.getMouseCoord(i),t);r=s(r);let l,u,d=r[0],h=r[1];if("vmousemove"===i.type){let t=!0;if(o.default.isFunction(e.onMove)){const i=e.onMove(d,h);!1===i&&(t=!1),o.default.isArray(i)&&(d=i[0],h=i[1])}if(l=(d-n.range[0][0])*n.scale[0],u=(-h+n.range[1][1])*n.scale[1],t){const t=n.unscalePoint([l,u]);e.visibleShape.moveTo(t),e.mouseTarget.moveTo(t),e.coord=[d,h],e.updateLineEnds(),(0,a.default)(e).trigger("move")}e.drawLabel()}else if("vmouseup"===i.type){if((0,a.default)(document).unbind(".point"),e.dragging=!1,_=!1,o.default.isFunction(e.onMoveEnd)){const t=e.onMoveEnd(d,h);if(o.default.isArray(t)){d=t[0],h=t[1],l=(d-n.range[0][0])*n.scale[0],u=(-h+n.range[1][1])*n.scale[1];const i=n.unscalePoint([l,u]);e.visibleShape.moveTo(i),e.mouseTarget.moveTo(i),e.coord=[d,h]}}e.highlight||(e.visibleShape.animate(e.normalStyle,50),e.onUnhighlight&&e.onUnhighlight())}}))},e.visible&&!e.constraints.fixed){if(!e.mouseTarget){const t=n.unscaleVector(16),i={mouselayer:!0,padding:0,disableMouseEventsOnWrapper:!0};e.mouseTarget=new u.default(n,e.coord,t,i),e.mouseTarget.attr({fill:"#000",opacity:0})}const t=(0,a.default)(e.mouseTarget.getMouseTarget());t.css("cursor","move"),t.bind("vmousedown vmouseover vmouseout",(function(t){if("vmouseover"===t.type)e.highlight=!0,_||(e.visibleShape.animate(e.highlightStyle,50),e.onHighlight&&e.onHighlight());else if("vmouseout"===t.type)e.highlight=!1,e.dragging||_||(e.visibleShape.animate(e.normalStyle,50),e.onUnhighlight&&e.onUnhighlight());else if("vmousedown"===t.type&&(1===t.which||0===t.which)){t.preventDefault();const i=e.coord,o=n.getMouseCoord(t),a=!("ontouchstart"in window)?[0,0]:c.vector.subtract(i,o);e.grab(a)}}))}return e.moveTo=function(t,i,n){const a=5*l.default.getDistance(this.graph.scalePoint([t,i]),this.graph.scalePoint(this.coord)),s=n&&function(t){e.coord=t,e.updateLineEnds()};this.visibleShape.animateTo([t,i],a,s),this.mouseTarget.animateTo([t,i],a,s),this.coord=[t,i],o.default.isFunction(this.onMove)&&this.onMove(t,i)},e.updateLineEnds=function(){(0,a.default)(this.lineStarts).each((function(){this.coordA=e.coord,this.transform()})),(0,a.default)(this.lineEnds).each((function(){this.coordZ=e.coord,this.transform()})),(0,a.default)(this.polygonVertices).each((function(){this.transform()}))},e.setCoord=function(t){this.visible&&(this.visibleShape.moveTo(t),null!=this.mouseTarget&&this.mouseTarget.moveTo(t)),this.coord=t.slice()},e.setCoordConstrained=function(t){this.setCoord(s(t))},e.toBack=function(){this.visible&&(null!=this.mouseTarget&&this.mouseTarget.toBack(),this.visibleShape.toBack())},e.toFront=function(){this.visible&&(null!=this.mouseTarget&&this.mouseTarget.toFront(),this.visibleShape.toFront())},e.remove=function(){this.visibleShape&&this.visibleShape.remove(),this.mouseTarget&&this.mouseTarget.remove(),this.labeledVertex&&this.labeledVertex.remove()},e},addMovableLineSegment:function(t){const e=a.default.extend({graph:this,coordA:[0,0],coordZ:[1,1],snapX:0,snapY:0,fixed:!1,ticks:0,normalStyle:{},highlightStyle:{stroke:p.default.INTERACTING,"stroke-width":6},labelStyle:{stroke:p.default.INTERACTIVE,color:p.default.INTERACTIVE},highlight:!1,dragging:!1,tick:[],extendLine:!1,extendRay:!1,constraints:{fixed:!1,constrainX:!1,constrainY:!1},sideLabel:"",vertexLabels:[],numArrows:0,numTicks:0,movePointsWithLine:!1},t),i=e.fixed?p.default.DYNAMIC:p.default.INTERACTIVE;e.normalStyle=o.default.extend({},{"stroke-width":2,stroke:i},t.normalStyle),e.arrowStyle=o.default.extend({},e.normalStyle,{color:e.normalStyle.stroke}),void 0!==t.pointA?(e.coordA=t.pointA.coord,e.pointA.lineStarts.push(e)):void 0!==t.coordA&&(e.coordA=t.coordA.slice()),void 0!==t.pointZ?(e.coordZ=t.pointZ.coord,e.pointZ.lineEnds.push(e)):void 0!==t.coordA&&(e.coordA=e.coordA.slice());const n=e.graph;n.style(e.normalStyle);for(let t=0;t<e.ticks;++t)e.tick[t]=S.bogusShape;let s=l.default.unscaledSvgPath([[0,0],[1,0]]);for(let t=0;t<e.ticks;++t){const i=.5-(e.ticks-1+2*t)/n.scale[0];s+=l.default.unscaledSvgPath([[i,-7],[i,7]])}if(t={thickness:Math.max(e.normalStyle["stroke-width"],e.highlightStyle["stroke-width"])},e.visibleLine=new d.default(n,[0,0],[1,0],t),e.visibleLine.attr(e.normalStyle),!e.fixed){const t={thickness:30,mouselayer:!0};e.mouseTarget=new d.default(n,[0,0],[1,0],t),e.mouseTarget.attr({fill:"#000",opacity:0})}if(e.transform=function(t){t&&("object"==typeof this.pointA&&(this.coordA=this.pointA.coord),"object"==typeof this.pointZ&&(this.coordZ=this.pointZ.coord));const i=function(t,i,n){const o=(t=e.graph).range[0][1]-t.range[0][0]+(t.range[1][1]-t.range[1][0]),a=t.unscaleVector(c.vector.cartFromPolarDeg([1,n])),s=c.vector.scale(c.vector.normalize(a),o),r=c.vector.add(i,s),l=c.vector.polarDegFromCart(a)[1];return t.constrainToBoundsOnAngle(r,4,l*Math.PI/180)},a=function(t){const e=t.graph.scalePoint(t.coordA),i=t.graph.scalePoint(t.coordZ);return c.vector.polarDegFromCart(c.vector.subtract(i,e))[1]}(this);let s=this.coordA,r=this.coordZ;this.extendLine?(s=i(n,s,360-a),r=i(n,r,(540-a)%360)):this.extendRay&&(r=i(n,s,360-a));const l=[this.visibleLine];this.fixed||l.push(this.mouseTarget),o.default.each(l,(function(t){t.moveTo(s,r)}));const u=function(t,e){const n=[.75,0];let a=[[-3,4],[-2.75,2.5],[0,.25],n,[0,-.25],[-2.75,-2.5],[-3,-4]];a=o.default.map(a,(function(t){const e=c.vector.subtract(t,n),i=c.vector.scale(e,1.4);return c.vector.add(n,i)}));const s=o.default.map(a,t.unscalePoint),r={center:t.unscalePoint(n),createPath:function(t){let e="M"+t[0][0]+" "+t[0][1];for(let i=1;i<t.length;i+=3)e+="C"+t[i][0]+" "+t[i][1]+" "+t[i+1][0]+" "+t[i+1][1]+" "+t[i+2][0]+" "+t[i+2][1];return e}},l=new h.default(t,s,r);return l.attr(o.default.extend({"stroke-linejoin":"round","stroke-linecap":"round","stroke-dasharray":""},e)),l.toCoordAtAngle=function(e,o){const a=t.scalePoint(i(t,e,o)),s=m();l.transform("translateX("+(a[0]+1.4*n[0])+"px) translateY("+(a[1]+1.4*n[1])+"px) "+(s?"translateZ(0) ":"")+"rotate("+(360-f.default.bound(o))+"deg)")},l};null==this._arrows&&(this._arrows=[],this.extendLine?(this._arrows.push(u(n,this.normalStyle)),this._arrows.push(u(n,this.normalStyle))):this.extendRay&&this._arrows.push(u(n,this.normalStyle)));const d=[this.coordA,this.coordZ],p=[360-a,(540-a)%360];o.default.each(this._arrows,(function(t,e){t.toCoordAtAngle(d[e],p[e])})),o.default.invoke(this.temp,"remove"),this.temp=[];const g=this.coordA[0]<this.coordZ[0]||this.coordA[0]===this.coordZ[0]&&this.coordA[1]>this.coordZ[1];this.sideLabel&&this.temp.push(this.graph.labelSide({point1:this.coordA,point2:this.coordZ,label:this.labeledSide,text:this.sideLabel,numArrows:this.numArrows,numTicks:this.numTicks,clockwise:g,style:this.labelStyle})),this.vertexLabels.length&&(this.graph.labelVertex({vertex:this.coordA,point3:this.coordZ,label:this.labeledVertices[0],text:this.vertexLabels[0],clockwise:g,style:this.labelStyle}),this.graph.labelVertex({point1:this.coordA,vertex:this.coordZ,label:this.labeledVertices[1],text:this.vertexLabels[1],clockwise:g,style:this.labelStyle})),this.temp=o.default.flatten(this.temp)},e.toBack=function(){e.fixed||e.mouseTarget.toBack(),e.visibleLine.toBack()},e.toFront=function(){e.fixed||e.mouseTarget.toFront(),e.visibleLine.toFront()},e.remove=function(){e.fixed||e.mouseTarget.remove(),e.visibleLine.remove(),e.labeledSide&&e.labeledSide.remove(),e.labeledVertices&&o.default.invoke(e.labeledVertices,"remove"),e._arrows&&o.default.invoke(e._arrows,"remove"),e.temp.length&&o.default.invoke(e.temp,"remove")},e.hide=function(){e.visibleLine.hide(),e.temp.length&&o.default.invoke(e.temp,"hide"),e._arrows&&o.default.invoke(e._arrows,"hide")},e.show=function(){e.visibleLine.show(),e.temp.length&&o.default.invoke(e.temp,"show"),e._arrows&&o.default.invoke(e._arrows,"show")},e.sideLabel&&(e.labeledSide=this.label([0,0],"","center",e.labelStyle)),e.vertexLabels.length&&(e.labeledVertices=o.default.map(e.vertexLabels,(function(t){return this.label([0,0],"","center",e.labelStyle)}),this)),!e.fixed&&!e.constraints.fixed){const t=(0,a.default)(e.mouseTarget.getMouseTarget());t.css("cursor","move"),t.bind("vmousedown vmouseover vmouseout",(function(t){if("vmouseover"===t.type)_||(e.highlight=!0,e.visibleLine.animate(e.highlightStyle,50),e.arrowStyle=o.default.extend({},e.arrowStyle,{color:e.highlightStyle.stroke,stroke:e.highlightStyle.stroke}),e.transform());else if("vmouseout"===t.type)e.highlight=!1,e.dragging||(e.visibleLine.animate(e.normalStyle,50),e.arrowStyle=o.default.extend({},e.arrowStyle,{color:e.normalStyle.stroke,stroke:e.normalStyle.stroke}),e.transform());else if("vmousedown"===t.type&&(1===t.which||0===t.which)){t.preventDefault();let i=(t.pageX-(0,a.default)(n.raphael.canvas.parentNode).offset().left)/n.scale[0]+n.range[0][0],s=n.range[1][1]-(t.pageY-(0,a.default)(n.raphael.canvas.parentNode).offset().top)/n.scale[1];e.snapX>0&&(i=Math.round(i/e.snapX)*e.snapX),e.snapY>0&&(s=Math.round(s/e.snapY)*e.snapY);const r=[e.coordA[0]-i,e.coordA[1]-s],l=[e.coordZ[0]-i,e.coordZ[1]-s],c=-Math.min(n.scaleVector(r)[0],n.scaleVector(l)[0]),u=Math.max(n.scaleVector(r)[0],n.scaleVector(l)[0]),d=Math.max(n.scaleVector(r)[1],n.scaleVector(l)[1]),h=-Math.min(n.scaleVector(r)[1],n.scaleVector(l)[1]);(0,a.default)(document).bind("vmousemove.lineSegment vmouseup.lineSegment",(function(t){t.preventDefault(),e.dragging=!0,_=!0;let i=t.pageX-(0,a.default)(n.raphael.canvas.parentNode).offset().left,s=t.pageY-(0,a.default)(n.raphael.canvas.parentNode).offset().top;i=Math.max(c+10,Math.min(n.xpixels-10-u,i)),s=Math.max(d+10,Math.min(n.ypixels-10-h,s));let f=i/n.scale[0]+n.range[0][0],p=n.range[1][1]-s/n.scale[1];if(e.snapX>0&&(f=Math.round(f/e.snapX)*e.snapX),e.snapY>0&&(p=Math.round(p/e.snapY)*e.snapY),"vmousemove"===t.type){e.constraints.constrainX&&(f=e.coordA[0]-r[0]),e.constraints.constrainY&&(p=e.coordA[1]-r[1]);const t=f+r[0]-e.coordA[0],i=p+r[1]-e.coordA[1];e.coordA=[f+r[0],p+r[1]],e.coordZ=[f+l[0],p+l[1]],e.transform(),e.movePointsWithLine&&("object"==typeof e.pointA&&e.pointA.setCoord([e.pointA.coord[0]+t,e.pointA.coord[1]+i]),"object"==typeof e.pointZ&&e.pointZ.setCoord([e.pointZ.coord[0]+t,e.pointZ.coord[1]+i])),o.default.isFunction(e.onMove)&&e.onMove(t,i)}else"vmouseup"===t.type&&((0,a.default)(document).unbind(".lineSegment"),e.dragging=!1,_=!1,e.highlight||(e.visibleLine.animate(e.normalStyle,50),e.arrowStyle=o.default.extend({},e.arrowStyle,{color:e.normalStyle.stroke,stroke:e.normalStyle.stroke}),e.transform()),o.default.isFunction(e.onMoveEnd)&&e.onMoveEnd());(0,a.default)(e).trigger("move")}))}}))}return void 0!==e.pointA&&e.pointA.toFront(),void 0!==e.pointZ&&e.pointZ.toFront(),e.transform(),e},addMovablePolygon:function(t){const e=this,i=a.default.extend({snapX:0,snapY:0,fixed:!1,constrainToGraph:!0,normalStyle:{},highlightStyle:{stroke:p.default.INTERACTING,"stroke-width":2,fill:p.default.INTERACTING,"fill-opacity":.05},pointHighlightStyle:{fill:p.default.INTERACTING,stroke:p.default.INTERACTING},labelStyle:{stroke:p.default.DYNAMIC,"stroke-width":1,color:p.default.DYNAMIC},angleLabels:[],showRightAngleMarkers:[],sideLabels:[],vertexLabels:[],numArcs:[],numArrows:[],numTicks:[],updateOnPointMove:!0,closed:!0},o.default.omit(t,"points")),n=i.fixed?p.default.DYNAMIC:p.default.INTERACTIVE;i.normalStyle=o.default.extend({"stroke-width":2,"fill-opacity":0,fill:n,stroke:n},t.normalStyle),i.points=t.points;const s=function(t){return!o.default.isArray(t)};if(i.update=function(){const t=i.points.length;i.coords=o.default.map(i.points,(function(t,e){return s(t)?t.coord:t})),i.left=o.default.min(o.default.pluck(i.coords,0)),i.right=o.default.max(o.default.pluck(i.coords,0)),i.top=o.default.max(o.default.pluck(i.coords,1)),i.bottom=o.default.min(o.default.pluck(i.coords,1));let n=o.default.map(i.coords,(function(t){return e.scalePoint(t)}));i.closed?n.push(!0):n=n.concat(o.default.clone(n).reverse()),i.path=l.default.unscaledSvgPath(n),o.default.invoke(i.temp,"remove"),i.temp=[];const a=function(t){const e=o.default.zip(t,t.slice(1).concat(t.slice(0,1)));return v(o.default.map(e,(function(t){const e=t[0],i=t[1];return(i[0]-e[0])*(i[1]+e[1])})))>0}(i.coords);(i.angleLabels.length||i.showRightAngleMarkers.length)&&o.default.each(i.labeledAngles,(function(n,o){i.temp.push(e.labelAngle({point1:i.coords[(o-1+t)%t],vertex:i.coords[o],point3:i.coords[(o+1)%t],label:n,text:i.angleLabels[o],showRightAngleMarker:i.showRightAngleMarkers[o],numArcs:i.numArcs[o],clockwise:a,style:i.labelStyle}))})),i.sideLabels.length&&o.default.each(i.labeledSides,(function(n,o){i.temp.push(e.labelSide({point1:i.coords[o],point2:i.coords[(o+1)%t],label:n,text:i.sideLabels[o],numArrows:i.numArrows[o],numTicks:i.numTicks[o],clockwise:a,style:i.labelStyle}))})),i.vertexLabels.length&&o.default.each(i.labeledVertices,(function(n,o){e.labelVertex({point1:i.coords[(o-1+t)%t],vertex:i.coords[o],point3:i.coords[(o+1)%t],label:n,text:i.vertexLabels[o],clockwise:a,style:i.labelStyle})})),i.temp=o.default.flatten(i.temp)},i.transform=function(){i.update(),i.visibleShape.attr({path:i.path}),i.fixed||i.mouseTarget.attr({path:i.path})},i.remove=function(){i.visibleShape.remove(),i.fixed||i.mouseTarget.remove(),i.labeledAngles&&o.default.invoke(i.labeledAngles,"remove"),i.labeledSides&&o.default.invoke(i.labeledSides,"remove"),i.labeledVertices&&o.default.invoke(i.labeledVertices,"remove"),i.temp.length&&o.default.invoke(i.temp,"remove")},i.toBack=function(){i.fixed||i.mouseTarget.toBack(),i.visibleShape.toBack()},i.toFront=function(){i.fixed||i.mouseTarget.toFront(),i.visibleShape.toFront()},i.updateOnPointMove&&o.default.each(o.default.filter(i.points,s),(function(t){t.polygonVertices.push(i)})),i.coords=new Array(i.points.length),i.angleLabels.length){const t=Math.max(i.angleLabels.length,i.showRightAngleMarkers.length);i.labeledAngles=o.default.times(t,(function(){return this.label([0,0],"","center",i.labelStyle)}),this)}return i.sideLabels.length&&(i.labeledSides=o.default.map(i.sideLabels,(function(t){return this.label([0,0],"","center",i.labelStyle)}),this)),i.vertexLabels.length&&(i.labeledVertices=o.default.map(i.vertexLabels,(function(t){return this.label([0,0],"","center",i.labelStyle)}),this)),i.update(),i.visibleShape=e.raphael.path(i.path),i.visibleShape.attr(i.normalStyle),i.fixed||(i.mouseTarget=e.mouselayer.path(i.path),i.mouseTarget.attr({fill:"#000",opacity:0,cursor:"move"}),(0,a.default)(i.mouseTarget[0]).bind("vmousedown vmouseover vmouseout",(function(t){if("vmouseover"===t.type)_&&!i.dragging||(i.highlight=!0,i.visibleShape.animate(i.highlightStyle,50),o.default.each(o.default.filter(i.points,s),(function(t){t.visibleShape.animate(i.pointHighlightStyle,50)})));else if("vmouseout"===t.type){if(i.highlight=!1,!i.dragging){i.visibleShape.animate(i.normalStyle,50);const t=o.default.filter(i.points,s);o.default.any(o.default.pluck(t,"dragging"))||o.default.each(t,(function(t){t.visibleShape.animate(t.normalStyle,50)}))}}else if("vmousedown"===t.type&&(1===t.which||0===t.which)){t.preventDefault(),o.default.each(o.default.filter(i.points,s),(function(t){t.dragging=!0}));let n=(t.pageX-(0,a.default)(e.raphael.canvas.parentNode).offset().left)/e.scale[0]+e.range[0][0],r=e.range[1][1]-(t.pageY-(0,a.default)(e.raphael.canvas.parentNode).offset().top)/e.scale[1];i.snapX>0&&(n=Math.round(n/i.snapX)*i.snapX),i.snapY>0&&(r=Math.round(r/i.snapY)*i.snapY);let l=n,c=r;const u=i.coords.slice(),d=(n-i.left)*e.scale[0],h=(i.right-n)*e.scale[0],f=(i.top-r)*e.scale[1],p=(r-i.bottom)*e.scale[1];(0,a.default)(document).bind("vmousemove.polygon vmouseup.polygon",(function(t){t.preventDefault(),i.dragging=!0,_=!0;let g=t.pageX-(0,a.default)(e.raphael.canvas.parentNode).offset().left,m=t.pageY-(0,a.default)(e.raphael.canvas.parentNode).offset().top;i.constrainToGraph&&(g=Math.max(d+10,Math.min(e.xpixels-10-h,g)),m=Math.max(f+10,Math.min(e.ypixels-10-p,m)));let v=g/e.scale[0]+e.range[0][0],y=e.range[1][1]-m/e.scale[1];if(i.snapX>0&&(v=Math.round(v/i.snapX)*i.snapX),i.snapY>0&&(y=Math.round(y/i.snapY)*i.snapY),"vmousemove"===t.type){let t=v-n,e=y-r,d=!0;if(o.default.isFunction(i.onMove)){const a=i.onMove(t,e);!1===a?d=!1:o.default.isArray(a)&&(t=a[0],e=a[1],v=n+t,y=r+e)}const h=function(i){return[u[i][0]+t,u[i][1]+e]};d&&(o.default.each(i.points,(function(t,e){s(t)?t.setCoord(h(e)):i.points[e]=h(e)})),i.transform(),(0,a.default)(i).trigger("move"),l=v,c=y)}else if("vmouseup"===t.type){(0,a.default)(document).unbind(".polygon");const t=o.default.filter(i.points,s);o.default.each(t,(function(t){t.dragging=!1})),i.dragging=!1,_=!1,i.highlight||(i.visibleShape.animate(i.normalStyle,50),o.default.each(t,(function(t){t.visibleShape.animate(t.normalStyle,50)}))),o.default.isFunction(i.onMoveEnd)&&i.onMoveEnd(l-n,c-r)}}))}}))),o.default.invoke(o.default.filter(i.points,s),"toFront"),i},constrainToBounds:function(t,e){const i=this.unscalePoint([e,this.ypixels-e]),n=this.unscalePoint([this.xpixels-e,e]);return[Math.max(i[0],Math.min(n[0],t[0])),Math.max(i[1],Math.min(n[1],t[1]))]},constrainToBoundsOnAngle:function(t,e,i){const n=this.unscalePoint([e,this.ypixels-e]),o=this.unscalePoint([this.xpixels-e,e]);let a=t.slice();return a[0]<n[0]?a=[n[0],a[1]+(n[0]-a[0])*Math.tan(i)]:a[0]>o[0]&&(a=[o[0],a[1]-(a[0]-o[0])*Math.tan(i)]),a[1]<n[1]?a=[a[0]+(n[1]-a[1])/Math.tan(i),n[1]]:a[1]>o[1]&&(a=[a[0]-(a[1]-o[1])/Math.tan(i),o[1]]),a},addMovableAngle:function(t){return new C(this,t)},addCircleGraph:function(t){const e=this,i=a.default.extend({center:[0,0],radius:2,snapX:.5,snapY:.5,snapRadius:.5,minRadius:1,centerConstraints:{},centerNormalStyle:{},centerHighlightStyle:{stroke:p.default.INTERACTING,fill:p.default.INTERACTING},circleNormalStyle:{stroke:p.default.INTERACTIVE,"fill-opacity":0},circleHighlightStyle:{stroke:p.default.INTERACTING,fill:p.default.INTERACTING,"fill-opacity":.05}},t),n=i.centerConstraints.fixed?p.default.DYNAMIC:p.default.INTERACTIVE,s=t?t.centerNormalStyle:null;i.centerNormalStyle=o.default.extend({},{fill:n,stroke:n},s),i.centerPoint=e.addMovablePoint({graph:e,coord:i.center,normalStyle:i.centerNormalStyle,snapX:i.snapX,snapY:i.snapY,constraints:i.centerConstraints}),i.circ=e.circle(i.center,i.radius,i.circleNormalStyle),i.perim=e.mouselayer.circle(e.scalePoint(i.center)[0],e.scalePoint(i.center)[1],e.scaleVector(i.radius)[0]).attr({"stroke-width":20,opacity:.002}),i.centerConstraints.fixed||(0,a.default)(i.centerPoint.mouseTarget.getMouseTarget()).on("vmouseover vmouseout",(function(t){i.centerPoint.highlight||i.centerPoint.dragging?i.circ.animate(i.circleHighlightStyle,50):i.circ.animate(i.circleNormalStyle,50)})),i.toFront=function(){i.circ.toFront(),i.perim.toFront(),i.centerPoint.visibleShape.toFront(),i.centerConstraints.fixed||i.centerPoint.mouseTarget.toFront()},i.centerPoint.onMove=function(t,n){i.toFront(),i.circ.attr({cx:e.scalePoint(t)[0],cy:e.scalePoint(n)[1]}),i.perim.attr({cx:e.scalePoint(t)[0],cy:e.scalePoint(n)[1]}),i.onMove&&i.onMove(t,n)},(0,a.default)(i.centerPoint).on("move",(function(){i.center=this.coord,(0,a.default)(i).trigger("move")})),i.setCenter=function(t,e){i.centerPoint.setCoord([t,e]),i.centerPoint.onMove(t,e),i.center=[t,e]},i.setRadius=function(t){i.radius=t,i.perim.attr({r:e.scaleVector(t)[0]}),i.circ.attr({rx:e.scaleVector(t)[0],ry:e.scaleVector(t)[1]})},i.remove=function(){i.centerPoint.remove(),i.circ.remove(),i.perim.remove()};const r=[[-1*Math.PI,-.875*Math.PI,"ew-resize"],[-.875*Math.PI,-.625*Math.PI,"nesw-resize"],[-.625*Math.PI,-.375*Math.PI,"ns-resize"],[-.375*Math.PI,-.125*Math.PI,"nwse-resize"],[-.125*Math.PI,.125*Math.PI,"ew-resize"],[.125*Math.PI,.375*Math.PI,"nesw-resize"],[.375*Math.PI,.625*Math.PI,"ns-resize"],[.625*Math.PI,.875*Math.PI,"nwse-resize"],[.875*Math.PI,1*Math.PI,"ew-resize"]];return(0,a.default)(i.perim.node).on("vmousemove",(t=>{let[e,n]=this.getMouseCoord(t);e-=i.center[0],n-=i.center[1];const o=Math.atan2(n,e);r.forEach((function(t){const[e,n,s]=t;o>=e&&o<n&&(0,a.default)(i.perim.node).css("cursor",s)}))})),(0,a.default)(i.perim.node).css("cursor","nesw-resize"),i.perim.node.addEventListener("touchstart",(function(t){t.preventDefault()}),{passive:!1}),(0,a.default)(i.perim.node).on("vmouseover vmouseout vmousedown",(function(t){if("vmouseover"===t.type)i.highlight=!0,_||(i.circ.animate(i.circleHighlightStyle,50),i.centerPoint.visibleShape.animate(i.centerHighlightStyle,50));else if("vmouseout"===t.type)i.highlight=!1,i.dragging||i.centerPoint.dragging||(i.circ.animate(i.circleNormalStyle,50),i.centerPoint.visibleShape.animate(i.centerNormalStyle,50));else if("vmousedown"===t.type&&(1===t.which||0===t.which)){t.preventDefault(),i.toFront();const n=i.radius;(0,a.default)(document).on("vmousemove vmouseup",(function(t){if(t.preventDefault(),i.dragging=!0,_=!0,"vmousemove"===t.type){const n=e.constrainToBounds(e.getMouseCoord(t),10);let s=l.default.getDistance(i.centerPoint.coord,n);s=Math.max(i.minRadius,Math.round(s/i.snapRadius)*i.snapRadius);const r=i.radius;let c=!0;if(i.onResize){const t=i.onResize(s,r);o.default.isNumber(t)?s=t:!1===t&&(c=!1)}c&&(i.setRadius(s),(0,a.default)(i).trigger("move"))}else"vmouseup"===t.type&&((0,a.default)(document).off("vmousemove vmouseup"),i.dragging=!1,_=!1,i.onResizeEnd&&i.onResizeEnd(i.radius,n))}))}})),i},addRotateHandle:function(t){const e=this;let i=t.center;const n=t.radius,s=t.lengthAngle||30,r=t.hideArrow||!1,l=t.mouseTarget,u=o.default.uniqueId("rotateHandle");o.default.isArray(i)&&(i={coord:i});const d=e.addMovablePoint({coord:c.point.addVector(i.coord,c.vector.cartFromPolarDeg(n,t.angleDeg||0)),constraints:{fixedDistance:{dist:n,point:i}},mouseTarget:l});i.toFront();let h,f=i.coord,g=d.coord,m=g,v=!1,y=!1;const b=function(n){if(r)return;const o=c.vector.subtract(n,i.coord),a=c.vector.polarDegFromCart(o)[1];h&&h.remove(),h=function(t,e,i,n,o,a,s){const r=function(n,o){const s=i+o,r=c.vector.cartFromPolarDeg([s,a+n]),l=c.vector.add(e,r),u=t.scalePoint(l);return u[0]+","+u[1]},l=t.scaleVector(i-n),u=t.scaleVector(i+n);return t.raphael.path(" M"+r(o,-n)+" L"+r(o,-3*n)+" L"+r(2*o,0)+" L"+r(o,3*n)+" L"+r(o,n)+" A"+u[0]+","+u[1]+",0,0,1,"+r(-o,n)+" L"+r(-o,3*n)+" L"+r(-2*o,0)+" L"+r(-o,-3*n)+" L"+r(-o,-n)+" A"+l[0]+","+l[1]+",0,0,0,"+r(o,-n)+" Z").attr({stroke:null,fill:s?p.default.INTERACTING:p.default.INTERACTIVE})}(e,i.coord,t.radius,v||y?t.hoverWidth/2:t.width/2,s,a,v||y)};(0,a.default)(i).on("move."+u,(function(){const t=c.vector.subtract(i.coord,f);d.setCoord(c.vector.add(d.coord,t)),b(d.coord),f=i.coord,d.constraints.fixedDistance.point=i,g=d.coord})),d.onMove=function(e,n){v||(m=g,v=!0);let o=[e,n];if(t.onMove){const e=c.vector.polarDegFromCart(c.vector.subtract(g,i.coord)),n=c.vector.polarDegFromCart(c.vector.subtract(o,i.coord)),a=e[1],s=n[1];let r=t.onMove(s,a);null!=r&&!0!==r&&(!1===r&&(r=a),o=c.vector.add(i.coord,c.vector.cartFromPolarDeg([e[0],r])))}return b(o),g=o,o},d.onMoveEnd=function(){if(v=!1,b(d.coord),t.onMoveEnd){const e=c.vector.polarDegFromCart(c.vector.subtract(m,i.coord)),n=c.vector.polarDegFromCart(c.vector.subtract(d.coord,i.coord));t.onMoveEnd(n[1],e[1])}},d.visibleShape.remove(),l||d.mouseTarget.attr({scale:2});const x=(0,a.default)(d.mouseTarget.getMouseTarget());x.bind("vmouseover",(function(t){y=!0,b(d.coord)})),x.bind("vmouseout",(function(t){y=!1,b(d.coord)})),b(d.coord);const w=d.remove;return d.remove=function(){w.call(d),h&&h.remove(),(0,a.default)(i).off("move."+u)},d.update=function(){b(d.coord)},d},addReflectButton:function(t){const e=this,i=t.line,n=e.addMovablePoint({constraints:t.constraints,coord:c.line.midpoint([i.pointA.coord,i.pointZ.coord]),snapX:e.snap[0],snapY:e.snap[1],onMove:function(t,e){return!1},onMoveEnd:function(e,i){t.onMoveEnd&&t.onMoveEnd.call(this,e,i)}});let s,r=!1,l=!1;const u=function(){return r},d=o.default.map([0,1],(function(e){const i=e?t.highlightStyle:t.normalStyle;return o.default.map([0,1],(function(t){return o.default.defaults({"fill-opacity":t},i)}))})),h=function(t){return l&&(t=!t),d[+u()][+t]},f=function(i,n){s&&s.remove(),s=function(t,e,i,n,o,a,s){c.point.equal(i[0],i[1])&&(i=[i[0],c.point.addVector(i[0],[1,1])]);const r=c.vector.normalize(c.vector.subtract(i[1],i[0])),l=c.vector.scale(r,n/2),u=c.vector.scale(r,o),d=c.vector.rotateDeg(u,90),h=c.vector.rotateDeg(u,-90),f=c.vector.negate(l),p=c.vector.rotateDeg(l,90),g=c.vector.rotateDeg(l,-90),m=c.point.addVectors(e,d),v=c.point.addVectors(e,h),y=c.point.addVectors(e,d,l,p),b=c.point.addVectors(e,d,f,p),x=c.point.addVectors(e,h,l,g),w=c.point.addVectors(e,h,f,g),k=t.path([m,y,b,!0],a),_=t.path([v,x,w,!0],s);return{remove:function(){k.remove(),_.remove()}}}(e,i,n,u()?1.5*t.size:t.size,u()?.125*t.size:.25,h(0),h(1))},p=function(t,e){t=t||i.pointA.coord,e=e||i.pointZ.coord;const o=c.line.midpoint([t,e]);n.setCoord(o),f(o,[t,e])};(0,a.default)(i).on("move",o.default.bind(p,n,null,null));const g=(0,a.default)(n.mouseTarget.getMouseTarget());g.on("vclick",(function(){!1!==t.onClick()&&(l=!l,f(n.coord,[i.pointA.coord,i.pointZ.coord]))})),i.pointA.toFront(),i.pointZ.toFront(),n.visibleShape.remove();const m=e.scaleVector(t.size)[0]/20;n.mouseTarget.attr({scale:1.5*m}),g.css("cursor","pointer"),g.bind("vmouseover",(function(t){r=!0,f(n.coord,[i.pointA.coord,i.pointZ.coord])})),g.bind("vmouseout",(function(t){r=!1,f(n.coord,[i.pointA.coord,i.pointZ.coord])}));const v=n.remove;return n.remove=function(){s.remove(),v.call(n)},n.update=p,n.isFlipped=function(){return l},p(),n},protractor:function(t){return new M(this,t)},ruler:function(t){return new T(this,t||{})},addPoints:y}),o.default.extend(C.prototype,{points:[],snapDegrees:0,snapOffsetDeg:0,angleLabel:"",numArcs:1,pushOut:0,fixed:!1,addMoveHandlers:function(){const t=this.graphie;function e(e,i){return l.default.getDistance(t.scalePoint(e),t.scalePoint(i))<30}const i=this.points;i[1].onMove=function(n,a){const s=i[1].coord,r=[n,a],c=y(r,b(s));let u=!0;const d={};return o.default.each([0,2],(function(n){let o=y(i[n].coord,c),a=l.default.findAngle(r,o);a*=Math.PI/180,o=t.constrainToBoundsOnAngle(o,10,a),d[n]=o,e(r,o)&&(u=!1)})),u&&o.default.each(d,(function(t,e){i[e].setCoord(t)})),u};const n=this.snapDegrees,s=this.snapOffsetDeg;o.default.each([0,2],(function(o){i[o].onMove=function(o,a){const r=[o,a],c=i[1].coord;if(e(c,r))return!1;if(n){let e=l.default.findAngle(r,c);e=Math.round((e-s)/n)*n+s;const i=l.default.getDistance(r,c);return y(c,t.polar(i,e))}return!0}})),(0,a.default)(i).on("move",function(){this.update(),(0,a.default)(this).trigger("move")}.bind(this))},addHighlightHandlers:function(){const t=this.points[1];t.onHighlight=function(){o.default.each(this.points,(function(t){t.visibleShape.animate(this.highlightStyle,50)}),this),o.default.each(this.rays,(function(t){t.visibleLine.animate(this.highlightStyle,50),t.arrowStyle=o.default.extend({},t.arrowStyle,{color:this.highlightStyle.stroke,stroke:this.highlightStyle.stroke})}),this),this.angleStyle=o.default.extend({},this.angleStyle,{color:this.highlightStyle.stroke,stroke:this.highlightStyle.stroke}),this.update()}.bind(this),t.onUnhighlight=function(){o.default.each(this.points,(function(t){t.visibleShape.animate(this.normalStyle,50)}),this),o.default.each(this.rays,(function(t){t.visibleLine.animate(t.normalStyle,50),t.arrowStyle=o.default.extend({},t.arrowStyle,{color:t.normalStyle.stroke,stroke:t.normalStyle.stroke})}),this),this.angleStyle=o.default.extend({},this.angleStyle,{color:p.default.DYNAMIC,stroke:p.default.DYNAMIC}),this.update()}.bind(this)},_getClockwiseAngle:function(t){return l.default.findAngle(t[2],t[0],t[1])+0},isReflex:function(){return this.reflex},isClockwise:function(){return this._getClockwiseAngle(this.coords)>180===this.reflex},getClockwiseCoords:function(){return this.isClockwise()?o.default.clone(this.coords):o.default.clone(this.coords).reverse()},update:function(t){const e=this.coords;this.coords=o.default.pluck(this.points,"coord"),o.default.invoke(this.points,"updateLineEnds");const i=this._getClockwiseAngle(e),n=this._getClockwiseAngle(this.coords),a=i>180,s=n>180;this.allowReflex&&(null==t&&(t=a!==s&&Math.abs(n-i)<180),t&&(this.reflex=!this.reflex)),o.default.invoke(this.temp,"remove"),this.temp=this.graphie.labelAngle({point1:this.coords[0],vertex:this.coords[1],point3:this.coords[2],label:this.labeledAngle,text:this.angleLabel,numArcs:this.numArcs,pushOut:this.pushOut,clockwise:this.reflex===s,style:this.angleStyle})},remove:function(){o.default.invoke(this.rays,"remove"),o.default.invoke(this.temp,"remove"),this.labeledAngle.remove()}});var A=S;e.default=A},"5huW":function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("wk+a"));const a={fence:{match:o.default.defaultRules.fence.match,order:1,parse:(t,e,i)=>t[3]},paragraph:{match:o.default.defaultRules.paragraph.match,order:2,parse:(t,e,i)=>t[1]}},s=o.default.parserFor(a);var r={parseToArray:t=>{const e=t.replace(/^\n\s*\n/,"")+"\n\n";return s(e,{inline:!1})},joinFromArray:t=>t.join("\n\n")};e.default=r},"6mNK":function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.ZoomService=void 0;var o=n(i("rGVj"));function a(t,e){const i=window.scrollX,n=window.scrollY,a=document.querySelector("meta[name=viewport]");a?a.setAttribute("content",t):(0,o.default)("head").append('<meta name="viewport" content="'.concat(t,'">')),document.body.style.opacity=.9999,setTimeout((()=>{document.body.style.opacity=1,window.scrollTo(i,n),e&&setTimeout(e,0)}),0)}function s(){}function r(t,e){this._fullHeight=this._fullWidth=this._overlay=null,this._targetImage=t,this._enableMobilePinch=e,this._$body=(0,o.default)(document.body)}o.default.fn.emulateTransitionEnd=function(t){let e=!1;const i=this;(0,o.default)(this).one("bsTransitionEnd",(function(){e=!0}));return setTimeout((function(){e||(0,o.default)(i).trigger(o.default.support.transition.end)}),t),this},(0,o.default)((function(){o.default.support.transition=function(){const t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(const i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}(),o.default.support.transition&&(o.default.event.special.bsTransitionEnd={bindType:o.default.support.transition.end,delegateType:o.default.support.transition.end,handle:function(t){if((0,o.default)(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})),s.prototype._initialize=function(t){this._$document||(this._activeZoom=this._initialScrollPosition=this._initialTouchPosition=this._touchMoveListener=null,this._$document=(0,o.default)(document),this._$window=(0,o.default)(window),this._$body=(0,o.default)(document.body),this._boundClick=o.default.proxy(this._clickHandler,this),this._enableMobilePinch=t)},s.prototype.handleZoomClick=function(t,e){this._initialize(e);const i=t.target;if(i&&"IMG"===i.tagName&&!this._$body.hasClass("zoom-overlay-open"))return t.metaKey||t.ctrlKey?window.open(t.target.src,"_blank"):void(!e&&i.width>=window.innerWidth-r.getOffset()||(this._activeZoomClose(!0),e?a("width=device-width, initial-scale=1, minimum-scale=1",(()=>this._zoom(i))):this._zoom(i),e||(this._$window.on("scroll.zoom",o.default.proxy(this._scrollHandler,this)),this._$document.on("keyup.zoom",o.default.proxy(this._keyHandler,this)),this._$document.on("touchstart.zoom",o.default.proxy(this._touchStart,this))),document.addEventListener("click",this._boundClick,!0),t.stopPropagation()))},s.prototype._zoom=function(t){this._activeZoom=new r(t,this._enableMobilePinch),this._activeZoom.zoomImage()},s.prototype._activeZoomClose=function(t){this._activeZoom&&(t?(this._activeZoom.dispose(),this._disposeActiveZoom()):a("width=device-width, initial-scale=1, minimum-scale=1,\n            maximum-scale=1",(()=>{this._activeZoom&&(this._activeZoom.close(),this._disposeActiveZoom())})))},s.prototype._disposeActiveZoom=function(){this._$window.off(".zoom"),this._$document.off(".zoom"),document.removeEventListener("click",this._boundClick,!0),this._activeZoom=null},s.prototype._scrollHandler=function(t){null===this._initialScrollPosition&&(this._initialScrollPosition=window.scrollY);const e=this._initialScrollPosition-window.scrollY;Math.abs(e)>=40&&this._activeZoomClose()},s.prototype._keyHandler=function(t){27===t.keyCode&&this._activeZoomClose()},s.prototype._clickHandler=function(t){t.stopPropagation(),t.preventDefault(),this._activeZoomClose()},s.prototype._touchStart=function(t){this._initialTouchPosition=t.originalEvent.touches[0].pageY,(0,o.default)(t.target).on("touchmove.zoom",o.default.proxy(this._touchMove,this))},s.prototype._touchMove=function(t){Math.abs(t.originalEvent.touches[0].pageY-this._initialTouchPosition)>10&&(this._activeZoomClose(),(0,o.default)(t.target).off("touchmove.zoom"))},r._OFFSET=80,r._MAX_WIDTH=2560,r._MAX_HEIGHT=4096,r.getOffset=function(t){return t?0:r._OFFSET},r.prototype.getOffset=function(){return r.getOffset(this._enableMobilePinch)},r.prototype.zoomImage=function(){const t=document.createElement("img"),e=(0,o.default)(t);t.onload=function(){this._fullHeight=Number(t.height),this._fullWidth=Number(t.width);const i=this._imageOffset=(0,o.default)(this._targetImage).offset(),n=this._left=i.left-(0,o.default)(window).scrollLeft(),a=this._top=i.top-(0,o.default)(window).scrollTop();e.css({left:n,top:a,width:this._targetImage.width,height:this._targetImage.height}),this._zoomOriginal()}.bind(this),t.src=this._targetImage.src,this.$zoomedImage=e},r.prototype._zoomOriginal=function(){this.$zoomedImage.addClass("zoom-img").attr("data-action","zoom-out"),(0,o.default)(this._targetImage).css("visibility","hidden"),this._backdrop=document.createElement("div"),this._backdrop.className="zoom-backdrop",document.body.appendChild(this._backdrop),this._overlay=document.createElement("div"),this._overlay.className="zoom-overlay",document.body.appendChild(this._overlay),this._overlay.appendChild(this.$zoomedImage[0]),this._calculateZoom(),this._triggerAnimation()},r.prototype._calculateZoom=function(){const t=this._fullWidth,e=this._fullHeight,i=window.innerHeight-this.getOffset(),n=window.innerWidth-this.getOffset(),o=t/this._targetImage.width,a=t/e,s=n/i;this._imgScaleFactor=t<n&&e<i?o:a<s?i/e*o:n/t*o},r.prototype._triggerAnimation=function(){const t=(0,o.default)(window).scrollTop()+window.innerHeight/2,e=(0,o.default)(window).scrollLeft()+window.innerWidth/2,i=this._imgScaleFactor,n=this._imageOffset.top+this._targetImage.height/2,a=this._imageOffset.left+this._targetImage.width/2;this._translateY=(t-n)/i,this._translateX=(e-a)/i,this._zoomedInTransformString="\n        scale(".concat(i,")\n        translate3d(").concat(this._translateX,"px, ").concat(this._translateY,"px, 0)\n    "),this.$zoomedImage.css({transform:this._zoomedInTransformString}).addClass("zoom-transition").one(o.default.support.transition.end,o.default.proxy(this._onZoomInFinish,this)).emulateTransitionEnd(300),this._$body.addClass("zoom-overlay-open")},r.prototype._onZoomInFinish=function(){const t=this._targetImage.height*this._imgScaleFactor,e=this._targetImage.width*this._imgScaleFactor;let i=0,n=0,a=0,s=0,r=0,l=0;e<window.innerWidth?(i="50%",a=-e/2):r=(e-window.innerWidth)/2,t<window.innerHeight?(n="50%",s=-t/2):l=(t-window.innerHeight)/2,this.$zoomedImage.css({height:t,left:i,marginLeft:a,marginTop:s,top:n,transform:"",width:e}).removeClass("zoom-transition"),(0,o.default)(this._overlay).scrollLeft(r).scrollTop(l)},r.prototype.close=function(){this._$body.removeClass("zoom-overlay-open").addClass("zoom-overlay-transitioning"),this.$zoomedImage.css({height:this._targetImage.height,left:this._left,marginLeft:0,marginTop:0,top:this._top,transform:this._zoomedInTransformString,width:this._targetImage.width}).removeClass("zoom-transition"),(0,o.default)(this._overlay).scrollLeft(0).scrollTop(0),setTimeout((()=>{this.$zoomedImage.css({transform:"scale(1)"}).addClass("zoom-transition").one(o.default.support.transition.end,o.default.proxy(this.dispose,this)).emulateTransitionEnd(300)}),10)},r.prototype.dispose=function(){this.$zoomedImage&&this.$zoomedImage[0].parentNode&&(this.$zoomedImage.remove(),this.$zoomedImage=null,this._overlay.parentNode.removeChild(this._overlay),this._backdrop.parentNode.removeChild(this._backdrop),this._$body.removeClass("zoom-overlay-transitioning")),(0,o.default)(this._targetImage).css("visibility","visible")};const l=new s;e.ZoomService=l},"7QsT":function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("bRUr")),a=o.default.makeRule({name:"link-click-here",severity:o.default.Severity.WARNING,selector:"link",pattern:/click here/i,message:'Inappropriate link text:\nDo not use the words "click here" in links.'});e.default=a},"7kT3":function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("uBl0")),a=n(i("oLyU")),s=i("4PhQ");const r=o.default.nestedMap,l=o.default.deepEq;function c(t){a.default.extend(this,t)}const u=function(){throw new s.KAError("Abstract method! Must be implemented by Graphie Movable"+this.constructor.displayName,s.Errors.Internal)};a.default.extend(c.prototype,{movableProps:[],add:u,modify:u,remove:u,toFront:function(){},componentDidMount:function(){}});const d=function(t){const e=function t(e){if(!(this instanceof t))throw new s.KAError("Use createElement or JSX with graphie movables",s.Errors.Internal);return this.props=function(t,e){return a.default.extend({},t,{children:a.default.filter(a.default.flatten(e),a.default.identity)})}(e,e.children||[]),this};return t.displayName=t.displayName||a.default.uniqueId("GraphieClass"),e.displayName=t.displayName,(e.prototype=new c(t)).constructor=e,e};var h={GraphieMovable:c,createClass:d,createSimpleClass:function(t){return d({displayName:t.name||a.default.uniqueId("GraphieSimpleClass"),movableProps:["children"],add:function(e){this._elements=t(e,this.props),this._prevProps=this.props},modify:function(t){if(!l(this.props,this._prevProps))return this.remove(),this.add(t),this._prevProps=this.props,"reordered"},remove:function(){r(this._elements,(t=>{t&&t.remove()})),this._elements=null,this._prevProps=null},toFront:function(){r(this._elements,(t=>{a.default.isFunction(t.toFront)&&t.toFront()}))}})}};e.default=h},"8N6p":function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("bRUr")),a=o.default.makeRule({name:"image-alt-text",severity:o.default.Severity.WARNING,selector:"image",lint:function(t,e,i,n){const o=i[0];return o.alt&&o.alt.trim()?o.alt.length<8?"Images should have alt text:\nfor accessibility, all images should have descriptive alt text.\nThis image's alt text is only ".concat(o.alt.length," characters long."):void 0:"Images should have alt text:\nfor accessibility, all images should have alt text.\nSpecify alt text inside square brackets after the !."}});e.default=a},"9cGa":function(t,e,i){"use strict";var n=i("284h");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;const o={assetStatuses:{},setAssetStatus:(t,e)=>{}};var a=n(i("q1tI")).createContext(o);e.default=a},Ae9s:function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("bRUr")),a=o.default.makeRule({name:"math-align-linebreaks",severity:o.default.Severity.WARNING,selector:"blockMath",pattern:/\\begin{align}[\s\S]*\\\\[\s\S]+\\end{align}/,lint:function(t,e,i,n){let o=n[0];for(;o.length;){const t=o.indexOf("\\\\");if(-1===t)return null;o=o.substring(t+2);const e=o.match(/^\s*\\\\\s*(?!\\\\)/);if(!e)return"Use four backslashes between lines of an align block";o=o.substring(e[0].length)}}});e.default=a},Atlv:function(t,e,i){"use strict";var n=i("284h"),o=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o(i("pVnL")),s=o(i("lSNA")),r=o(i("rGVj")),l=n(i("q1tI")),c=o(i("i8i4")),u=o(i("oLyU")),d=o(i("TSYQ")),h=n(i("4PhQ")),f=o(i("uYZq")),p=o(i("XDp7")),g=o(i("5huW")),m=o(i("Tqif")),v=o(i("2OMh")),y=o(i("c+Oy")),b=o(i("yPu2")),x=o(i("vL0m")),w=o(i("SmNe")),k=o(i("4Zwh")),_=o(i("uBl0")),S=o(i("1+56")),M=i("j8wP"),T=o(i("DuZ2")),C=o(i("xrPN")),A=o(i("p4D3")),P=o(i("Boyy")),E=i("zahm"),I=o(i("yO7p")),R=o(i("9cGa")),L=o(i("vNny"));const{maybeUnescape:N}=m.default,{mapObject:D,mapObjectFromArray:q}=L.default,O=/\S/,z=/(web\+graphie|https):\/\/[^\s]*/,F=()=>{};p.default.useJIPT&&(window.PerseusTranslationComponents=[],p.default.domInsertChecks.push((function(t,e,i){const n=(0,r.default)(e),o=n.data("perseus-component-index"),a=n.data("perseus-paragraph-index");if(e&&void 0!==o){const e=window.PerseusTranslationComponents[o];return!!e&&(t=N(t),e.replaceJiptContent(t,a),!1)}return t})));const G=["content","problemNum","widgets"];class B{constructor(t,e,i,n){(0,s.default)(this,"_track",(function(t){this._tracked&&!this.setting||(this._tracked=!0,this.trackApi((0,a.default)({type:this.widgetType,id:this.widgetID},t)))})),t?(this._tracked=!1,this.trackApi=t,this.widgetType=e,this.widgetID=i,this.setting=n,this.track=this._track.bind(this)):this.track=this._noop}_noop(){}}class W extends l.Component{constructor(t){super(t),this.state={error:""}}componentDidCatch(t,e){this.setState({error:t.toString()}),h.default.error(t,h.Errors.Internal,{sentry:{extras:{info:e}}})}render(){return this.state.error?l.createElement("svg",{height:"16",width:"16",viewBox:"0 0 16 16"},l.createElement("path",{d:"m8 16c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm0-3c0.55 0 1-0.45 1-1s-0.45-1-1-1-1 0.45-1 1 0.45 1 1 1zm0-9c-0.55 0-1 0.45-1 1v4c0 0.55.45 1 1 1s1-0.45 1-1v-4c0-0.55-0.45-1-1-1z",fill:"#d92916",fillRule:"evenodd"})):this.props.children}}class j extends l.Component{constructor(t,e){super(t,e),(0,s.default)(this,"getApiOptions",(()=>S.default.getApiOptions.call(this))),(0,s.default)(this,"_getInitialWidgetState",(t=>{t=t||this.props;const e=this._getAllWidgetsInfo(t);return{widgetInfo:e,widgetProps:this._getAllWidgetsStartProps(e,t)}})),(0,s.default)(this,"_getAllWidgetsInfo",(t=>(t=t||this.props,D(t.widgets,((t,e)=>{if(!t.type||!t.alignment){const i={};t.type||(i.type=e.split(" ")[0]),t.alignment||(i.alignment="default"),t=u.default.extend({},t,i)}return k.default.upgradeWidgetInfoToLatestVersion(t)}))))),(0,s.default)(this,"_getAllWidgetsStartProps",((t,e)=>D(t,(t=>k.default.getRendererPropsForWidgetInfo(t,e.problemNum))))),(0,s.default)(this,"_getDefaultWidgetInfo",(t=>{const e=_.default.rTypeFromWidgetId.exec(t);return null==e?{}:{type:e[1],graded:!0,options:{}}})),(0,s.default)(this,"_getWidgetInfo",(t=>this.state.widgetInfo[t]||this._getDefaultWidgetInfo(t))),(0,s.default)(this,"renderWidget",((t,e,i)=>{const n=this.state.widgetInfo[e];if(n&&"full-width"===n.alignment&&(i.foundFullWidth=!0),n||this.props.ignoreMissingWidgets){const i=n&&n.type||t,o=u.default.contains(this.props.highlightedWidgets,e);return l.createElement(W,{key:"container:"+e},l.createElement(w.default,{ref:"container:"+e,type:i,initialProps:this.getWidgetProps(e),shouldHighlight:o,linterContext:P.default.pushContextStack(this.props.linterContext,"widget")}))}return null})),(0,s.default)(this,"getWidgetProps",(t=>{const e=this.getApiOptions(),i=this.state.widgetProps[t]||{};let n=null;const o=this.state.widgetInfo[t];this.props.reviewMode&&o&&(n=o.options),this._interactionTrackers||(this._interactionTrackers={});let s=this._interactionTrackers[t];return s||(s=this._interactionTrackers[t]=new B(e.trackInteraction,o&&o.type,t,k.default.getTracking(o&&o.type))),(0,a.default)({},i,{ref:t,widgetId:t,alignment:o&&o.alignment,static:o&&o.static&&!this.props.problemNum,problemNum:this.props.problemNum,apiOptions:this.getApiOptions(),keypadElement:this.props.keypadElement,questionCompleted:this.props.questionCompleted,onFocus:u.default.partial(this._onWidgetFocus,t),onBlur:u.default.partial(this._onWidgetBlur,t),findWidgets:this.findWidgets,reviewModeRubric:n,onChange:(e,i,n=!1)=>{this._setWidgetProps(t,e,i,n)},trackInteraction:s.track,isLastUsedWidget:t===this.state.lastUsedWidgetId})})),(0,s.default)(this,"getSerializedState",(t=>D(t||this.state.widgetProps,((t,e)=>{const i=this.getWidgetInstance(e);return i&&i.getSerializedState?i.getSerializedState():t})))),(0,s.default)(this,"restoreSerializedState",((t,e)=>{const i=u.default.keys(t),n=u.default.keys(this.state.widgetProps);if(i.length!==n.length||u.default.intersection(i,n).length!==i.length)return void h.default.error("Refusing to restore bad serialized state:",h.Errors.Internal,null,{serializedState:JSON.stringify(t),currentProps:JSON.stringify(this.state.widgetProps)});let o=1;const a=()=>{--o,e&&0===o&&e()};this.setState({widgetProps:D(t,((t,e)=>{const i=this.getWidgetInstance(e);if(i&&i.restoreSerializedState){++o;const n=i.restoreSerializedState(t,a);return u.default.extend({},this.state.widgetProps[e],n)}return t}))},(()=>{setTimeout(a,0)}))})),(0,s.default)(this,"showRationalesForCurrentlySelectedChoices",(()=>{Object.keys(this.props.widgets).forEach((t=>{const e=this.getWidgetInstance(t);e&&e.showRationalesForCurrentlySelectedChoices&&e.showRationalesForCurrentlySelectedChoices(this._getWidgetInfo(t).options)}))})),(0,s.default)(this,"deselectIncorrectSelectedChoices",(()=>{Object.keys(this.props.widgets).forEach((t=>{const e=this.getWidgetInstance(t);e&&e.deselectIncorrectSelectedChoices&&e.deselectIncorrectSelectedChoices()}))})),(0,s.default)(this,"findInternalWidgets",(t=>{let e;if("string"==typeof t)if(-1!==t.indexOf(" ")){const i=t;e=(t,e,n)=>t===i}else{const i=t;e=(t,e,n)=>e.type===i}else e=t;return this.widgetIds.filter((t=>{const i=this._getWidgetInfo(t),n=this.getWidgetInstance(t);return e(t,i,n)})).map(this.getWidgetInstance)})),(0,s.default)(this,"findWidgets",(t=>[].concat(this.findInternalWidgets(t),this.props.findExternalWidgets(t)))),(0,s.default)(this,"getWidgetInstance",(t=>{const e=this.refs["container:"+t];return e?e.getWidget():null})),(0,s.default)(this,"_onWidgetFocus",((t,e=[])=>{if(!u.default.isArray(e))throw new h.KAError("widget props.onFocus focusPath must be an Array, but was"+JSON.stringify(e),h.Errors.Internal);this._setCurrentFocus([t].concat(e))})),(0,s.default)(this,"_onWidgetBlur",((t,e)=>{const i=this._currentFocus,n=[t].concat(e);u.default.isEqual(n,i)&&u.default.defer((()=>{u.default.isEqual(this._currentFocus,i)&&this._setCurrentFocus(null)}))})),(0,s.default)(this,"getContent",((t,e)=>e.jiptContent||t.content)),(0,s.default)(this,"shouldRenderJiptPlaceholder",((t,e)=>p.default.useJIPT&&null==e.jiptContent&&-1!==t.content.indexOf("crwdns"))),(0,s.default)(this,"replaceJiptContent",((t,e)=>{if(null==e)this.setState({jiptContent:t});else{/^\s*(`{3,}|~{3,})\s*(\S+)?\s*\n([\s\S]+?)\s*\1\s*$/.test(t)||(/\S\n\s*\n\S/.test(t)?t="$\\large{\\red{\\text{Please translate each paragraph to a single paragraph.}}}$":/^\s*$/.test(t)&&(t="$\\large{\\red{\\text{Translated paragraph is currently empty}}}$"));const i=this.getContent(this.props,this.state),n=g.default.parseToArray(i);n[e]=t,this.setState({jiptContent:g.default.joinFromArray(n)})}})),(0,s.default)(this,"outputMarkdown",((t,e)=>{if(u.default.isArray(t)){const i=e.key,n=[];let o=!1;for(let i=0;i<t.length;i++){e.key=i,e.paragraphIndex=i;const a=this.outputMarkdown(t[i],e),s="string"==typeof a;"string"==typeof a&&o?n[n.length-1]+=a:n.push(a),o=s}return e.key=i,n}this._foundTextNodes=!1,e.foundFullWidth=!1;const i=this.outputNested(t,e);let n;return n=null!=this.translationIndex?null:(0,d.default)({"perseus-paragraph-centered":!this._foundTextNodes,"perseus-paragraph-full-width":e.foundFullWidth&&1===t.content.length}),l.createElement(y.default,{key:e.key,className:n,translationIndex:this.translationIndex,paragraphIndex:e.paragraphIndex},l.createElement(W,null,i))})),(0,s.default)(this,"outputNested",((t,e)=>{if(u.default.isArray(t)){const i=e.key,n=[];let o=!1;for(let i=0;i<t.length;i++){e.key=i;const a=this.outputNested(t[i],e),s="string"==typeof a;"string"==typeof a&&o?n[n.length-1]+=a:n.push(a),o=s}return e.key=i,n}return this.outputNode(t,this.outputNested,e)})),(0,s.default)(this,"outputNode",((t,e,i)=>{const n=this.getApiOptions(),o=n.imagePlaceholder;if("widget"===t.type){const e=n.widgetPlaceholder;return e||(this._foundTextNodes=!0,u.default.contains(this.widgetIds,t.id)?l.createElement("span",{key:i.key,className:"renderer-widget-error"},["Widget [[","☃"," ",t.id,"]] already exists."].join("")):(this.widgetIds.push(t.id),this.renderWidget(t.widgetType,t.id,i)))}if("blockMath"===t.type){const e=(0,A.default)(t.content),o={overflowX:"auto",overflowY:"hidden",paddingTop:10,paddingBottom:10,marginTop:-10,marginBottom:-10};if(n.isMobile){const t=16,n={marginLeft:-t,marginRight:-t},s={paddingLeft:t,paddingRight:t},r=(0,a.default)({},o,U.mobileZoomableParentFix);return l.createElement("div",{key:i.key,className:"perseus-block-math",style:n},l.createElement(W,null,l.createElement("div",{className:"perseus-block-math-inner",style:(0,a.default)({},r,s)},l.createElement(C.default,null,e))))}return l.createElement("div",{key:i.key,className:"perseus-block-math"},l.createElement(W,null,l.createElement("div",{className:"perseus-block-math-inner",style:o},l.createElement(R.default.Consumer,null,(({setAssetStatus:t})=>l.createElement(x.default,{setAssetStatus:t},e))))))}if("math"===t.type){const e=t.content.replace(/\{align[*]?\}/g,"{aligned}");return l.createElement("span",{key:i.key,style:{whiteSpace:"nowrap"}},l.createElement(W,null,l.createElement("span",null),l.createElement(R.default.Consumer,null,(({setAssetStatus:t})=>l.createElement(x.default,{onRender:this.props.onRender,setAssetStatus:t},e))),l.createElement("span",null)))}if("image"===t.type){if(o)return o;const e=u.default.has(this.props.images,t.target)?this.props.images[t.target]:null,s=!i.inTable;return l.createElement(W,{key:i.key},l.createElement(R.default.Consumer,null,(({setAssetStatus:i})=>l.createElement(b.default,(0,a.default)({setAssetStatus:i,src:v.default.sanitizeUrl(t.target),alt:t.alt,title:t.title,responsive:s,onUpdate:this.props.onRender,zoomToFullSizeOnMobile:n.isMobile&&n.isArticle},e)))))}if("columns"===t.type)return this._isTwoColumn=!0,l.createElement(W,{key:i.key},v.default.ruleOutput(t,e,i));if("text"===t.type)return O.test(t.content)&&(this._foundTextNodes=!0),o&&z.test(t.content)?o:t.content;if("table"===t.type||"titledTable"===t.type){i.inTable=!0;const o=v.default.ruleOutput(t,e,i);if(i.inTable=!1,!n.isMobile)return o;const s=16,r={marginLeft:-s,marginRight:-s},c={paddingLeft:0,paddingRight:0},u=(0,a.default)({},c,U.mobileZoomableParentFix),d=l.createElement("div",{style:(0,a.default)({},u,{overflowX:"auto"})},l.createElement(W,null,l.createElement(T.default,{animateHeight:!0},o)));return l.createElement("div",{style:r},d)}return l.createElement(W,{key:i.key},v.default.ruleOutput(t,e,i))})),(0,s.default)(this,"handleRender",(t=>{const e=this.props.onRender,i=t.onRender;if(e!==F||i!==F){const t=(0,r.default)(c.default.findDOMNode(this)).find("img");i!==F&&t.off("load",i),e!==F&&t.on("load",e)}e()})),(0,s.default)(this,"_setCurrentFocus",(t=>{const e=this.getApiOptions();if(i=t,n=this._currentFocus,!(null===i||null===n?i===n:u.default.every(i,((t,e)=>{if(null!=n)return u.default.isEqual(t,n[e])})))){const i=this._currentFocus;i&&this.blurPath(i),this._currentFocus=t,null!=e.onFocusChange&&e.onFocusChange(this._currentFocus,i)}var i,n})),(0,s.default)(this,"focus",(()=>{let t,e;for(let i=0;i<this.widgetIds.length;i++){const n=this.widgetIds[i],o=this.getWidgetInstance(n),a=o&&o.focus&&o.focus();if(a){t=n,e=a;break}}if(t){let i;return i="object"==typeof e?[t].concat(e.path||[]):[t],this._setCurrentFocus(i),!0}})),(0,s.default)(this,"getDOMNodeForPath",(t=>{const e=u.default.first(t),i=u.default.rest(t),n=this.getWidgetInstance(e),o=n&&n.getDOMNodeForPath;return o?o(i):0===i.length?c.default.findDOMNode(n):void 0})),(0,s.default)(this,"getGrammarTypeForPath",(t=>{const e=u.default.first(t),i=u.default.rest(t),n=this.getWidgetInstance(e);if(n&&n.getGrammarTypeForPath)return n.getGrammarTypeForPath(i)})),(0,s.default)(this,"getInputPaths",(()=>{const t=[];return u.default.each(this.widgetIds,(e=>{const i=this.getWidgetInstance(e);if(i&&i.getInputPaths){const n=i.getInputPaths();u.default.each(n,(i=>{const n=[e].concat(i);t.push(n)}))}})),t})),(0,s.default)(this,"focusPath",(t=>{if(u.default.isEqual(this._currentFocus,t))return;this._currentFocus&&this.blurPath(this._currentFocus);const e=u.default.first(t),i=u.default.rest(t),n=this.getWidgetInstance(e);n&&n.focusInputPath&&n.focusInputPath(i)})),(0,s.default)(this,"blurPath",(t=>{if(!u.default.isEqual(this._currentFocus,t))return;const e=u.default.first(t),i=u.default.rest(t);if(this.getWidgetInstance(e)){const t=this.getWidgetInstance(e);t&&t.blurInputPath&&t.blurInputPath(i)}})),(0,s.default)(this,"blur",(()=>{this._currentFocus&&this.blurPath(this._currentFocus)})),(0,s.default)(this,"serialize",(()=>{const t={};return u.default.each(this.state.widgetInfo,(function(e,i){const n=this.getWidgetInstance(i).serialize();u.default.isEmpty(n)||(t[i]=n)}),this),t})),(0,s.default)(this,"emptyWidgets",(()=>u.default.filter(this.widgetIds,(t=>{const e=this._getWidgetInfo(t);if(e.static)return!1;const i=this.getWidgetInstance(t);if(i&&i.simpleValidate){const t=i.simpleValidate(e.options,null);return _.default.scoreIsEmpty(t)}})))),(0,s.default)(this,"_setWidgetProps",((t,e,i,n)=>{this.setState((i=>{const o=(0,a.default)({},i.widgetProps,{[t]:(0,a.default)({},i.widgetProps[t],e)}),s=n?i.lastUsedWidgetId:t;return n||this.props.onSerializedStateUpdated(this.getSerializedState(o)),{lastUsedWidgetId:s,widgetProps:o}}),(()=>{setTimeout((()=>{const e=i&&i();n||this.props.onInteractWithWidget(t),!1!==e&&this._setCurrentFocus([t])}),0)}))})),(0,s.default)(this,"setInputValue",((t,e,i)=>{const n=u.default.first(t),o=u.default.rest(t),a=this.getWidgetInstance(n);null==a||null==a.setInputValue||a.setInputValue(o,e,i)})),(0,s.default)(this,"getUserInput",(()=>u.default.map(this.widgetIds,(t=>{const e=this.getWidgetInstance(t);if(e&&e.getUserInput)return e.getUserInput()})))),(0,s.default)(this,"getWidgetIds",(()=>this.widgetIds)),(0,s.default)(this,"getAllWidgetIds",(()=>u.default.map(this.getWidgetIds(),(t=>{const e="group";if(t.substring(0,e.length)===e){const e=this.getWidgetInstance(t);if(e&&e.getRenderer)return{id:t,children:e.getRenderer().getAllWidgetIds()}}return{id:t,children:[]}})))),(0,s.default)(this,"getUserInputForWidgets",(()=>q(this.widgetIds,(t=>{const e=this.getWidgetInstance(t);if(e&&e.getUserInput)return e.getUserInput()})))),(0,s.default)(this,"scoreWidgets",(()=>{const t=this.state.widgetInfo,e=this.getApiOptions().onInputError||function(){},i=u.default.filter(this.widgetIds,(e=>{const i=t[e],n=null==i.graded||i.graded,o=i.static;return n&&!o})),n={};return u.default.each(i,(i=>{const o=t[i],a=this.getWidgetInstance(i);a&&a.simpleValidate&&(n[i]=a.simpleValidate(o.options,e))})),n})),(0,s.default)(this,"score",(()=>u.default.reduce(this.scoreWidgets(),_.default.combineScores,_.default.noScore))),(0,s.default)(this,"guessAndScore",(()=>[this.getUserInput(),this.score()])),(0,s.default)(this,"examples",(()=>{const t=this.widgetIds,e=u.default.compact(u.default.map(t,(function(t){return t.examples?t.examples():null})));if(!e.length)return null;return u.default.all(e,(function(t){return u.default.isEqual(e[0],t)}))?e[0]:null})),(0,s.default)(this,"handleNotGorgonLintErrors",(t=>{this._isMounted&&this.setState({notGorgonLintErrors:t})})),this.state=u.default.extend({jiptContent:null,notGorgon:new I.default,notGorgonLintErrors:[],lastUsedWidgetId:null},this._getInitialWidgetState())}componentDidMount(){this._isMounted=!0,this.handleRender({}),this._currentFocus=null,this._rootNode=c.default.findDOMNode(this),this.props.serializedState&&this.restoreSerializedState(this.props.serializedState),this.props.linterContext.highlightLint&&this.state.notGorgon.runLinter(this.props.content,this.handleNotGorgonLintErrors)}UNSAFE_componentWillReceiveProps(t){u.default.isEqual(u.default.pick(this.props,G),u.default.pick(t,G))||this.setState(this._getInitialWidgetState(t))}shouldComponentUpdate(t,e){if(this.props.alwaysUpdate)return!0;const i=!u.default.isEqual(this.state,e);return!u.default.isEqual(this.props,t)||i}UNSAFE_componentWillUpdate(t,e){const i=this.shouldRenderJiptPlaceholder(this.props,this.state),n=this.shouldRenderJiptPlaceholder(t,e),o=this.getContent(this.props,this.state),a=this.getContent(t,e),s=this.props.highlightedWidgets,r=t.highlightedWidgets;this.reuseMarkdown=!i&&!n&&o===a&&u.default.isEqual(this.state.notGorgonLintErrors,e.notGorgonLintErrors)&&(!this.props.linterContext.highlightLint||u.default.isEqual(this.props.widgets,t.widgets))&&this.props.linterContext.highlightLint===t.linterContext.highlightLint&&s===r}componentDidUpdate(t,e){this.handleRender(t),u.default.each(this.widgetIds,(t=>{const e=this.refs["container:"+t];e&&e.replaceWidgetProps(this.getWidgetProps(t))})),this.props.serializedState&&!u.default.isEqual(this.props.serializedState,this.getSerializedState())&&this.restoreSerializedState(this.props.serializedState),this.props.linterContext.highlightLint&&this.state.notGorgon.runLinter(this.props.content,this.handleNotGorgonLintErrors)}componentWillUnmount(){this.widgetIds=[],null!=this.translationIndex&&(window.PerseusTranslationComponents[this.translationIndex]=null),this._isMounted=!1}render(){const t=this.getApiOptions();if(this.reuseMarkdown)return this.lastRenderedMarkdown;const e=this.getContent(this.props,this.state);if(this.widgetIds=[],this.shouldRenderJiptPlaceholder(this.props,this.state)&&(this.translationIndex||(this.translationIndex=window.PerseusTranslationComponents.push(this)-1),!t.isArticle))return l.createElement(f.default,null,l.createElement("div",{"data-perseus-component-index":this.translationIndex},e));this._isTwoColumn=!1;const i=v.default.parse(e,{isJipt:null!=this.translationIndex});if(this.props.linterContext.highlightLint){const t=(0,a.default)({content:this.props.content,widgets:this.props.widgets},this.props.linterContext);P.default.runLinter(i,t,!0),this.state.notGorgon.applyLintErrors(i,[].concat(this.state.notGorgonLintErrors,this.props.legacyPerseusLint||[]))}const n=this.outputMarkdown(i,{baseElements:t.baseElements}),o=(0,d.default)({[M.ClassNames.RENDERER]:!0,[M.ClassNames.RESPONSIVE_RENDERER]:!0,[M.ClassNames.TWO_COLUMN_RENDERER]:this._isTwoColumn});return this.lastRenderedMarkdown=l.createElement(f.default,null,l.createElement("div",{className:o},n)),this.lastRenderedMarkdown}}(0,s.default)(j,"defaultProps",{content:"",widgets:{},images:{},ignoreMissingWidgets:!0,highlightedWidgets:[],questionCompleted:!1,onRender:F,onInteractWithWidget:function(){},findExternalWidgets:()=>[],alwaysUpdate:!1,reviewMode:!1,serializedState:null,onSerializedStateUpdated:()=>{},linterContext:E.linterContextDefault});const U={mobileZoomableParentFix:{transform:"translate3d(0,0,0)"}};var H=j;e.default=H},BGgb:function(t,e,i){"use strict";var n=i("284h"),o=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o(i("lSNA")),s=n(i("q1tI"));const r="pending",l="loading",c="loaded",u="failed";class d extends s.Component{constructor(t){super(t),(0,a.default)(this,"createLoader",(()=>{this.destroyLoader(),this.img=new Image,this.img.onload=this.handleLoad,this.img.onerror=this.handleError,this.img.src=this.props.src})),(0,a.default)(this,"destroyLoader",(()=>{this.img&&(this.img.onload=null,this.img.onerror=null,this.img=null)})),(0,a.default)(this,"handleLoad",(t=>{this.destroyLoader(),this.setState({status:c}),this.props.onLoad&&this.props.onLoad(t)})),(0,a.default)(this,"handleError",(t=>{this.destroyLoader(),this.setState({status:u}),this.props.onError&&this.props.onError(t)})),(0,a.default)(this,"renderImg",(()=>{const{src:t,imgProps:e}=this.props,i={src:t};for(const t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);return s.createElement("img",i)})),this.state={status:t.src?l:r}}componentDidMount(){this.state.status===l&&this.createLoader()}UNSAFE_componentWillReceiveProps(t){this.props.src!==t.src&&this.setState({status:t.src?l:r})}componentDidUpdate(t,e){this.state.status!==l||this.img||this.createLoader(),e.status!==this.state.status&&this.props.onUpdate(this.state.status)}componentWillUnmount(){this.destroyLoader()}render(){switch(this.state.status){case c:return this.renderImg();case u:if(this.props.children)return this.props.children;break;default:if(this.props.preloader)return this.props.preloader()}return null}}var h=d;e.default=h},Boyy:function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("pVnL")),a=n(i("2OMh")),s=n(i("bRUr")),r=n(i("Y1i7"));const l=n(i("s6+k")).default.filter((t=>t.severity<s.default.Severity.BULK_WARNING));var c={runLinter:function(t,e,i,n){n=n||l;const a=[],s=new r.default(t);s.traverse(((t,e,i)=>{if(r.default.isTextNode(t)){let i=e.nextSibling();for(;r.default.isTextNode(i);)t.content+=i.content,e.removeNextSibling(),i=e.nextSibling()}}));let c=[],u=!1;return s.traverse(((t,s,r)=>{const l=[],d=n.filter((t=>t.applies(e))),h=[].concat(e.stack);h.push(t.type);const f=(0,o.default)({},e,{stack:h.join(".")});if(d.forEach((e=>{const n=e.check(t,s,r,f);n&&((n.start||n.end)&&(n.target=r.substring(n.start,n.end)),a.push(n),i&&l.push(n))})),i){var p;if("table"===t.type?(c.length&&l.push.apply(l,c),u=!1,c=[]):u||(u=s.ancestors().some((t=>"table"===t.type))),u&&l.length)(p=c).push.apply(p,l);if(l.length)if(l.sort(((t,e)=>t.severity-e.severity)),"text"!==t.type||l.length>1)s.replace({type:"lint",content:t,message:l.map((t=>t.message)).join("\n\n"),ruleName:l[0].rule,blockHighlight:f.blockHighlight,insideTable:u,severity:l[0].severity});else{const e=t.content,i=l[0],n=i.start||0,o=i.end||e.length,a=e.substring(0,n),r=e.substring(n,o),c=e.substring(o),d=[];a&&d.push({type:"text",content:a}),d.push({type:"lint",content:{type:"text",content:r},message:i.message,ruleName:i.rule,insideTable:u,severity:i.severity}),c&&d.push({type:"text",content:c}),s.replace.apply(s,d)}}})),a},parse:a.default.parse,pushContextStack:function(t,e){const i=t.stack||[];return(0,o.default)({},t,{stack:i.concat(e)})},rules:l};e.default=c},DuZ2:function(t,e,i){"use strict";var n=i("284h"),o=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o(i("pVnL")),s=n(i("q1tI")),r=o(i("17x9")),l=o(i("fhzG")),c=o(i("i8i4"));var u=(0,l.default)({displayName:"Zoomable",propTypes:{animateHeight:r.default.bool,children:r.default.element.isRequired,computeChildBounds:r.default.func,readyToMeasure:r.default.bool},getDefaultProps:()=>({animateHeight:!1,readyToMeasure:!0,computeChildBounds:t=>{const e=t.firstElementChild;return{width:e.offsetWidth,height:e.offsetHeight}}}),getInitialState:()=>({visible:!1,marginBottomPx:0,zoomed:!0}),componentDidMount(){this._isMounted=!0,this.maybeInitializeMeasuring()},componentDidUpdate(){this.maybeInitializeMeasuring()},componentWillUnmount(){window.removeEventListener("resize",this.reset),this._observer&&this._observer.disconnect(),this._isMounted=!1},_measuringInitialized:!1,reset(){this._isMounted&&this.state.visible&&(this._originalWidth=null,this.setState({visible:!1,compactHeight:null,expandedHeight:null,zoomed:!0},(()=>{this.measureAndScaleChildToFit(!1)})))},maybeInitializeMeasuring(){const t=this.props.readyToMeasure&&!this._measuringInitialized;this._isMounted&&t&&(this._measuringInitialized=!0,this._node=c.default.findDOMNode(this),setTimeout((()=>this.measureAndScaleChildToFit(!1)),0),window.MutationObserver&&(this._observer=new MutationObserver((t=>{if(this._isMounted)for(const e of t)if(e.target!==this._node){this.measureAndScaleChildToFit(this.state.zoomed);break}})),this._observer.observe(this._node,{childList:!0,subtree:!0,attributes:!0})),window.addEventListener("resize",this.reset))},stopPropagationIfZoomed(t){this.state.zoomed||t.stopPropagation()},measureAndScaleChildToFit(t){if(!this._isMounted)return;const e={width:this._node.offsetWidth,height:this._node.offsetHeight},i=this.props.computeChildBounds(this._node,e),n=i.width+1,o=i.height+1;if(n>e.width){const i=e.width/n;this.setState({scale:i,zoomed:t,compactHeight:Math.ceil(i*o),expandedHeight:o}),setTimeout((()=>{this._isMounted&&this.setState({visible:!0})}))}else this.setState({visible:!0})},handleClickIfZoomed(t){this.state.zoomed||(t.stopPropagation(),this.handleClick())},handleClick(){this.setState({zoomed:!this.state.zoomed})},render(){const{visible:t,scale:e,compactHeight:i,expandedHeight:n,zoomed:o}=this.state,{animateHeight:r}=this.props,l=r?"opacity transform height":"opacity transform",c=t?{transitionProperty:l,WebkitTransitionProperty:l,msTransitionProperty:l,transitionDuration:"0.3s",WebkitTransitionDuration:"0.3s",msTransitionDuration:"0.3s",transitionTimingFunction:"ease-out",WebkitTransitionTimingfunction:"ease-out",msTransitionTmingFunction:"ease-out"}:{},u=t?"":" translate(0, 8px)",d=o?"scale(1, 1) ".concat(u):"scale(".concat(e,", ").concat(e,") ").concat(u),h=(0,a.default)({display:"block",width:"100%",height:o?n:i,transform:d,WebkitTransform:d,msTransform:d,transformOrigin:"0 0",WebkitTransformOrigin:"0 0",msTransformOrigin:"0 0",opacity:t?1:0,WebkitTapHighlightColor:"transparent"},c);return s.createElement("span",{onClick:this.handleClick,onClickCapture:this.handleClickIfZoomed,onTouchCancelCapture:this.stopPropagationIfZoomed,onTouchEndCapture:this.stopPropagationIfZoomed,onTouchStartCapture:this.stopPropagationIfZoomed,style:h},this.props.children)}});e.default=u},EcLb:function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("bRUr")),a=o.default.makeRule({name:"image-spaces-around-urls",severity:o.default.Severity.ERROR,selector:"image",lint:function(t,e,i,n,o){const a=i[0].target;if(o&&o.content){const t=o.content.indexOf(a);if(-1===t)return;if("("!==o.content[t-1]||")"!==o.content[t+a.length])return"Whitespace before or after image url:\nFor images, don't include any space or newlines after '(' or before ')'.\nWhitespace in image URLs causes translation difficulties."}}});e.default=a},FVCV:function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("oLyU")),a=n(i("rGVj")),s=n(i("p8fL")),r=i("eAf/");const l=s.default.normalizeOptions,c=s.default.assert,u=["add","modify","draw","remove","onMoveStart","onMove","onMoveEnd","onClick"],d={cursor:null},h={added:!1,isHovering:!1,isMouseOver:!1,isDragging:!1,mouseTarget:null},f=function(t,e){o.default.extend(this,{graphie:t,state:{id:o.default.uniqueId("movable")}}),this.modify(o.default.extend({},h,e))};s.default.createGettersFor(f,o.default.extend({},d,h)),s.default.addMovableHelperMethodsTo(f),o.default.extend(f.prototype,{cloneState:function(){return o.default.clone(this.state)},_createDefaultState:function(){return o.default.extend({id:this.state.id,add:[],modify:[],draw:[],remove:[],onMoveStart:[],onMove:[],onMoveEnd:[],onClick:[]},d)},modify:function(t){this.update(o.default.extend({},this._createDefaultState(),t))},grab:function(t){c(r.point.is(t));const e=this,i=e.graphie,n=e.state;n.isHovering=!0,n.isDragging=!0,i.isDragging=!0;const o=t;let s=o;e._fireEvent(n.onMoveStart,o,o);const l=function(t){t.preventDefault();const o=i.getMouseCoord(t);e._fireEvent(n.onMove,o,s),e.draw(),s=o};(0,a.default)(document).bind("vmousemove",l),(0,a.default)(document).bind("vmouseup",(function t(r){(0,a.default)(document).unbind("vmousemove",l),(0,a.default)(document).unbind("vmouseup",t),n.isHovering&&e._fireEvent(n.onClick,s,o),n.isHovering=e.state.isMouseOver,n.isDragging=!1,i.isDragging=!1,e._fireEvent(n.onMoveEnd,s,o),e.draw()}))},update:function(t){const e=this,i=e.graphie,n=e.cloneState(),s=o.default.extend(e.state,l(u,t));if(s.mouseTarget&&!n.mouseTarget){let t;t=s.mouseTarget.getMouseTarget?(0,a.default)(s.mouseTarget.getMouseTarget()):(0,a.default)(s.mouseTarget[0]);!("ontouchstart"in window)&&(t.on("vmouseover",(function(){s.isMouseOver=!0,i.isDragging||(s.isHovering=!0),e.state.added&&e.draw()})),t.on("vmouseout",(function(){s.isMouseOver=!1,s.isDragging||(s.isHovering=!1),e.state.added&&e.draw()}))),t[0].addEventListener("touchstart",(function(t){t.preventDefault()}),{passive:!1}),t.on("vmousedown",(function(t){if(0!==t.which&&1!==t.which)return;t.preventDefault();const n=i.getMouseCoord(t);e.grab(n)}))}if(s.mouseTarget&&void 0!==s.cursor){let t;t=s.mouseTarget.getMouseTarget?(0,a.default)(s.mouseTarget.getMouseTarget()):(0,a.default)(s.mouseTarget[0]),t.css("cursor",s.cursor||"")}s.added||(e._fireEvent(s.modify,e.cloneState(),{}),s.added=!0,e.prevState=e.cloneState()),e._fireEvent(s.modify,e.cloneState(),e.prevState)},remove:function(){this.state.added=!1,this._fireEvent(this.state.remove),this.state.mouseTarget&&((0,a.default)(this.state.mouseTarget).off(),this.state.mouseTarget.remove(),this.state.mouseTarget=null)},toBack:function(){this.state.mouseTarget&&this.state.mouseTarget.toBack()},toFront:function(){this.state.mouseTarget&&this.state.mouseTarget.toFront()}});var p=f;e.default=p},Giaf:function(t,e,i){"use strict";var n=i("284h"),o=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o(i("lSNA")),s=n(i("q1tI")),r=o(i("17x9")),l=o(i("i8i4")),c=o(i("oLyU")),u=o(i("rGVj")),d=n(i("4PhQ")),h=o(i("7kT3")),f=o(i("kPsx")),p=o(i("uBl0")),g=o(i("p8fL")),m=o(i("NT9k"));const v=h.default.GraphieMovable,y=m.default.createGraphie,{deepEq:b,nestedMap:x}=p.default,{assert:w}=g.default;class k extends s.Component{constructor(...t){super(...t),(0,a.default)(this,"getGraphie",(()=>this._graphie)),(0,a.default)(this,"_range",(()=>c.default.map(this.props.range,(t=>t[0]>=t[1]?[-10,10]:t)))),(0,a.default)(this,"_box",(()=>c.default.map(this.props.box,(t=>t>0?t:340)))),(0,a.default)(this,"_scale",(()=>{const t=this._box(),e=this._range();return c.default.map(t,((t,i)=>t/(e[i][1]-e[i][0])))})),(0,a.default)(this,"_setupGraphie",(()=>{this._removeMovables();const t=l.default.findDOMNode(this.refs.graphieDiv);(0,u.default)(t).empty();const e=this._graphie=y(t);e.init({range:this._range(),scale:this._scale(),isMobile:this.props.isMobile}),this.props.addMouseLayer&&e.addMouseLayer({onClick:this.props.onClick,onMouseDown:this.props.onMouseDown,onMouseUp:this.props.onMouseUp,onMouseMove:this.props.onMouseMove,setDrawingAreaAvailable:this.props.setDrawingAreaAvailable}),e.snap=this.props.options.snapStep||[1,1],this.props.responsive&&((0,u.default)(t).css({width:"100%",height:"100%"}),e.raphael.setSize("100%","100%")),this.props.setup(e,c.default.extend({range:this._range(),scale:this._scale()},this.props.options))})),(0,a.default)(this,"_removeMovables",(()=>{c.default.invoke(this._movables,"remove"),this._movables={}})),(0,a.default)(this,"_renderMovables",((t,e)=>{const i=e.graphie,n=e.oldMovables,o=e.newMovables,a=t=>{c.default.each(t.movableProps,(i=>{t.props[i]=this._renderMovables(t.props[i],e)}))};let s=!1;return x(t,(t=>{if(!t)return e.nextKey++,t;const r=new t.type(t.props);w(r instanceof v,"All children of a Graphie component must be Graphie movables");const l=t.key,c=null==l?"_no_id_"+e.nextKey:l;e.nextKey++;const u=t.ref;a(r);const h=n[c];if(h)if(r.constructor===h.constructor){h.props=r.props;"reordered"===h.modify(i)&&(s=!0),o[c]=h}else null==l&&d.default.error("Replacing a <Graphie> child with a child of a different type. Please add keys to your <Graphie> children",d.Errors.Internal),h.remove(),r.add(i),s=!0,o[c]=r;else r.add(i),s=!0,o[c]=r;return s&&o[c].toFront(),u&&(this.movables[u]=o[c]),o[c]}))})),(0,a.default)(this,"_updateMovables",(()=>{const t=this._graphie,e=this._movables,i={};this._movables=i,this.movables={},this._renderMovables(this.props.children,{nextKey:1,graphie:t,oldMovables:e,newMovables:i}),c.default.each(e,((t,e)=>{i[e]||t.remove()}))}))}componentDidMount(){this._setupGraphie(),this._updateMovables()}shouldComponentUpdate(t){return!c.default.isEqual(this.props,t)}componentDidUpdate(t){this.props.setup!==t.setup&&d.default.error("<Graphie> was given a new setup function. This is a bad idea; please refactor your code to give the same setup function reference to <Graphie> on every render.",d.Errors.Internal),b(this.props.options,t.options)&&b(this.props.box,t.box)&&b(this.props.range,t.range)||this._setupGraphie(),this._updateMovables()}render(){return s.createElement("div",{className:"graphie-container"},s.createElement("div",{className:"graphie",ref:"graphieDiv"}))}}(0,a.default)(k,"propTypes",{addMouseLayer:r.default.bool,box:r.default.arrayOf(r.default.number).isRequired,children:r.default.node,isMobile:r.default.bool,onClick:r.default.func,onMouseDown:r.default.func,onMouseMove:r.default.func,onMouseUp:r.default.func,options:r.default.shape({snapStep:r.default.arrayOf(r.default.number)}),range:r.default.arrayOf(r.default.arrayOf(r.default.number)),responsive:r.default.bool,setDrawingAreaAvailable:r.default.func,setup:r.default.func.isRequired}),(0,a.default)(k,"defaultProps",{range:[[-10,10],[-10,10]],options:{},responsive:!1,addMouseLayer:!0}),c.default.extend(k,h.default),c.default.extend(k,f.default);var _=k;e.default=_},KSpR:function(t,e,i){"use strict";!function(t,e,i,n){if(void 0!==t){var o="virtualMouseBindings",a="virtualTouchID",s="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),r="clientX clientY pageX pageY screenX screenY".split(" "),l=t.event.mouseHooks?t.event.mouseHooks.props:[],c=t.event.props.concat(l),u={},d=0,h=0,f=0,p=!1,g=[],m=!1,v=!1,y="addEventListener"in i,b=t(i),x=1,w=0;t.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};for(var k=0;k<s.length;k++)t.event.special[s[k]]=O(s[k]);y&&i.addEventListener("click",(function(e){var i,n,o,s,r,l=g.length,c=e.target;if(l)for(i=e.clientX,n=e.clientY,threshold=t.vmouse.clickDistanceThreshold,o=c;o;){for(s=0;s<l;s++)if(r=g[s],0,o===c&&Math.abs(r.x-i)<threshold&&Math.abs(r.y-n)<threshold||t.data(o,a)===r.touchID)return e.preventDefault(),void e.stopPropagation();o=o.parentNode}}),!0)}function _(t){for(;t&&void 0!==t.originalEvent;)t=t.originalEvent;return t}function S(e){for(var i,n,a={};e;){for(n in i=t.data(e,o))i[n]&&(a[n]=a.hasVirtualBinding=!0);e=e.parentNode}return a}function M(){v=!0}function T(){v=!1}function C(){A(),d=setTimeout((function(){d=0,w=0,g.length=0,m=!1,M()}),t.vmouse.resetTimerDuration)}function A(){d&&(clearTimeout(d),d=0)}function P(e,i,n){var a;return(n&&n[e]||!n&&function(e,i){for(var n;e;){if((n=t.data(e,o))&&(!i||n[i]))return e;e=e.parentNode}return null}(i.target,e))&&(a=function(e,i){var n,o,a,s,l,u,d,h,f,p=e.type;if((e=t.Event(e)).type=i,n=e.originalEvent,o=t.event.props,p.search(/mouse/)>-1&&(o=c),n)for(d=o.length;d;)e[s=o[--d]]=n[s];if(p.search(/mouse(down|up)|click/)>-1&&!e.which&&(e.which=1),-1!==p.search(/^touch/)&&(p=(a=_(n)).touches,l=a.changedTouches,u=p&&p.length?p[0]:l&&l.length?l[0]:void 0))for(h=0,f=r.length;h<f;h++)e[s=r[h]]=u[s];return e}(i,e),t(i.target).trigger(a)),a}function E(e){var i=t.data(e.target,a);if(!(m||w&&w===i)){var n=P("v"+e.type,e);n&&(n.isDefaultPrevented()&&e.preventDefault(),n.isPropagationStopped()&&e.stopPropagation(),n.isImmediatePropagationStopped()&&e.stopImmediatePropagation())}}function I(e){var i,n,o=_(e).touches;if(o&&1===o.length&&(n=S(i=e.target)).hasVirtualBinding){w=x++,t.data(i,a,w),A(),T(),p=!1;var s=_(e).touches[0];h=s.pageX,f=s.pageY,P("vmouseover",e,n),P("vmousedown",e,n)}}function R(t){v||(p||P("vmousecancel",t,S(t.target)),p=!0,C())}function L(e){if(!v){var i=_(e).touches[0],n=a,o=t.vmouse.moveDistanceThreshold,a=a||Math.abs(i.pageX-h)>o||Math.abs(i.pageY-f)>o,s=S(e.target);a&&!n&&P("vmousecancel",e,s),P("vmousemove",e,s),C()}}function N(t){if(!v){M();var e,i=S(t.target);if(P("vmouseup",t,i),!p){var n=P("vclick",t,i);n&&n.isDefaultPrevented()&&(e=_(t).changedTouches[0],g.push({touchID:w,x:e.clientX,y:e.clientY}),m=!0)}P("vmouseout",t,i),p=!1,C()}}function D(e){var i,n=t.data(e,o);if(n)for(i in n)if(n[i])return!0;return!1}function q(){}function O(e){var i=e.substr(1);return{setup:function(n,a){D(this)||t.data(this,o,{}),t.data(this,o)[e]=!0,u[e]=(u[e]||0)+1,1===u[e]&&b.bind(i,E),t(this).bind(i,q),y&&(u.touchstart=(u.touchstart||0)+1,1===u.touchstart&&b.bind("touchstart",I).bind("touchend",N).bind("touchmove",L).bind("scroll",R))},teardown:function(n,a){--u[e],u[e]||b.unbind(i,E),y&&(--u.touchstart,u.touchstart||b.unbind("touchstart",I).unbind("touchmove",L).unbind("touchend",N).unbind("scroll",R));var s=t(this),r=t.data(this,o);r&&(r[e]=!1),s.unbind(i,q),D(this)||s.removeData(o)}}}}(window.jQuery,window,document)},KmI1:function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("rGVj")),a=i("yBUS"),s=i("Lp/H"),r=n(i("XwLL"));function l(t,e){const i=(0,o.default)(t).find("."+e);return 0===i.length?(0,o.default)("<span>").addClass(e).appendTo((0,o.default)(t)):i}function c(t,e){let i=0;!function n(){t.scrollHeight>18||i>=10?e():(i++,setTimeout(n,100))}()}var u={processMath:async function(t,e,i,n){const u=(0,o.default)(t);if(null==u.attr("data-math-formula")||i){const i=l(u,"katex-holder"),o=l(u,"mathjax-holder"),d=o.find("script[type='math/tex']")[0];null==e&&(u.attr("data-math-formula")?e=u.attr("data-math-formula"):d&&(e=d.text||d.textContent)),e=null!=e?e+"":"",e=r.default.cleanMath(e),u.attr("data-math-formula",e);const h=await(0,a.getKaTeX)();try{if(h.render(e,i[0],{colorIsTextColor:!0}),"mathjax"===u.attr("data-math-type")&&"undefined"!=typeof MathJax){const t=MathJax.Hub.getJaxFor(d);if(t){const e=t.SourceElement();e.previousSibling&&e.previousSibling.className&&t.Remove()}}return u.attr("data-math-type","katex"),void(n&&c(t,n))}catch(t){if((0,s.logKaTeXError)(e,t),t instanceof h.ParseError)throw t}u.attr("data-math-type","mathjax"),d?"text"in d?d.text=e:d.textContent=e:o.append("<script type='math/tex'>"+e.replace(/<\//g,"< /")+"<\/script>"),"undefined"!=typeof MathJax&&(MathJax.Hub.Queue(["Reprocess",MathJax.Hub,o[0]]),n&&MathJax.Hub.Queue((function(){const e=MathJax.Callback((function(){}));return c(t,(function(){n(),e()})),e})))}},cleanupMath:function(t){const e=(0,o.default)(t);if(e.attr("data-math-formula")){if("undefined"!=typeof MathJax){const t=MathJax.Hub.getJaxFor(e.find("script")[0]);if(t){const e=t.SourceElement();e.previousSibling&&e.previousSibling.className&&t.Remove()}}e.text(e.attr("data-math-formula")),e.attr("data-math-formula",null),e.attr("data-math-type",null)}return t},retrieveMathFormula:function(t){return(0,o.default)(t).attr("data-math-formula")}};e.default=u},L7Hz:function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("bRUr")),a=o.default.makeRule({name:"unbalanced-code-delimiters",severity:o.default.Severity.ERROR,pattern:/[`~]+/,message:"Unbalanced code delimiters:\ncode blocks should begin and end with the same type and number of delimiters"});e.default=a},MG0i:function(t,e,i){"use strict";var n=i("284h"),o=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i("mR6N"),s=o(i("TBZ3")),r=n(i("UcaO"));const{zIndexAboveScratchpad:l,zIndexInteractiveComponent:c,radioBorderColor:u,checkedColor:d,circleSize:h,radioMarginWidth:f}=r;var p=a.StyleSheet.create({perseusInteractive:{zIndex:c,position:"relative"},aboveScratchpad:{position:"relative",zIndex:l},blankBackground:{backgroundColor:"#FDFDFD"},perseusSrOnly:{border:0,clip:"rect(0,0,0,0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",width:1},responsiveLabel:{[s.default.smOrSmaller]:{fontSize:14,lineHeight:1.3},[s.default.md]:{fontSize:17,lineHeight:1.4},[s.default.lgOrLarger]:{fontSize:20,lineHeight:1.4}},responsiveInput:{display:"inline-block",WebkitAppearance:"none",appearance:"none","::-ms-check":{display:"none"},backgroundColor:"#fff",border:"2px solid #fff",boxShadow:"0 0px 0px 1px ".concat(u),outline:"none",boxSizing:"border-box",flexShrink:0,marginBottom:1,marginLeft:1,marginRight:1,marginTop:1,height:h-2,width:h-2},responsiveRadioInput:{borderRadius:"50%",":checked":{backgroundColor:d,border:"none",borderRadius:"50%",boxShadow:"inset 0px 0px 0px 2px white, "+"0 0px 0px 2px ".concat(d),marginTop:f,marginBottom:f,marginLeft:f,marginRight:f,height:h-2*f,width:h-2*f}},responsiveRadioInputActive:{backgroundColor:"#fff",border:"2px solid #fff",borderRadius:"50%",boxShadow:"0 0px 0px 2px ".concat(d),marginTop:f,marginBottom:f,marginLeft:f,marginRight:f,height:h-2*f,width:h-2*f,":checked":{backgroundColor:"#fff"}},disableTextSelection:{userSelect:"none"}});e.default=p},NT9k:function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("2BsJ"));i("4vmB");var a=o.default;e.default=a},NUXr:function(t,e,i){"use strict";var n=i("284h"),o=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.getInteractiveBoxFromSizeClass=e.getClassFromWidth=e.containerSizeClassPropType=e.containerSizeClass=void 0;var a=o(i("17x9")),s=n(i("UcaO"));const{interactiveSizes:r}=s,l={SMALL:"small",MEDIUM:"medium",LARGE:"large",XLARGE:"xlarge"};e.containerSizeClass=l;const c=a.default.oneOf(Object.values(l));e.containerSizeClassPropType=c;e.getClassFromWidth=t=>t?t<=512?l.SMALL:t<=688?l.MEDIUM:l.LARGE:l.MEDIUM;e.getInteractiveBoxFromSizeClass=t=>t===l.SMALL?[r.defaultBoxSizeSmall,r.defaultBoxSizeSmall]:[r.defaultBoxSize,r.defaultBoxSize]},PYx6:function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("bRUr")),a=o.default.makeRule({name:"table-missing-cells",severity:o.default.Severity.WARNING,selector:"table",lint:function(t,e,i,n){const o=i[0],a=o.header.length,s=o.cells.map((t=>t.length));for(let t=0;t<s.length;t++)if(s[t]!==a)return"Table rows don't match header:\nThe table header has ".concat(a," cells, but\nRow ").concat(t+1," has ").concat(s[t]," cells.")}});e.default=a},QVWj:function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("pVnL")),a=n(i("oLyU")),s=i("4PhQ"),r=i("eAf/");function l(t,e){return t+":"+e}const c={_fireEvent:function(t,e,i){a.default.invoke(t,"call",this,e,i)},_applyConstraints:function(t,e,i){let n=!1;return a.default.reduce(this.state.constraints,((t,a)=>{if(!1===t)return!1;if(n)return t;const l=a.call(this,t,e,(0,o.default)({onSkipRemaining:()=>{n=!0}},i));if(!1===l)return!1;if(r.point.is(l,2))return l;if(!0===l||null==l)return t;throw new s.KAError("Constraint returned invalid result: "+l,s.Errors.Internal)}),t,this)},draw:function(){const t=this.cloneState();c._fireEvent.call(this,this.state.draw,t,this.prevState),this.prevState=t},listen:function(t,e,i){this._listenerMap=this._listenerMap||{};const n=l(t,e),o=this._listenerMap[n]=this._listenerMap[n]||this.state[t].length;this.state[t][o]=i},unlisten:function(t,e){this._listenerMap=this._listenerMap||{};const i=l(t,e),n=this._listenerMap[i];if(void 0!==n){this.state[t].splice(n,1),delete this._listenerMap[i];const e=a.default.keys(this._listenerMap);a.default.each(e,(function(e){(function(t){return t.split(":")[0]})(e)===t&&this._listenerMap[e]>n&&this._listenerMap[e]--}),this)}}};var u=c;e.default=u},QqUF:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i("4PhQ");class o{static parse(t){return new a(t).parse()}match(t){throw new n.KAError("Selector subclasses must implement match()",n.Errors.Internal)}toString(){return"Unknown selector class"}}e.default=o;class a{constructor(t){t=t.trim().replace(/\s+/g," "),this.tokens=t.match(a.TOKENS)||[],this.tokenIndex=0}nextToken(){return this.tokens[this.tokenIndex]||""}consume(){this.tokenIndex++}isIdentifier(){const t=this.tokens[this.tokenIndex][0];return t>="a"&&t<="z"||t>="A"&&t<="Z"}skipSpace(){for(;" "===this.nextToken();)this.consume()}parse(){const t=this.parseTreeSelector();let e=this.nextToken();if(!e)return t;const i=[t];for(;e;){if(","!==e)throw new s("Expected comma");this.consume(),i.push(this.parseTreeSelector()),e=this.nextToken()}return new r(i)}parseTreeSelector(){this.skipSpace();let t=this.parseNodeSelector();for(;;){const e=this.nextToken();if(!e||","===e)break;if(" "===e)this.consume(),t=new d(t,this.parseNodeSelector());else if(">"===e)this.consume(),t=new h(t,this.parseNodeSelector());else if("+"===e)this.consume(),t=new f(t,this.parseNodeSelector());else{if("~"!==e)throw new s("Unexpected token: "+e);this.consume(),t=new p(t,this.parseNodeSelector())}}return t}parseNodeSelector(){this.skipSpace();const t=this.nextToken();if("*"===t)return this.consume(),new l;if(this.isIdentifier())return this.consume(),new c(t);throw new s("Expected node type")}}a.TOKENS=/([a-zA-Z][\w-]*)|(\d+)|[^\s]|(\s(?=[a-zA-Z\*]))/g;class s extends Error{constructor(t){super(t)}}class r extends o{constructor(t){super(),this.selectors=t}match(t){for(let e=0;e<this.selectors.length;e++){const i=this.selectors[e].match(t);if(i)return i}return null}toString(){let t="";for(let e=0;e<this.selectors.length;e++)t+=e>0?", ":"",t+=this.selectors[e].toString();return t}}class l extends o{match(t){return[t.currentNode()]}toString(){return"*"}}class c extends o{constructor(t){super(),this.type=t}match(t){const e=t.currentNode();return e.type===this.type?[e]:null}toString(){return this.type}}class u extends o{constructor(t,e){super(),this.left=t,this.right=e}}class d extends u{constructor(t,e){super(t,e)}match(t){const e=this.right.match(t);if(e)for(t=t.clone();t.hasParent();){t.goToParent();const i=this.left.match(t);if(i)return i.concat(e)}return null}toString(){return this.left.toString()+" "+this.right.toString()}}class h extends u{constructor(t,e){super(t,e)}match(t){const e=this.right.match(t);if(e&&t.hasParent()){(t=t.clone()).goToParent();const i=this.left.match(t);if(i)return i.concat(e)}return null}toString(){return this.left.toString()+" > "+this.right.toString()}}class f extends u{constructor(t,e){super(t,e)}match(t){const e=this.right.match(t);if(e&&t.hasPreviousSibling()){(t=t.clone()).goToPreviousSibling();const i=this.left.match(t);if(i)return i.concat(e)}return null}toString(){return this.left.toString()+" + "+this.right.toString()}}class p extends u{constructor(t,e){super(t,e)}match(t){const e=this.right.match(t);if(e)for(t=t.clone();t.hasPreviousSibling();){t.goToPreviousSibling();const i=this.left.match(t);if(i)return i.concat(e)}return null}toString(){return this.left.toString()+" ~ "+this.right.toString()}}},RZS3:function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("bRUr")),a=o.default.makeRule({name:"math-font-size",severity:o.default.Severity.GUIDELINE,selector:"math, blockMath",pattern:/\\(tiny|Tiny|small|large|Large|LARGE|huge|Huge|scriptsize|normalsize)\s*{/,message:"Math font size:\nDon't change the default font size with \\Large{} or similar commands"});e.default=a},Rwhr:function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("bRUr")),a=o.default.makeRule({name:"long-paragraph",severity:o.default.Severity.GUIDELINE,selector:"paragraph",pattern:/^.{501,}/,lint:function(t,e,i,n){return"Paragraph too long:\nThis paragraph is ".concat(e.length," characters long.\nShorten it to 500 characters or fewer.")}});e.default=a},SIs7:function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("bRUr")),a=o.default.makeRule({name:"double-spacing-after-terminal",severity:o.default.Severity.BULK_WARNING,selector:"paragraph",pattern:/[.!\?] {2}/i,message:"Use a single space after a sentence-ending period, or\nany other kind of terminal punctuation."});e.default=a},SmNe:function(t,e,i){"use strict";var n=i("284h"),o=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o(i("pVnL")),s=o(i("lSNA")),r=o(i("TSYQ")),l=n(i("q1tI")),c=o(i("17x9")),u=o(i("i8i4")),d=i("UcaO"),h=o(i("4Zwh")),f=i("NUXr"),p=i("zahm");class g extends l.Component{constructor(...t){super(...t),(0,s.default)(this,"state",{sizeClass:f.containerSizeClass.MEDIUM,widgetProps:this.props.initialProps}),(0,s.default)(this,"getWidget",(()=>this.refs.widget)),(0,s.default)(this,"replaceWidgetProps",(t=>{this.setState({widgetProps:t})}))}componentDidMount(){if(this.state.widgetProps.apiOptions.isMobile){const t=u.default.findDOMNode(this).offsetWidth;this.setState({sizeClass:(0,f.getClassFromWidth)(t)})}}render(){let t=(0,r.default)({"perseus-widget-container":!0,"widget-highlight":this.props.shouldHighlight,"widget-nohighlight":!this.props.shouldHighlight});const e=this.props.type,i=h.default.getWidget(e);if(null==i)return l.createElement("div",{className:t});let n=this.state.widgetProps.alignment;"default"===n&&(n=h.default.getDefaultAlignment(e)),t+=" widget-"+n;const o=this.state.widgetProps.apiOptions,s=this.state.widgetProps.static||o.readOnly,c={width:"100%",height:"100%",position:"absolute",top:0,left:0,zIndex:d.zIndexInteractiveComponent},u=h.default.isLintable(e)?this.props.linterContext:(0,a.default)({},this.props.linterContext,{highlightLint:!1});return l.createElement("div",{className:t,style:s?{position:"relative",overflow:"visible"}:{}},l.createElement(i,(0,a.default)({},this.state.widgetProps,{linterContext:u,containerSizeClass:this.state.sizeClass,ref:"widget"})),s&&l.createElement("div",{style:c}))}UNSAFE_componentWillReceiveProps(t){if(this.props.type!==t.type)throw new Error("WidgetContainer can't change widget type; set a different key instead to recreate the container.")}shouldComponentUpdate(t,e){return this.props.shouldHighlight!==t.shouldHighlight||this.props.type!==t.type||this.state.widgetProps!==e.widgetProps||this.state.sizeClass!==e.sizeClass}}(0,s.default)(g,"propTypes",{shouldHighlight:c.default.bool.isRequired,type:c.default.string,initialProps:c.default.object.isRequired,linterContext:p.linterContextProps}),(0,s.default)(g,"defaultProps",{linterContext:p.linterContextDefault});var m=g;e.default=m},T2HF:function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("oLyU")),a=n(i("p8fL")),s=n(i("xc4a")),r=i("eAf/"),l=n(i("XwLL"));const c={thickness:2,mouselayer:!1},u=function(t,e,i,n){n=o.default.extend({},c,n);const a=[t.range[0][0],0],s=[t.range[0][1],0];o.default.extend(this,t.fixedLine(a,s,n.thickness)),this.visibleShape.attr(n.normalStyle),o.default.extend(this,{graphie:t,initialPoint:t.scalePoint(a),initialLength:r.point.distanceToPoint(t.scalePoint(a),t.scalePoint(s))}),n.mouselayer?(this.wrapper.style.touchAction="none",this.graphie.addToMouseLayerWrapper(this.wrapper)):this.graphie.addToVisibleLayerWrapper(this.wrapper),this.moveTo(e,i)};o.default.extend(u.prototype,s.default,{getMouseTarget:function(){return this.wrapper},moveTo:function(t,e){const i=this.graphie.scalePoint(t),n=this.graphie.scalePoint(e),o=r.vector.polarDegFromCart(r.vector.subtract(n,i)),s=o[0],c=l.default.bound(o[1]),u=r.vector.subtract(i,this.initialPoint),d=l.default.bound(s/this.initialLength),h=a.default.getCanUse3dTransform(),f="translateX("+u[0]+"px) translateY("+u[1]+"px) "+(h?" translateZ(0)":"")+"rotate("+c+"deg) scaleX("+d+") scaleY(1)";this.transform(f)}});var d=u;e.default=d},TBZ3:function(t,e,i){"use strict";var n=i("284h");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("UcaO"));const{pureXsMax:a,pureSmMin:s,pureSmMax:r,pureMdMin:l,pureMdMax:c,pureLgMin:u,pureLgMax:d,pureXlMin:h}=o;var f={xs:"@media screen and (max-width: ".concat(a,")"),sm:"@media screen and (min-width: ".concat(s,") and ")+"(max-width: ".concat(r,")"),md:"@media screen and (min-width: ".concat(l,") and ")+"(max-width: ".concat(c,")"),lg:"@media screen and (min-width: ".concat(u,") and ")+"(max-width: ".concat(d,")"),xl:"@media screen and (min-width: ".concat(h,")"),smOrSmaller:"@media screen and (max-width: ".concat(r,")"),mdOrSmaller:"@media screen and (max-width: ".concat(c,")"),lgOrSmaller:"@media screen and (max-width: ".concat(d,")"),smOrLarger:"@media screen and (min-width: ".concat(s,")"),mdOrLarger:"@media screen and (min-width: ".concat(l,")"),lgOrLarger:"@media screen and (min-width: ".concat(u,")")};e.default=f},Tqif:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;const n=/\\+([ !#$%*,.:;\[\]\^_{|}]|[a-zA-Z]*)/g,o=[].concat(["blue","blueA","blueB","blueC","blueD","blueE","goldA","goldB","goldC","goldD","goldE","gray","grayA","grayB","grayC","grayD","grayE","grayF","grayG","grayH","grayI","green","greenA","greenB","greenC","greenD","greenE","kaBlue","kaGreen","maroonA","maroonB","maroonC","maroonD","maroonE","mintA","mintB","mintC","orange","pink","purple","purpleA","purpleB","purpleC","purpleD","purpleE","red","redA","redB","redC","redD","redE","tealA","tealB","tealC","tealD","tealE"],[" ","!","#","%","*",",",".",":",";","[","]","^","_","{","|","}","Alpha","alpha","angle","approx","arccos","arcctg","arcsin","arctan","arctg","arg","argmax","argmin","arrow","bar","barwedge","begin","Beta","beta","bf","big","Big","bigg","Bigg","bigl","Bigl","bigr","Bigr","bigstar","bigtriangledown","bigtriangleup","binom","blacklozenge","boldsymbol","Box","boxdot","boxed","bullet","cancel","cap","cdot","cdots","ce","ch","checkmark","Chi","chi","circ","circledcirc","clubsuit","colon","color","cong","cos","cosec","cosh","cot","cotg","coth","csc","ctg","cth","cup","curvearrowright","dagger","dbinom","ddots","deg","degree","delta","Delta","det","dfrac","diamond","diamondsuit","digamma","dim","displaystyle","div","dot","dots","downarrow","Downarrow","ell","end","enspace","Epsilon","epsilon","equiv","Eta","eta","exp","fbox","flat","footnotesize","frac","frown","gamma","Gamma","gcd","gcf","ge","geq","gg","gt","hat","hbox","heartsuit","hline","hom","hphantom","huge","Huge","iff","iiint","iint","implies","in","inf","infty","int","intercal","Iota","iota","it","Kappa","kappa","ker","kern","Lambda","lambda","langle","large","Large","LARGE","lcm","ldots","le","left","leftarrow","leftrightarrow","Leftrightarrow","leftrightharpoons","leftroot","leq","lfloor","lg","lim","liminf","limits","limsup","llap","ln","log","longrightarrow","Longrightarrow","lozenge","lt","lvert","mathbb","mathbf","mathbin","mathcal","mathllap","mathop","mathrm","mathsf","max","mbox","mid","min","mp","Mu","mu","nabla","ne","nearrow","neq","ngeq","ngtr","nleq","nless","normalsize","not","Nu","nu","nx","odot","oint","omega","Omega","Omicron","omicron","operatorname","oplus","oslash","otimes","overbrace","overleftarrow","overleftrightarrow","overline","overrightarrow","overset","parallel","partial","perp","phantom","phi","Phi","Pi","pi","plim","pm","Pr","prime","propto","psi","Psi","qquad","quad","raise","rangle","rfloor","Rho","rho","right","rightarrow","Rightarrow","rightleftharpoons","rvert","scriptsize","scriptstyle","searrow","sec","setminus","sh","sharp","sigma","Sigma","sim","simeq","sin","sinh","small","space","sqrt","square","stackrel","star","substack","sum","sup","swarrow","tan","tan","tanh","Tau","tau","text","textbf","textit","textrm","tfrac","tg","th","therefore","theta","Theta","thetasym","tilde","times","tiny","to","triangle","triangleleft","triangleright","underbrace","underline","underset","uparrow","uproot","Upsilon","upsilon","varDelta","varepsilon","varGamma","varkappa","varLambda","varOmega","varPhi","varphi","varpi","varPi","varPsi","varrho","varSigma","varsigma","varTheta","vartheta","varUpsilon","varXi","vdots","vec","veebar","vert","vphantom","widehat","xi","Xi","xrightarrow","Zeta","zeta","Begin","End","inte","lamba","textb"]).reduce((function(t,e){return t[e]=null,t}),{}),a={n:"\n",r:"\r",t:"\t","\\":"\\"},s=function(t){let e=0;for(;e<t.length&&"\\"===t[e];)e++;if(0===e)return 2;if(e%2==0)return 3;const i=t.substring(e);return"$"===i?1===e?4:1:o.hasOwnProperty(i)?6:0},r=function(t){let e=0,i="";for(;e<t.length;){const n=t[e];if("\\"===n){if(e+=1,e===t.length)return null;const n=t[e];if(!a.hasOwnProperty(n))return null;i+=a[n]}else i+=n;e+=1}return i},l=function(t){if(!t||t.indexOf("\\")<0)return!1;let e,i=0,o=0,a=!1,l=!1;for(n.lastIndex=0;null!==(e=n.exec(t));){const t=e[0],n=r(t);if(null===n)return!1;const c=s(t);0===c&&(a=!0);const u=s(n);0===u&&(l=!0),i+=c,o+=u}return a!==l?a:o>=i};var c={maybeUnescape:function(t){return l(t)?r(t):t},maybeUnescapeAccordingToSource:function(t,e){return l(t)?[r(t),r(e)]:[t,e]},shouldUnescape:l};e.default=c},UCPD:function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("bRUr")),a=o.default.makeRule({name:"math-without-dollars",severity:o.default.Severity.GUIDELINE,pattern:/\\\w+{[^}]*}|{|}/,message:"This looks like LaTeX:\ndid you mean to put it inside dollar signs?"});e.default=a},Ue85:function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("bRUr")),a=o.default.makeRule({name:"math-adjacent",severity:o.default.Severity.WARNING,selector:"blockMath+blockMath",message:"Adjacent math blocks:\ncombine the blocks between \\begin{align} and \\end{align}"});e.default=a},"WCF/":function(t,e,i){"use strict";var n=i("284h"),o=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o(i("TSYQ")),s=n(i("q1tI")),r=o(i("17x9")),l=o(i("fhzG")),c=i("UcaO");var u=(0,l.default)({displayName:"FixedToResponsive",propTypes:{width:r.default.number.isRequired,height:r.default.number.isRequired,className:r.default.string,constrainHeight:r.default.bool,allowFullBleed:r.default.bool},getDefaultProps:function(){return{className:"",constrainHeight:!1,allowFullBleed:!1}},getInitialState:function(){return{viewportHeight:null,viewportWidth:null}},componentDidMount:function(){this._isMounted=!0,window.innerHeight<480?setTimeout(this._cacheViewportSize,800):this._cacheViewportSize()},componentWillUnmount:function(){this._isMounted=!1},_cacheViewportSize:function(){this._isMounted&&this.setState({viewportHeight:Math.max(480,window.innerHeight),viewportWidth:window.innerWidth})},render:function(){const t=this.props.width/this.props.height,e=s.createElement("div",{style:{paddingBottom:100*(1/t).toFixed(4)+"%"}});let{width:i,height:n}=this.props;if(this.props.constrainHeight&&this.state.viewportHeight){const e=2/3*this.state.viewportHeight;this.props.height>=e&&(n=e,i=e*t)}const o={maxWidth:i,maxHeight:n},r=(0,a.default)("fixed-to-responsive",this.props.className),l=s.createElement("div",{className:r,style:o},e,this.props.children);return this.props.allowFullBleed&&this.state.viewportWidth&&i>=this.state.viewportWidth?s.createElement("div",{style:{marginLeft:c.negativePhoneMargin,marginRight:c.negativePhoneMargin}},l):l}});e.default=u},Y1i7:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TraversalState=e.default=void 0;var n=i("4PhQ");class o{constructor(t){this.root=t}static isNode(t){return t&&"object"==typeof t&&"string"==typeof t.type}static isTextNode(t){return o.isNode(t)&&"text"===t.type&&"string"==typeof t.content}traverse(t){this._traverse(this.root,new a(this.root),t)}_traverse(t,e,i){let n="";if(o.isNode(t)){const o=t;e._containers.push(o),e._ancestors.push(o),"string"==typeof o.content&&(n=o.content);Object.keys(o).forEach((t=>{if("type"===t)return;const a=o[t];a&&"object"==typeof a&&(e._indexes.push(t),n+=this._traverse(a,e,i),e._indexes.pop())})),e._currentNode=e._ancestors.pop(),e._containers.pop(),i(o,e,n)}else if(Array.isArray(t)){const o=t;e._containers.push(o);let a=0;for(;a<o.length;)e._indexes.push(a),n+=this._traverse(o[a],e,i),a=e._indexes.pop()+1;e._containers.pop()}return n}}e.default=o;class a{constructor(t){this.root=t,this._currentNode=null,this._containers=new s,this._indexes=new s,this._ancestors=new s}currentNode(){return this._currentNode||this.root}parent(){return this._ancestors.top()}ancestors(){return this._ancestors.values()}nextSibling(){const t=this._containers.top();if(!t||!Array.isArray(t))return null;const e=this._indexes.top();return t.length>e+1?t[e+1]:null}previousSibling(){const t=this._containers.top();if(!t||!Array.isArray(t))return null;const e=this._indexes.top();return e>0?t[e-1]:null}removeNextSibling(){const t=this._containers.top();if(t&&Array.isArray(t)){const e=this._indexes.top();if(t.length>e+1)return t.splice(e+1,1)[0]}return null}replace(...t){const e=this._containers.top();if(!e)throw new n.KAError("Can't replace the root of the tree",n.Errors.Internal);const i=Array.isArray(e),o=e,a=this._indexes.top(),s=e,r=this._indexes.top();i?(o.splice.apply(o,[a,1].concat(t)),this._indexes.pop(),this._indexes.push(a+t.length-1)):0===t.length?delete s[r]:1===t.length?s[r]=t[0]:s[r]=t}hasPreviousSibling(){return Array.isArray(this._containers.top())&&this._indexes.top()>0}goToPreviousSibling(){if(!this.hasPreviousSibling())throw new n.KAError("goToPreviousSibling(): node has no previous sibling",n.Errors.Internal);this._currentNode=this.previousSibling();const t=this._indexes.pop();this._indexes.push(t-1)}hasParent(){return 0!==this._ancestors.size()}goToParent(){if(!this.hasParent())throw new n.KAError("goToParent(): node has no ancestor",n.Errors.Internal);for(this._currentNode=this._ancestors.pop();this._containers.size()&&this._containers.top()[this._indexes.top()]!==this._currentNode;)this._containers.pop(),this._indexes.pop()}clone(){const t=new a(this.root);return t._currentNode=this._currentNode,t._containers=this._containers.clone(),t._indexes=this._indexes.clone(),t._ancestors=this._ancestors.clone(),t}equals(t){return this.root===t.root&&this._currentNode===t._currentNode&&this._containers.equals(t._containers)&&this._indexes.equals(t._indexes)&&this._ancestors.equals(t._ancestors)}}e.TraversalState=a;class s{constructor(t){this.stack=t?t.slice(0):[]}push(t){this.stack.push(t)}pop(){return this.stack.pop()}top(){return this.stack[this.stack.length-1]}values(){return this.stack.slice(0)}size(){return this.stack.length}toString(){return this.stack.toString()}clone(){return new s(this.stack)}equals(t){if(!t||!t.stack||t.stack.length!==this.stack.length)return!1;for(let e=0;e<this.stack.length;e++)if(this.stack[e]!==t.stack[e])return!1;return!0}}},bHYm:function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("pVnL")),a=n(i("FVCV")),s=n(i("p6EO")),r=n(i("uN08")),l=n(i("+vEw")),c=n(i("yfnS"));const u={MovablePoint:s.default,addMovablePoint:function(t,e){const i=new a.default(t,{});return new s.default(t,i,e)},MovableLine:r.default,addMovableLine:function(t,e){const i=new a.default(t,{});return new r.default(t,i,e)},MovablePolygon:l.default,addMovablePolygon:function(t,e){const i=new a.default(t,{});return new l.default(t,i,e)},addMaybeMobileMovablePoint:function(t,e){const i=t.props.apiOptions.isMobile,n=i?{stroke:"#ffffff","stroke-width":3,fill:c.default.INTERACTIVE}:{stroke:c.default.INTERACTIVE,fill:c.default.INTERACTIVE},a=Object.assign(n,e.normalStyle),s=Object.assign(i?(0,o.default)({},n,{"stroke-width":0,scale:.75}):{},e.highlightStyle),r=Object.assign({normalStyle:a,highlightStyle:s,shadow:i,tooltip:i&&t.props.showTooltips,showHairlines:t.showHairlines,hideHairlines:t.hideHairlines},i?{pointSize:7}:{});return u.addMovablePoint(t.graphie,Object.assign(e,r))}};var d=u;e.default=d},bRUr:function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("lSNA")),a=i("4PhQ"),s=n(i("QqUF"));class r{constructor(t,e,i,n,o,s){if(!i&&!n)throw new a.KAError("Lint rules must have a selector or pattern",a.Errors.Internal);this.name=t||"unnamed rule",this.severity=e||r.Severity.BULK_WARNING,this.selector=i||r.DEFAULT_SELECTOR,this.pattern=n||null,"function"==typeof o?(this.lint=o,this.message=null):(this.lint=this._defaultLintFunction,this.message=o),this.applies=s||function(){return!0}}static makeRule(t){return new r(t.name,t.severity,t.selector?s.default.parse(t.selector):null,r.makePattern(t.pattern),t.lint||t.message,t.applies)}check(t,e,i,n){const o=this.selector.match(e);if(!o)return null;let a;if(a=this.pattern?i.match(this.pattern):r.FakePatternMatch(i,i,0),!a)return null;try{const t=this.lint(e,i,o,a,n);return t?"string"==typeof t?{rule:this.name,severity:this.severity,message:t,start:0,end:i.length}:{rule:this.name,severity:this.severity,message:t.message,start:t.start,end:t.end}:null}catch(t){return{rule:"lint-rule-failure",message:"Exception in rule ".concat(this.name,": ").concat(t.message,"\nStack trace:\n").concat(t.stack),start:0,end:i.length}}}_defaultLintFunction(t,e,i,n){return{message:this.message||"",start:n.index,end:n.index+n[0].length}}static makePattern(t){if(!t)return null;if(t instanceof RegExp)return t;if("/"===t[0]){const e=t.lastIndexOf("/"),i=t.substring(1,e),n=t.substring(e+1);return new RegExp(i,n)}return new RegExp(t)}static FakePatternMatch(t,e,i){const n=[e];return n.index=i,n.input=t,n}}e.default=r,(0,o.default)(r,"Severity",{ERROR:1,WARNING:2,GUIDELINE:3,BULK_WARNING:4}),r.DEFAULT_SELECTOR=s.default.parse("text")},bxIm:function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("bRUr")),a=o.default.makeRule({name:"unescaped-dollar",severity:o.default.Severity.ERROR,selector:"unescapedDollar",message:"Unescaped dollar sign:\nDollar signs must appear in pairs or be escaped as \\$"});e.default=a},"c+Oy":function(t,e,i){"use strict";var n=i("284h");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("q1tI"));class a extends o.Component{render(){const t=this.props.className?"paragraph "+this.props.className:"paragraph";return o.createElement("div",{className:t,"data-perseus-component-index":this.props.translationIndex,"data-perseus-paragraph-index":this.props.paragraphIndex},this.props.children)}}var s=a;e.default=s},cCIU:function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("bRUr")).default.makeRule({name:"extra-content-spacing",selector:"paragraph",pattern:/\s+$/,applies:function(t){return"article"===t.contentType},message:"No extra whitespace at the end of content blocks."});e.default=o},d773:function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("oLyU")),a=n(i("xc4a")),s=n(i("p8fL")),r=i("eAf/");const l={maxScale:1,mouselayer:!1,shadow:!1,disableMouseEventsOnWrapper:!1},c=function(t,e,i,n){n=o.default.extend({},l,n);const a=t.fixedEllipse(e,i,n.maxScale,n.padding);if(o.default.extend(this,a,{graphie:t,initialPoint:e}),n.mouselayer?(this.wrapper.style.touchAction="none",this.graphie.addToMouseLayerWrapper(this.wrapper)):this.graphie.addToVisibleLayerWrapper(this.wrapper),n.shadow){const t="drop-shadow(0px 0px 5px rgba(0, 0, 0, 0.5))",e=this.wrapper;e.style.webkitFilter=t,e.style.filter=t,this.moveTo=function(t){const e=r.vector.subtract(this.graphie.scalePoint(t),this.graphie.scalePoint(this.initialPoint)),i=s.default.getCanUse3dTransform(),n="translateX("+Math.round(e[0])+"px) translateY("+Math.round(e[1])+"px)"+(i?" translateZ(0)":"");this.transform(n)}}n.disableMouseEventsOnWrapper&&(this.wrapper.style.pointerEvents="none",this.visibleShape.node.style.pointerEvents="auto")};o.default.extend(c.prototype,a.default);var u=c;e.default=u},e1hl:function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("oLyU")),a=i("eAf/");function s(t){const e=o.default.zip(t,t.slice(1).concat(t.slice(0,1))),i=o.default.map(e,(function(t){const e=t[0],i=t[1];return(i[0]-e[0])*(i[1]+e[1])}));return n=i,o.default.reduce(n,(function(t,e){return t+e}),0)>0;var n}const r={constrain:function(){this.constrain()},pointsToFront:function(t){o.default.invoke(t.points,"toFront")}};r.standard=[r.constrain,r.pointsToFront];const l={draw:function(){this.draw()}};l.standard=[l.draw];const c={basic:function(t,e){const i=this.graphie,n=this.path(t);this.state.visibleShape||(this.state.visibleShape=i.raphael.path(n),this.state.visibleShape.attr(this.normalStyle())),t.normalStyle===e.normalStyle||o.default.isEqual(t.normalStyle,e.normalStyle)||this.state.visibleShape.attr(this.normalStyle()),this.state.visibleShape.attr({path:n}),this.mouseTarget()&&this.mouseTarget().attr({path:n})},labels:function(t,e){const i=this.graphie,n=this,a=o.default.invoke(t.points,"coord"),r=s(a),l=a.length;null!=n.state._labelCache&&o.default.invoke(n.state._labelCache,"remove"),n.state._labelCache=[],(t.angleLabels.length||t.showRightAngleMarkers.length)&&(null==n.state._labeledAngles&&(n.state._labeledAngles=o.default.times(Math.max(t.angleLabels.length,t.showRightAngleMarkers.length),(function(){return i.label([0,0],"","center",t.labelStyle)}))),o.default.each(n.state._labeledAngles,(function(e,o){n.state._labelCache.push(i.labelAngle({point1:a[(o-1+l)%l],vertex:a[o],point3:a[(o+1)%l],label:e,text:t.angleLabels[o],showRightAngleMarker:t.showRightAngleMarkers[o],numArcs:t.numArcs[o],clockwise:r,style:t.labelStyle}))}))),t.sideLabels.length&&(null==n.state._labeledSides&&(n.state._labeledSides=o.default.map(t.sideLabels,(function(e){return i.label([0,0],"","center",t.labelStyle)}))),o.default.each(n.state._labeledSides,(function(e,o){n.state._labelCache.push(i.labelSide({point1:a[o],point2:a[(o+1)%l],label:e,text:t.sideLabels[o],numArrows:t.numArrows[o],numTicks:t.numTicks[o],clockwise:r,style:t.labelStyle}))}))),t.vertexLabels.length&&(null==n.state._labeledVertices&&(n.state._labeledVertices=o.default.map(t.vertexLabels,(function(e){return i.label([0,0],"","center",t.labelStyle)}))),o.default.each(n.state._labeledVertices,(function(e,o){n.state._labelCache.push(i.labelVertex({point1:a[(o-1+l)%l],vertex:a[o],point3:a[(o+1)%l],label:e,text:t.vertexLabels[o],clockwise:r,style:t.labelStyle}))}))),n.state._labelCache=o.default.flatten(n.state._labelCache)},highlight:function(t,e){t.isHovering&&!e.isHovering?t.visibleShape.animate(this.highlightStyle(),50):!t.isHovering&&e.isHovering&&t.visibleShape.animate(this.normalStyle(),50)}};c.standard=[c.basic,c.labels,c.highlight];const u={basic:function(){this.state.visibleShape&&this.state.visibleShape.remove()},labels:function(){const t=[this.state._labeledSides,this.state._labeledVertices,this.state._labeledAngles,this.state._labelCache];o.default.each(t,(function(t){null!=t&&t.length&&o.default.invoke(t,"remove")}))}};u.standard=[u.basic,u.labels];const d={fixed:function(){return function(){return!1}},snap:function(t){return function(e){return null===t||(t=t||this.graphie.snap,a.point.roundTo(e,t))}},bound:function(t,e,i){return void 0===i&&(i=void 0===t?10:0),function(n,s){const r=this.graphie,l=a.vector.subtract(n,s);t=t||r.range,void 0===e&&(e=r.snap);let c=r.unscalePoint([i,r.ypixels-i]),u=r.unscalePoint([r.xpixels-i,i]);e&&(c=a.point.ceilTo(c,e),u=a.point.floorTo(u,e));const d=o.default.map(this.coords(),(function(t,e){const i=a.vector.subtract(u,t);return[a.vector.subtract(c,t),i]})),h=o.default.reduce(d,(function(t,e){const i=e[0],n=e[1];return[Math.max(i[0],Math.min(n[0],t[0])),Math.max(i[1],Math.min(n[1],t[1]))]}),l);return a.vector.add(s,h)}},standard:null},h={updatePoints:function(t,e){const i=a.vector.subtract(t,e);o.default.each(this.state.points,(function(t){t.setCoord(a.vector.add(t.coord(),i))}))},standard:null};var f={add:r,modify:l,draw:c,remove:u,onMoveStart:{standard:null},constraints:d,onMove:h,onMoveEnd:{standard:null},onClick:{standard:null}};e.default=f},f3EM:function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("oLyU")),a=n(i("xc4a"));const s={center:null,createPath:null,mouselayer:!1},r=function(t,e,i){i=o.default.extend({},s,i),o.default.extend(this,t.fixedPath(e,i.center,i.createPath)),o.default.extend(this,{graphie:t,initialPoint:t.scalePoint(o.default.head(e))}),i.mouselayer?(this.wrapper.style.touchAction="none",this.graphie.addToMouseLayerWrapper(this.wrapper)):this.graphie.addToVisibleLayerWrapper(this.wrapper)};o.default.extend(r.prototype,a.default);var l=r;e.default=l},iNas:function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("bRUr")),a=o.default.makeRule({name:"math-nested",severity:o.default.Severity.ERROR,selector:"math, blockMath",pattern:/\\text{[^$}]*\$[^$}]*\$[^}]*}/,message:"Nested math:\nDon't nest math expressions inside \\text{} blocks"});e.default=a},jJak:function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("bRUr")),a=o.default.makeRule({name:"math-text-empty",severity:o.default.Severity.WARNING,selector:"math, blockMath",pattern:/\\text{\s*}/,message:"Empty \\text{} block in math expression"});e.default=a},jPXw:function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("bRUr")),a=o.default.makeRule({name:"nested-lists",severity:o.default.Severity.WARNING,selector:"list list",message:"Nested lists:\nnested lists are hard to read on mobile devices;\ndo not use additional indentation."});e.default=a},"k+ms":function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("bRUr")),a=o.default.makeRule({name:"image-in-table",severity:o.default.Severity.BULK_WARNING,selector:"table image",message:"Image in table:\ndo not put images inside of tables."});e.default=a},kPsx:function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("pVnL")),a=n(i("rGVj")),s=n(i("oLyU")),r=n(i("XDp7")),l=n(i("7kT3")),c=n(i("bHYm")),u=n(i("yfnS")),d=n(i("Tqif"));const{maybeUnescape:h}=d.default,f=l.default.createClass({displayName:"MovablePoint",movableProps:["children"],_getProps:function(){if(this.props.isMobile){const t=this.props.isMobile,e=t?{stroke:"#ffffff","stroke-width":3,fill:u.default.INTERACTIVE}:{stroke:u.default.INTERACTIVE,fill:u.default.INTERACTIVE},i=t?Object.assign(e,this.props.mobileStyleOverride||{}):Object.assign(e,this.props.normalStyle),n=t?(0,o.default)({},e,{"stroke-width":0,scale:.75}):this.props.highlightStyle,a=Object.assign({normalStyle:i,highlightStyle:n,shadow:t,tooltip:t&&this.props.showTooltips},t?{pointSize:7}:{});return Object.assign(this.props,a)}return this.props},add:function(t){this.point=c.default.addMovablePoint(t,this._getProps())},modify:function(){this.point.modify(this._getProps())},remove:function(){this.point.remove()},toFront:function(){this.point.toFront()},grab:function(t){this.point.grab(t)}});s.default.extend(f,c.default.MovablePoint);const p=l.default.createClass({displayName:"MovableLine",movableProps:["children"],add:function(t){const e=s.default.pluck(this.props.children,"point"),i=s.default.extend({},this.props,{points:e});this.line=c.default.addMovableLine(t,i)},modify:function(){const t=s.default.pluck(this.props.children,"point"),e=s.default.extend({},this.props,{points:t});this.line.modify(e)},remove:function(){this.line.remove()},toFront:function(){this.line.toFront()}});s.default.extend(p,c.default.MovableLine);const g=[];r.default.useJIPT&&r.default.domInsertChecks.push((function(t,e,i){const n=(0,a.default)(e).data("jipt-label-movables-index");if(e&&void 0!==n){const{label:e,useMath:i}=g[n];if(e.text(""),t=h(t),"undefined"===i||i){const i=/^\$(.*)\$$/,n=t.match(i),o=n?n[1]:"\\color{red}{\\text{Invalid Math}}";e.processMath(o,!0)}else e.processText(t);return!1}return t}));const m=l.default.createSimpleClass(((t,e)=>{let i=e.coord;e.unscaled&&(i=t.unscalePoint(i));let n=null;return r.default.useJIPT?(n=t.label(i,e.text,e.direction,!1,e.style),(0,a.default)(n).data("jipt-label-movables-index",g.length),g.push({label:n,useMath:e.tex})):n=t.label(i,e.text,e.direction,e.tex,e.style),n})),v=l.default.createClass({displayName:"Line",movableProps:["children"],add:function(t){const e=this.props;this.graphie=t,this.line=this.graphie.line(e.start,e.end,e.style)},modify:function(){const t=this.props,e=this.graphie.svgPath([t.start,t.end]);this.line.attr(s.default.extend({},t.style,{path:e}))},remove:function(){this.line.remove()},toFront:function(){this.line.toFront()}}),y=l.default.createClass({displayName:"Parabola",movableProps:["children"],add:function(t){const e=this.props;this.graphie=t,this.parabola=this.graphie.parabola(e.a,e.b,e.c,e.style)},modify:function(){const t=this.props,e=this.graphie.svgParabolaPath(t.a,t.b,t.c);this.parabola.attr(s.default.extend({},t.style,{path:e}))},remove:function(){this.parabola.remove()},toFront:function(){this.parabola.toFront()}}),b=l.default.createClass({displayName:"Sinusoid",movableProps:["children"],add:function(t){const e=this.props;this.graphie=t,this.sinusoid=this.graphie.sinusoid(e.a,e.b,e.c,e.d,e.style)},modify:function(){const t=this.props,e=this.graphie.svgSinusoidPath(t.a,t.b,t.c,t.d);this.sinusoid.attr(s.default.extend({},t.style,{path:e}))},remove:function(){this.sinusoid.remove()},toFront:function(){this.sinusoid.toFront()}}),x=l.default.createSimpleClass(((t,e)=>t.plot(e.fn,e.range,e.style))),w=l.default.createSimpleClass(((t,e)=>t.plotParametric(e.fn,e.range,e.style))),k=l.default.createSimpleClass(((t,e)=>t.ellipse(e.coord,t.unscaleVector([4,4]),{fill:e.color||u.default.BLACK,stroke:e.color||u.default.BLACK}))),_=l.default.createClass({displayName:"Path",movableProps:["children"],add:function(t){const e=this.props;this.graphie=t,this.path=this.graphie.path(e.coords,e.style)},modify:function(){const t=this.props,e=this.graphie.svgPath(t.coords);this.path.attr({path:e})},remove:function(){this.path.remove()},toFront:function(){this.path.toFront()}});var S={Arc:l.default.createSimpleClass(((t,e)=>{let i=e.center,n=e.radius;return e.unscaled&&(i=t.unscalePoint(i),n=t.unscaleVector(n)),t.arc(i,n,e.startAngle,e.endAngle,e.sector,e.style)})),Circle:l.default.createSimpleClass(((t,e)=>t.circle(e.center,e.radius,e.style))),Label:m,Line:v,MovableLine:p,MovablePoint:f,Parabola:y,Path:_,Plot:x,PlotParametric:w,Point:k,Sinusoid:b,Rect:l.default.createSimpleClass(((t,e)=>t.rect(e.x,e.y,e.width,e.height,e.style)))};e.default=S},lQji:function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("bRUr")),a=o.default.makeRule({name:"blockquoted-widget",severity:o.default.Severity.WARNING,selector:"blockQuote widget",message:"Blockquoted widget:\nwidgets should not be indented."});e.default=a},mU3w:function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("bRUr"));const a={and:!0,nor:!0,but:!0,the:!0,for:!0};var s=o.default.makeRule({name:"heading-title-case",severity:o.default.Severity.GUIDELINE,selector:"heading",pattern:/[^\s:]\s+[A-Z]+[a-z]/,locale:"en",lint:function(t,e,i,n){let o=e.trim().split(/\s+/);if(o.shift(),o=o.filter((t=>t.length>2&&!a.hasOwnProperty(t))),o.length>=3&&o.every((t=>function(t){const e=t[0];return e===e.toUpperCase()}(t))))return"Title-case heading:\nThis heading appears to be in title-case, but should be sentence-case.\nOnly capitalize the first letter and proper nouns."}});e.default=s},ma4Y:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getHostname=o,e.isInternalURL=function(t){const e=o(t);return""===e||a.hasOwnProperty(e)};const n=/\/\/([^\/]+)/;function o(t){if(!t)return"";const e=t.match(n);return e?e[1]:""}const a={"khanacademy.org":!0,"www.khanacademy.org":!0,"kasandbox.org":!0,"fastly.kastatic.org":!0,"cdn.kastatic.org":!0,"ka-youtube-converted.storage.googleapis.com":!0,"KA-share.s3.amazonaws.com":!0,"ka-article-iframes.s3.amazonaws.com":!0,"ka-cs-algorithms.s3.amazonaws.com":!0,"ka-cs-challenge-images.s3.amazonaws.com":!0,"ka-cs-scratchpad-audio.s3.amazonaws.com":!0,"ka-exercise-screenshots.s3.amazonaws.com":!0,"ka-exercise-screenshots-2.s3.amazonaws.com":!0,"ka-exercise-screenshots-3.s3.amazonaws.com":!0,"ka-learnstorm.s3.amazonaws.com":!0,"ka-mobile.s3.amazonaws.com":!0,"ka-perseus-graphie.s3.amazonaws.com":!0,"ka-perseus-images.s3.amazonaws.com":!0}},nL9U:function(t,e){
/*!
 * Raphael 1.5.2 - JavaScript Vector Library
 *
 * Copyright (c) 2010 Dmitry Baranovskiy (http://raphaeljs.com)
 * Licensed under the MIT (http://raphaeljs.com/license.html) license.
 */
!function(){var e;function i(){if(i.is(arguments[0],E)){for(var t=arguments[0],e=Bt[f](i,t.splice(0,3+i.is(t[0],A))),n=e.set(),o=0,s=t[x];o<s;o++){var r=t[o]||{};a[l](r.type)&&n[L](e[r.type]().attr(r))}return n}return Bt[f](i,arguments)}e="".trim?function(t,e,i){t.setAttribute(e,String(i).trim())}:function(t,e,i){t.setAttribute(e,String(i))},i.version="1.5.2";var n,o=/[, ]+/,a={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},s=/\{(\d+)\}/g,r="prototype",l="hasOwnProperty",c=document,u=window,d={was:Object[r][l].call(u,"Raphael"),is:u.Raphael},h=function(){this.customAttributes={}},f="apply",p="createTouch"in c,g="",m=" ",v=String,y="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend orientationchange touchcancel gesturestart gesturechange gestureend".split(m),b={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},x="length",w=v[r].toLowerCase,k=Math,_=k.max,S=k.min,M=k.abs,T=k.pow,C=k.PI,A="number",P="string",E="array",I="fill",R=Object[r].toString,L="push",N=/^url\(['"]?([^\)]+?)['"]?\)$/i,D=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,q={NaN:1,Infinity:1,"-Infinity":1},O=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,z=k.round,F=parseFloat,G=parseInt,B=" progid:DXImageTransform.Microsoft",W=v[r].toUpperCase,j={blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/",opacity:1,path:"M0,0",r:0,rotation:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",translation:"0 0",width:0,x:0,y:0},U={along:"along",blur:A,"clip-rect":"csv",cx:A,cy:A,fill:"colour","fill-opacity":A,"font-size":A,height:A,opacity:A,path:"path",r:A,rotation:"csv",rx:A,ry:A,scale:"csv",stroke:"colour","stroke-opacity":A,"stroke-width":A,translation:"csv",width:A,x:A,y:A},H="replace",V=/^(from|to|\d+%?)$/,Y=/\s*,\s*/,Z={hs:1,rg:1},X=/,?([achlmqrstvxz]),?/gi,$=/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/gi,K=/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/gi,J=/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/,Q=function(t,e){return t.key-e.key};if(i.type=u.SVGAngle||c.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==i.type){var tt,et=c.createElement("div");if(et.innerHTML='<v:shape adj="1"/>',(tt=et.firstChild).style.behavior="url(#default#VML)",!tt||"object"!=typeof tt.adj)return i.type=null;et=null}function it(){for(var t=[],e=0;e<32;e++)t[e]=(~~(16*k.random())).toString(16);return t[12]=4,t[16]=(3&t[16]|8).toString(16),"r-"+t.join("")}i.svg=!(i.vml="VML"==i.type),h[r]=i[r],n=h[r],i._id=0,i._oid=0,i.fn={},i.is=function(t,e){return"finite"==(e=w.call(e))?!q[l](+t):"null"==e&&null===t||e==typeof t||"object"==e&&t===Object(t)||"array"==e&&Array.isArray&&Array.isArray(t)||R.call(t).slice(8,-1).toLowerCase()==e},i.angle=function(t,e,n,o,a,s){if(null==a){var r=t-n,l=e-o;return r||l?(180*(r<0)+180*k.atan(-l/-r)/C+360)%360:0}return i.angle(t,e,a,s)-i.angle(n,o,a,s)},i.rad=function(t){return t%360*C/180},i.deg=function(t){return 180*t/C%360},i.snapTo=function(t,e,n){if(n=i.is(n,"finite")?n:10,i.is(t,E)){for(var o=t.length;o--;)if(M(t[o]-e)<=n)return t[o]}else{var a=e%(t=+t);if(a<n)return e-a;if(a>t-n)return e-a+t}return e},i.setWindow=function(t){c=(u=t).document};var nt=function(t){if(i.vml){var e,n=/^\s+|\s+$/g;try{var o=new ActiveXObject("htmlfile");o.write("<body>"),o.close(),e=o.body}catch(t){e=createPopup().document.body}var a=e.createTextRange();nt=rt((function(t){try{e.style.color=v(t)[H](n,g);var i=a.queryCommandValue("ForeColor");return"#"+("000000"+(i=(255&i)<<16|65280&i|(16711680&i)>>>16).toString(16)).slice(-6)}catch(t){return"none"}}))}else{var s=c.createElement("i");s.title="Raphaël Colour Picker",s.style.display="none",c.body.appendChild(s),nt=rt((function(t){return s.style.color=t,c.defaultView.getComputedStyle(s,g).getPropertyValue("color")}))}return nt(t)},ot=function(){return"hsb("+[this.h,this.s,this.b]+")"},at=function(){return"hsl("+[this.h,this.s,this.l]+")"},st=function(){return this.hex};function rt(t,e,i){return function n(){var o=Array[r].slice.call(arguments,0),a=o.join("►"),s=n.cache=n.cache||{},c=n.count=n.count||[];return s[l](a)||(c[x]>=1e3&&delete s[c.shift()],c[L](a),s[a]=t[f](e,o)),i?i(s[a]):s[a]}}i.hsb2rgb=function(t,e,n,o){return i.is(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(n=t.b,e=t.s,o=(t=t.h).o),i.hsl2rgb(t,e,n/2,o)},i.hsl2rgb=function(t,e,n,o){i.is(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(n=t.l,e=t.s,t=t.h),(t>1||e>1||n>1)&&(t/=360,e/=100,n/=100);var a,s,r,l={},c=["r","g","b"];if(e){s=2*n-(a=n<.5?n*(1+e):n+e-n*e);for(var u=0;u<3;u++)(r=t+1/3*-(u-1))<0&&r++,r>1&&r--,l[c[u]]=6*r<1?s+6*(a-s)*r:2*r<1?a:3*r<2?s+(a-s)*(2/3-r)*6:s}else l={r:n,g:n,b:n};return l.r*=255,l.g*=255,l.b*=255,l.hex="#"+(16777216|l.b|l.g<<8|l.r<<16).toString(16).slice(1),i.is(o,"finite")&&(l.opacity=o),l.toString=st,l},i.rgb2hsb=function(t,e,n){if(null==e&&i.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(n=t.b,e=t.g,t=t.r),null==e&&i.is(t,P)){var o=i.getRGB(t);t=o.r,e=o.g,n=o.b}(t>1||e>1||n>1)&&(t/=255,e/=255,n/=255);var a,s=_(t,e,n),r=S(t,e,n);if(r==s)return{h:0,s:0,b:s,toString:ot};var l=s-r;return a=t==s?(e-n)/l:e==s?2+(n-t)/l:4+(t-e)/l,(a/=6)<0&&a++,a>1&&a--,{h:a,s:l/s,b:s,toString:ot}},i.rgb2hsl=function(t,e,n){if(null==e&&i.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(n=t.b,e=t.g,t=t.r),null==e&&i.is(t,P)){var o=i.getRGB(t);t=o.r,e=o.g,n=o.b}(t>1||e>1||n>1)&&(t/=255,e/=255,n/=255);var a,s,r=_(t,e,n),l=S(t,e,n),c=(r+l)/2;if(l==r)s={h:0,s:0,l:c};else{var u=r-l;a=t==r?(e-n)/u:e==r?2+(n-t)/u:4+(t-e)/u,(a/=6)<0&&a++,a>1&&a--,s={h:a,s:c<.5?u/(r+l):u/(2-r-l),l:c}}return s.toString=at,s},i._path2string=function(){return this.join(",")[H](X,"$1")},i.getRGB=rt((function(t){if(!t||(t=v(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1};if("none"==t)return{r:-1,g:-1,b:-1,hex:"none"};!Z[l](t.toLowerCase().substring(0,2))&&"#"!=t.charAt()&&(t=nt(t));var e,n,o,a,s,r,c=t.match(D);return c?(c[2]&&(o=G(c[2].substring(5),16),n=G(c[2].substring(3,5),16),e=G(c[2].substring(1,3),16)),c[3]&&(o=G((s=c[3].charAt(3))+s,16),n=G((s=c[3].charAt(2))+s,16),e=G((s=c[3].charAt(1))+s,16)),c[4]&&(r=c[4].split(Y),e=F(r[0]),"%"==r[0].slice(-1)&&(e*=2.55),n=F(r[1]),"%"==r[1].slice(-1)&&(n*=2.55),o=F(r[2]),"%"==r[2].slice(-1)&&(o*=2.55),"rgba"==c[1].toLowerCase().slice(0,4)&&(a=F(r[3])),r[3]&&"%"==r[3].slice(-1)&&(a/=100)),c[5]?(r=c[5].split(Y),e=F(r[0]),"%"==r[0].slice(-1)&&(e*=2.55),n=F(r[1]),"%"==r[1].slice(-1)&&(n*=2.55),o=F(r[2]),"%"==r[2].slice(-1)&&(o*=2.55),("deg"==r[0].slice(-3)||"°"==r[0].slice(-1))&&(e/=360),"hsba"==c[1].toLowerCase().slice(0,4)&&(a=F(r[3])),r[3]&&"%"==r[3].slice(-1)&&(a/=100),i.hsb2rgb(e,n,o,a)):c[6]?(r=c[6].split(Y),e=F(r[0]),"%"==r[0].slice(-1)&&(e*=2.55),n=F(r[1]),"%"==r[1].slice(-1)&&(n*=2.55),o=F(r[2]),"%"==r[2].slice(-1)&&(o*=2.55),("deg"==r[0].slice(-3)||"°"==r[0].slice(-1))&&(e/=360),"hsla"==c[1].toLowerCase().slice(0,4)&&(a=F(r[3])),r[3]&&"%"==r[3].slice(-1)&&(a/=100),i.hsl2rgb(e,n,o,a)):((c={r:e,g:n,b:o}).hex="#"+(16777216|o|n<<8|e<<16).toString(16).slice(1),i.is(a,"finite")&&(c.opacity=a),c)):{r:-1,g:-1,b:-1,hex:"none",error:1}}),i),i.getColor=function(t){var e=this.getColor.start=this.getColor.start||{h:0,s:1,b:t||.75},i=this.hsb2rgb(e.h,e.s,e.b);return e.h+=.075,e.h>1&&(e.h=0,e.s-=.2,e.s<=0&&(this.getColor.start={h:0,s:1,b:e.b})),i.hex},i.getColor.reset=function(){delete this.start},i.parsePathString=rt((function(t){if(!t)return null;var e={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},n=[];return i.is(t,E)&&i.is(t[0],E)&&(n=ct(t)),n[x]||v(t)[H]($,(function(t,i,o){var a=[],s=w.call(i);for(o[H](K,(function(t,e){e&&a[L](+e)})),"m"==s&&a[x]>2&&(n[L]([i].concat(a.splice(0,2))),s="l",i="m"==i?"l":"L");a[x]>=e[s]&&(n[L]([i].concat(a.splice(0,e[s]))),e[s]););})),n.toString=i._path2string,n})),i.findDotsAtSegment=function(t,e,i,n,o,a,s,r,l){var c=1-l,u=T(c,3)*t+3*T(c,2)*l*i+3*c*l*l*o+T(l,3)*s,d=T(c,3)*e+3*T(c,2)*l*n+3*c*l*l*a+T(l,3)*r,h=t+2*l*(i-t)+l*l*(o-2*i+t),f=e+2*l*(n-e)+l*l*(a-2*n+e),p=i+2*l*(o-i)+l*l*(s-2*o+i),g=n+2*l*(a-n)+l*l*(r-2*a+n),m=(1-l)*t+l*i,v=(1-l)*e+l*n,y=(1-l)*o+l*s,b=(1-l)*a+l*r,x=90-180*k.atan((h-p)/(f-g))/C;return(h>p||f<g)&&(x+=180),{x:u,y:d,m:{x:h,y:f},n:{x:p,y:g},start:{x:m,y:v},end:{x:y,y:b},alpha:x}};var lt=rt((function(t){if(!t)return{x:0,y:0,width:0,height:0};for(var e,i=0,n=0,o=[],a=[],s=0,r=(t=vt(t))[x];s<r;s++)if("M"==(e=t[s])[0])i=e[1],n=e[2],o[L](i),a[L](n);else{var l=mt(i,n,e[1],e[2],e[3],e[4],e[5],e[6]);o=o.concat(l.min.x,l.max.x),a=a.concat(l.min.y,l.max.y),i=e[5],n=e[6]}var c=S[f](0,o),u=S[f](0,a);return{x:c,y:u,width:_[f](0,o)-c,height:_[f](0,a)-u}})),ct=function(t){var e=[];i.is(t,E)&&i.is(t&&t[0],E)||(t=i.parsePathString(t));for(var n=0,o=t[x];n<o;n++){e[n]=[];for(var a=0,s=t[n][x];a<s;a++)e[n][a]=t[n][a]}return e.toString=i._path2string,e},ut=rt((function(t){i.is(t,E)&&i.is(t&&t[0],E)||(t=i.parsePathString(t));var e=[],n=0,o=0,a=0,s=0,r=0;"M"==t[0][0]&&(a=n=t[0][1],s=o=t[0][2],r++,e[L](["M",n,o]));for(var l=r,c=t[x];l<c;l++){var u=e[l]=[],d=t[l];if(d[0]!=w.call(d[0]))switch(u[0]=w.call(d[0]),u[0]){case"a":u[1]=d[1],u[2]=d[2],u[3]=d[3],u[4]=d[4],u[5]=d[5],u[6]=+(d[6]-n).toFixed(3),u[7]=+(d[7]-o).toFixed(3);break;case"v":u[1]=+(d[1]-o).toFixed(3);break;case"m":a=d[1],s=d[2];default:for(var h=1,f=d[x];h<f;h++)u[h]=+(d[h]-(h%2?n:o)).toFixed(3)}else{u=e[l]=[],"m"==d[0]&&(a=d[1]+n,s=d[2]+o);for(var p=0,g=d[x];p<g;p++)e[l][p]=d[p]}var m=e[l][x];switch(e[l][0]){case"z":n=a,o=s;break;case"h":n+=+e[l][m-1];break;case"v":o+=+e[l][m-1];break;default:n+=+e[l][m-2],o+=+e[l][m-1]}}return e.toString=i._path2string,e}),0,ct),dt=rt((function(t){i.is(t,E)&&i.is(t&&t[0],E)||(t=i.parsePathString(t));var e=[],n=0,o=0,a=0,s=0,r=0;"M"==t[0][0]&&(a=n=+t[0][1],s=o=+t[0][2],r++,e[0]=["M",n,o]);for(var l=r,c=t[x];l<c;l++){var u=e[l]=[],d=t[l];if(d[0]!=W.call(d[0]))switch(u[0]=W.call(d[0]),u[0]){case"A":u[1]=d[1],u[2]=d[2],u[3]=d[3],u[4]=d[4],u[5]=d[5],u[6]=+(d[6]+n),u[7]=+(d[7]+o);break;case"V":u[1]=+d[1]+o;break;case"H":u[1]=+d[1]+n;break;case"M":a=+d[1]+n,s=+d[2]+o;default:for(var h=1,f=d[x];h<f;h++)u[h]=+d[h]+(h%2?n:o)}else for(var p=0,g=d[x];p<g;p++)e[l][p]=d[p];switch(u[0]){case"Z":n=a,o=s;break;case"H":n=u[1];break;case"V":o=u[1];break;case"M":a=e[l][e[l][x]-2],s=e[l][e[l][x]-1];default:n=e[l][e[l][x]-2],o=e[l][e[l][x]-1]}}return e.toString=i._path2string,e}),null,ct),ht=function(t,e,i,n){return[t,e,i,n,i,n]},ft=function(t,e,i,n,o,a){var s=1/3,r=2/3;return[s*t+r*i,s*e+r*n,s*o+r*i,s*a+r*n,o,a]},pt=function(t,e,i,n,o,a,s,r,l,c){var u,d=120*C/180,h=C/180*(+o||0),f=[],p=rt((function(t,e,i){return{x:t*k.cos(i)-e*k.sin(i),y:t*k.sin(i)+e*k.cos(i)}}));if(c)T=c[0],A=c[1],_=c[2],S=c[3];else{t=(u=p(t,e,-h)).x,e=u.y,r=(u=p(r,l,-h)).x,l=u.y;k.cos(C/180*o),k.sin(C/180*o);var g=(t-r)/2,m=(e-l)/2,v=g*g/(i*i)+m*m/(n*n);v>1&&(i*=v=k.sqrt(v),n*=v);var y=i*i,b=n*n,w=(a==s?-1:1)*k.sqrt(M((y*b-y*m*m-b*g*g)/(y*m*m+b*g*g))),_=w*i*m/n+(t+r)/2,S=w*-n*g/i+(e+l)/2,T=k.asin(((e-S)/n).toFixed(9)),A=k.asin(((l-S)/n).toFixed(9));(T=t<_?C-T:T)<0&&(T=2*C+T),(A=r<_?C-A:A)<0&&(A=2*C+A),s&&T>A&&(T-=2*C),!s&&A>T&&(A-=2*C)}var P=A-T;if(M(P)>d){var E=A,I=r,R=l;A=T+d*(s&&A>T?1:-1),r=_+i*k.cos(A),l=S+n*k.sin(A),f=pt(r,l,i,n,o,0,s,I,R,[A,E,_,S])}P=A-T;var L=k.cos(T),N=k.sin(T),D=k.cos(A),q=k.sin(A),O=k.tan(P/4),z=4/3*i*O,F=4/3*n*O,G=[t,e],B=[t+z*N,e-F*L],W=[r+z*q,l-F*D],j=[r,l];if(B[0]=2*G[0]-B[0],B[1]=2*G[1]-B[1],c)return[B,W,j].concat(f);for(var U=[],H=0,V=(f=[B,W,j].concat(f).join().split(","))[x];H<V;H++)U[H]=H%2?p(f[H-1],f[H],h).y:p(f[H],f[H+1],h).x;return U},gt=function(t,e,i,n,o,a,s,r,l){var c=1-l;return{x:T(c,3)*t+3*T(c,2)*l*i+3*c*l*l*o+T(l,3)*s,y:T(c,3)*e+3*T(c,2)*l*n+3*c*l*l*a+T(l,3)*r}},mt=rt((function(t,e,i,n,o,a,s,r){var l,c=o-2*i+t-(s-2*o+i),u=2*(i-t)-2*(o-i),d=t-i,h=(-u+k.sqrt(u*u-4*c*d))/2/c,p=(-u-k.sqrt(u*u-4*c*d))/2/c,g=[e,r],m=[t,s];return M(h)>"1e12"&&(h=.5),M(p)>"1e12"&&(p=.5),h>0&&h<1&&(l=gt(t,e,i,n,o,a,s,r,h),m[L](l.x),g[L](l.y)),p>0&&p<1&&(l=gt(t,e,i,n,o,a,s,r,p),m[L](l.x),g[L](l.y)),c=a-2*n+e-(r-2*a+n),d=e-n,h=(-(u=2*(n-e)-2*(a-n))+k.sqrt(u*u-4*c*d))/2/c,p=(-u-k.sqrt(u*u-4*c*d))/2/c,M(h)>"1e12"&&(h=.5),M(p)>"1e12"&&(p=.5),h>0&&h<1&&(l=gt(t,e,i,n,o,a,s,r,h),m[L](l.x),g[L](l.y)),p>0&&p<1&&(l=gt(t,e,i,n,o,a,s,r,p),m[L](l.x),g[L](l.y)),{min:{x:S[f](0,m),y:S[f](0,g)},max:{x:_[f](0,m),y:_[f](0,g)}}})),vt=rt((function(t,e){for(var i=dt(t),n=e&&dt(e),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=function(t,e){if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(pt[f](0,[e.x,e.y].concat(t.slice(1))));break;case"S":t=["C",e.x+(e.x-(e.bx||e.x)),e.y+(e.y-(e.by||e.y))].concat(t.slice(1));break;case"T":e.qx=e.x+(e.x-(e.qx||e.x)),e.qy=e.y+(e.y-(e.qy||e.y)),t=["C"].concat(ft(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(ft(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(ht(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(ht(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(ht(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(ht(e.x,e.y,e.X,e.Y))}return t},r=function(t,e){if(t[e][x]>7){t[e].shift();for(var o=t[e];o[x];)t.splice(e++,0,["C"].concat(o.splice(0,6)));t.splice(e,1),u=_(i[x],n&&n[x]||0)}},l=function(t,e,o,a,s){t&&e&&"M"==t[s][0]&&"M"!=e[s][0]&&(e.splice(s,0,["M",a.x,a.y]),o.bx=0,o.by=0,o.x=t[s][1],o.y=t[s][2],u=_(i[x],n&&n[x]||0))},c=0,u=_(i[x],n&&n[x]||0);c<u;c++){i[c]=s(i[c],o),r(i,c),n&&(n[c]=s(n[c],a)),n&&r(n,c),l(i,n,o,a,c),l(n,i,a,o,c);var d=i[c],h=n&&n[c],p=d[x],g=n&&h[x];o.x=d[p-2],o.y=d[p-1],o.bx=F(d[p-4])||o.x,o.by=F(d[p-3])||o.y,a.bx=n&&(F(h[g-4])||a.x),a.by=n&&(F(h[g-3])||a.y),a.x=n&&h[g-2],a.y=n&&h[g-1]}return n?[i,n]:i}),null,ct),yt=rt((function(t){for(var e=[],n=0,o=t[x];n<o;n++){var a={},s=t[n].match(/^([^:]*):?([\d\.]*)/);if(a.color=i.getRGB(s[1]),a.color.error)return null;a.color=a.color.hex,s[2]&&(a.offset=s[2]+"%"),e[L](a)}for(n=1,o=e[x]-1;n<o;n++)if(!e[n].offset){for(var r=F(e[n-1].offset||0),l=0,c=n+1;c<o;c++)if(e[c].offset){l=e[c].offset;break}l||(l=100,c=o);for(var u=((l=F(l))-r)/(c-n+1);n<c;n++)r+=u,e[n].offset=r+"%"}return e})),bt=function(t,e,n,o){var a;return i.is(t,P)||i.is(t,"object")?(a=i.is(t,P)?c.getElementById(t):t).tagName?null==e?{container:a,width:a.style.pixelWidth||a.offsetWidth,height:a.style.pixelHeight||a.offsetHeight}:{container:a,width:e,height:n}:void 0:{container:1,x:t,y:e,width:n,height:o}},xt=function(t,e){var i=this;for(var n in e)if(e[l](n)&&!(n in t))switch(typeof e[n]){case"function":!function(e){t[n]=t===i?e:function(){return e[f](i,arguments)}}(e[n]);break;case"object":t[n]=t[n]||{},xt.call(this,t[n],e[n]);break;default:t[n]=e[n]}},wt=function(t,e){t==e.top&&(e.top=t.prev),t==e.bottom&&(e.bottom=t.next),t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next)},kt=function(t,e){e.top!==t&&(wt(t,e),t.next=null,t.prev=e.top,e.top.next=t,e.top=t)},_t=function(t,e){e.bottom!==t&&(wt(t,e),t.next=e.bottom,t.prev=null,e.bottom.prev=t,e.bottom=t)},St=function(t,e,i){wt(t,i),e==i.top&&(i.top=t),e.next&&(e.next.prev=t),t.next=e.next,t.prev=e,e.next=t},Mt=function(t,e,i){wt(t,i),e==i.bottom&&(i.bottom=t),e.prev&&(e.prev.next=t),t.prev=e.prev,e.prev=t,t.next=e},Tt=function(t){return function(){throw new Error("Raphaël: you are calling to method “"+t+"” of removed object")}};if(i.pathToRelative=ut,i.svg){n.svgns="http://www.w3.org/2000/svg",n.xlink="http://www.w3.org/1999/xlink",z=function(t){return+t+.5*(~~t===t)};var Ct=function(t,i){if(!i)return(t=c.createElementNS(n.svgns,t)).style.webkitTapHighlightColor="rgba(0,0,0,0)",t;for(var o in i)i[l](o)&&e(t,o,v(i[o]))};i.toString=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var At=function(t,e){var i=Ct("path");e.canvas&&e.canvas.appendChild(i);var n=new Lt(i,e);return n.type="path",It(n,{fill:"none",stroke:"#000",path:t}),n},Pt=function(t,e,i){var n="linear",o=.5,a=.5,s=t.style;if(e=(e=v(e)[H](J,(function(t,e,i){if(n="radial",e&&i){o=F(e);var s=2*((a=F(i))>.5)-1;T(o-.5,2)+T(a-.5,2)>.25&&(a=k.sqrt(.25-T(o-.5,2))*s+.5)&&.5!=a&&(a=a.toFixed(5)-1e-5*s)}return g}))).split(/\s*\-\s*/),"linear"==n){var r=e.shift();if(r=-F(r),isNaN(r))return null;var l=[0,0,k.cos(r*C/180),k.sin(r*C/180)],u=1/(_(M(l[2]),M(l[3]))||1);l[2]*=u,l[3]*=u,l[2]<0&&(l[0]=-l[2],l[2]=0),l[3]<0&&(l[1]=-l[3],l[3]=0)}var d=yt(e);if(!d)return null;var h=t.getAttribute(I);(h=h.match(/^url\(#(.*)\)$/))&&i.defs.removeChild(c.getElementById(h[1]));var f=Ct(n+"Gradient");f.id=it(),Ct(f,"radial"==n?{fx:o,fy:a}:{x1:l[0],y1:l[1],x2:l[2],y2:l[3]}),i.defs.appendChild(f);for(var p=0,m=d[x];p<m;p++){var y=Ct("stop");Ct(y,{offset:d[p].offset?d[p].offset:p?"100%":"0%","stop-color":d[p].color||"#fff"}),f.appendChild(y)}return Ct(t,{fill:"url(#"+f.id+")",opacity:1,"fill-opacity":1}),s.fill=g,s.opacity=1,s.fillOpacity=1,1},Et=function(t){var e=t.getBBox();Ct(t.pattern,{patternTransform:i.format("translate({0},{1})",e.x,e.y)})},It=function(t,n){var a={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},s=t.node,r=t.attrs,u=t.rotate(),d=function(t,e){if(e=a[w.call(e)]){for(var i=t.attrs["stroke-width"]||"1",o={round:i,square:i,butt:0}[t.attrs["stroke-linecap"]||n["stroke-linecap"]]||0,r=[],l=e[x];l--;)r[l]=e[l]*i+(l%2?1:-1)*o;Ct(s,{"stroke-dasharray":r.join(",")})}};n[l]("rotation")&&(u=n.rotation);var h=v(u).split(o);for(var f in h.length-1?(h[1]=+h[1],h[2]=+h[2]):h=null,F(u)&&t.rotate(0,!0),n)if(n[l](f)){if(!j[l](f))continue;var p=n[f];switch(r[f]=p,f){case"blur":t.blur(p);break;case"rotation":t.rotate(p,!0);break;case"href":case"title":case"target":var y=s.parentNode;if("a"!=w.call(y.tagName)){var b=Ct("a");y.insertBefore(b,s),b.appendChild(s),y=b}"target"==f&&"blank"==p?y.setAttributeNS(t.paper.xlink,"show","new"):y.setAttributeNS(t.paper.xlink,f,p);break;case"cursor":s.style.cursor=p;break;case"clip-rect":var k=v(p).split(o);if(4==k[x]){t.clip&&t.clip.parentNode.parentNode.removeChild(t.clip.parentNode);var _=Ct("clipPath"),S=Ct("rect");_.id=it(),Ct(S,{x:k[0],y:k[1],width:k[2],height:k[3]}),_.appendChild(S),t.paper.defs.appendChild(_),Ct(s,{"clip-path":"url(#"+_.id+")"}),t.clip=S}if(!p){var M=c.getElementById(s.getAttribute("clip-path")[H](/(^url\(#|\)$)/g,g));M&&M.parentNode.removeChild(M),Ct(s,{"clip-path":g}),delete t.clip}break;case"path":"path"==t.type&&Ct(s,{d:p?r.path=dt(p):"M0,0"});break;case"width":if(e(s,f,p),!r.fx)break;f="x",p=r.x;case"x":r.fx&&(p=-r.x-(r.width||0));case"rx":if("rx"==f&&"rect"==t.type)break;case"cx":h&&("x"==f||"cx"==f)&&(h[1]+=p-r[f]),e(s,f,p),t.pattern&&Et(t);break;case"height":if(e(s,f,p),!r.fy)break;f="y",p=r.y;case"y":r.fy&&(p=-r.y-(r.height||0));case"ry":if("ry"==f&&"rect"==t.type)break;case"cy":h&&("y"==f||"cy"==f)&&(h[2]+=p-r[f]),e(s,f,p),t.pattern&&Et(t);break;case"r":"rect"==t.type?Ct(s,{rx:p,ry:p}):e(s,f,p);break;case"src":"image"==t.type&&s.setAttributeNS(t.paper.xlink,"href",p);break;case"stroke-width":s.style.strokeWidth=p,e(s,f,p),r["stroke-dasharray"]&&d(t,r["stroke-dasharray"]);break;case"stroke-dasharray":d(t,p);break;case"translation":var T=v(p).split(o);T[0]=+T[0]||0,T[1]=+T[1]||0,h&&(h[1]+=T[0],h[2]+=T[1]),ye.call(t,T[0],T[1]);break;case"scale":T=v(p).split(o),t.scale(+T[0]||1,+T[1]||+T[0]||1,isNaN(F(T[2]))?null:+T[2],isNaN(F(T[3]))?null:+T[3]);break;case I:var C=v(p).match(N);if(C){_=Ct("pattern");var A=Ct("image");_.id=it(),Ct(_,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),Ct(A,{x:0,y:0}),A.setAttributeNS(t.paper.xlink,"href",C[1]),_.appendChild(A);var P=c.createElement("img");P.style.cssText="position:absolute;left:-9999em;top-9999em",P.onload=function(){Ct(_,{width:this.offsetWidth,height:this.offsetHeight}),Ct(A,{width:this.offsetWidth,height:this.offsetHeight}),c.body.removeChild(this),t.paper.safari()},c.body.appendChild(P),P.src=C[1],t.paper.defs.appendChild(_),s.style.fill="url(#"+_.id+")",Ct(s,{fill:"url(#"+_.id+")"}),t.pattern=_,t.pattern&&Et(t);break}var E=i.getRGB(p);if(E.error){if(({circle:1,ellipse:1}[l](t.type)||"r"!=v(p).charAt())&&Pt(s,p,t.paper)){r.gradient=p,r.fill="none";break}}else delete n.gradient,delete r.gradient,!i.is(r.opacity,"undefined")&&i.is(n.opacity,"undefined")&&Ct(s,{opacity:r.opacity}),!i.is(r["fill-opacity"],"undefined")&&i.is(n["fill-opacity"],"undefined")&&Ct(s,{"fill-opacity":r["fill-opacity"]});E[l]("opacity")&&Ct(s,{"fill-opacity":E.opacity>1?E.opacity/100:E.opacity});case"stroke":E=i.getRGB(p),e(s,f,E.hex),"stroke"==f&&E[l]("opacity")&&Ct(s,{"stroke-opacity":E.opacity>1?E.opacity/100:E.opacity});break;case"gradient":({circle:1,ellipse:1}[l](t.type)||"r"!=v(p).charAt())&&Pt(s,p,t.paper);break;case"opacity":r.gradient&&!r[l]("stroke-opacity")&&Ct(s,{"stroke-opacity":p>1?p/100:p});case"fill-opacity":if(r.gradient){var R=c.getElementById(s.getAttribute(I)[H](/^url\(#|\)$/g,g));if(R){var L=R.getElementsByTagName("stop");e(L[L[x]-1],"stop-opacity",p)}break}default:"font-size"==f&&(p=G(p,10)+"px");var D=f[H](/(\-.)/g,(function(t){return W.call(t.substring(1))}));s.style[D]=p,e(s,f,p)}}Rt(t,n),h?t.rotate(h.join(m)):F(u)&&t.rotate(u,!0)},Rt=function(t,e){if("text"==t.type&&(e[l]("text")||e[l]("font")||e[l]("font-size")||e[l]("x")||e[l]("y"))){var n=t.attrs,o=t.node,a=o.firstChild?G(c.defaultView.getComputedStyle(o.firstChild,g).getPropertyValue("font-size"),10):10;if(e[l]("text")){for(n.text=e.text;o.firstChild;)o.removeChild(o.firstChild);for(var s=v(e.text).split("\n"),r=0,u=s[x];r<u;r++)if(s[r]){var d=Ct("tspan");r&&Ct(d,{dy:1.2*a,x:n.x}),d.appendChild(c.createTextNode(s[r])),o.appendChild(d)}}else for(r=0,u=(s=o.getElementsByTagName("tspan"))[x];r<u;r++)r&&Ct(s[r],{dy:1.2*a,x:n.x});Ct(o,{y:n.y});var h=t.getBBox(),f=n.y-(h.y+h.height/2);f&&i.is(f,"finite")&&Ct(o,{y:n.y+f})}},Lt=function(t,e){this[0]=t,this.id=i._oid++,this.node=t,t.raphael=this,this.paper=e,this.attrs=this.attrs||{},this.transformations=[],this._={tx:0,ty:0,rt:{deg:0,cx:0,cy:0},sx:1,sy:1},!e.bottom&&(e.bottom=this),this.prev=e.top,e.top&&(e.top.next=this),e.top=this,this.next=null},Nt=Lt[r];Lt[r].rotate=function(t,e,n){if(this.removed)return this;if(null==t)return this._.rt.cx?[this._.rt.deg,this._.rt.cx,this._.rt.cy].join(m):this._.rt.deg;var a=this.getBBox();return(t=v(t).split(o))[x]-1&&(e=F(t[1]),n=F(t[2])),t=F(t[0]),null!=e&&!1!==e?this._.rt.deg=t:this._.rt.deg+=t,null==n&&(e=null),this._.rt.cx=e,this._.rt.cy=n,e=null==e?a.x+a.width/2:e,n=null==n?a.y+a.height/2:n,this._.rt.deg?(this.transformations[0]=i.format("rotate({0} {1} {2})",this._.rt.deg,e,n),this.clip&&Ct(this.clip,{transform:i.format("rotate({0} {1} {2})",-this._.rt.deg,e,n)})):(this.transformations[0]=g,this.clip&&Ct(this.clip,{transform:g})),Ct(this.node,{transform:this.transformations.join(m)}),this},Lt[r].hide=function(){return!this.removed&&(this.node.style.display="none"),this},Lt[r].show=function(){return!this.removed&&(this.node.style.display=""),this},Lt[r].remove=function(){if(!this.removed){for(var t in wt(this,this.paper),this.node.parentNode.removeChild(this.node),this)delete this[t];this.removed=!0}},Lt[r].getBBox=function(){if(this.removed)return this;if("path"==this.type)return lt(this.attrs.path);if("none"==this.node.style.display){this.show();var t=!0}var e={};try{e=this.node.getBBox()}catch(t){}finally{e=e||{}}if("text"==this.type){e={x:e.x,y:1/0,width:0,height:0};for(var i=0,n=this.node.getNumberOfChars();i<n;i++){var o=this.node.getExtentOfChar(i);o.y<e.y&&(e.y=o.y),o.y+o.height-e.y>e.height&&(e.height=o.y+o.height-e.y),o.x+o.width-e.x>e.width&&(e.width=o.x+o.width-e.x)}}return t&&this.hide(),e},Lt[r].attr=function(t,e){if(this.removed)return this;if(null==t){var n={};for(var o in this.attrs)this.attrs[l](o)&&(n[o]=this.attrs[o]);return this._.rt.deg&&(n.rotation=this.rotate()),(1!=this._.sx||1!=this._.sy)&&(n.scale=this.scale()),n.gradient&&"none"==n.fill&&(n.fill=n.gradient)&&delete n.gradient,n}if(null==e&&i.is(t,P))return"translation"==t?ye.call(this):"rotation"==t?this.rotate():"scale"==t?this.scale():t==I&&"none"==this.attrs.fill&&this.attrs.gradient?this.attrs.gradient:this.attrs[t];if(null==e&&i.is(t,E)){for(var a={},s=0,r=t.length;s<r;s++)a[t[s]]=this.attr(t[s]);return a}if(null!=e){var c={};c[t]=e}else null!=t&&i.is(t,"object")&&(c=t);for(var u in this.paper.customAttributes)if(this.paper.customAttributes[l](u)&&c[l](u)&&i.is(this.paper.customAttributes[u],"function")){var d=this.paper.customAttributes[u].apply(this,[].concat(c[u]));for(var h in this.attrs[u]=c[u],d)d[l](h)&&(c[h]=d[h])}return It(this,c),this},Lt[r].toFront=function(){if(this.removed)return this;this.node.parentNode.appendChild(this.node);var t=this.paper;return t.top!=this&&kt(this,t),this},Lt[r].toBack=function(){if(this.removed)return this;if(this.node.parentNode.firstChild!=this.node){this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),_t(this,this.paper);this.paper}return this},Lt[r].insertAfter=function(t){if(this.removed)return this;var e=t.node||t[t.length-1].node;return e.nextSibling?e.parentNode.insertBefore(this.node,e.nextSibling):e.parentNode.appendChild(this.node),St(this,t,this.paper),this},Lt[r].insertBefore=function(t){if(this.removed)return this;var e=t.node||t[0].node;return e.parentNode.insertBefore(this.node,e),Mt(this,t,this.paper),this},Lt[r].blur=function(t){var e=this;if(0!=+t){var i=Ct("filter"),n=Ct("feGaussianBlur");e.attrs.blur=t,i.id=it(),Ct(n,{stdDeviation:+t||1.5}),i.appendChild(n),e.paper.defs.appendChild(i),e._blur=i,Ct(e.node,{filter:"url(#"+i.id+")"})}else e._blur&&(e._blur.parentNode.removeChild(e._blur),delete e._blur,delete e.attrs.blur),e.node.removeAttribute("filter")};var Dt=function(t,e,i,n){var o=Ct("circle");t.canvas&&t.canvas.appendChild(o);var a=new Lt(o,t);return a.attrs={cx:e,cy:i,r:n,fill:"none",stroke:"#000"},a.type="circle",Ct(o,a.attrs),a},qt=function(t,e,i,n,o,a){var s=Ct("rect");t.canvas&&t.canvas.appendChild(s);var r=new Lt(s,t);return r.attrs={x:e,y:i,width:n,height:o,r:a||0,rx:a||0,ry:a||0,fill:"none",stroke:"#000"},r.type="rect",Ct(s,r.attrs),r},Ot=function(t,e,i,n,o){var a=Ct("ellipse");t.canvas&&t.canvas.appendChild(a);var s=new Lt(a,t);return s.attrs={cx:e,cy:i,rx:n,ry:o,fill:"none",stroke:"#000"},s.type="ellipse",Ct(a,s.attrs),s},zt=function(t,e,i,n,o,a){var s=Ct("image");Ct(s,{x:i,y:n,width:o,height:a,preserveAspectRatio:"none"}),s.setAttributeNS(t.xlink,"href",e),t.canvas&&t.canvas.appendChild(s);var r=new Lt(s,t);return r.attrs={x:i,y:n,width:o,height:a,src:e},r.type="image",r},Ft=function(t,e,i,n){var o=Ct("text");Ct(o,{x:e,y:i,"text-anchor":"middle"}),t.canvas&&t.canvas.appendChild(o);var a=new Lt(o,t);return a.attrs={x:e,y:i,"text-anchor":"middle",text:n,font:j.font,stroke:"none",fill:"#000"},a.type="text",It(a,a.attrs),a},Gt=function(t,i){return this.width=t||this.width,this.height=i||this.height,e(this.canvas,"width",this.width),e(this.canvas,"height",this.height),this},Bt=function(){var t=bt[f](0,arguments),e=t&&t.container,n=t.x,o=t.y,a=t.width,s=t.height;if(!e)throw new Error("SVG container not found.");var r=Ct("svg");return n=n||0,o=o||0,Ct(r,{xmlns:"http://www.w3.org/2000/svg",version:1.1,width:a=a||512,height:s=s||342}),1==e?(r.style.cssText="position:absolute;left:"+n+"px;top:"+o+"px",c.body.appendChild(r)):e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r),(e=new h).width=a,e.height=s,e.canvas=r,xt.call(e,e,i.fn),e.clear(),e};n.clear=function(){for(var t=this.canvas;t.firstChild;)t.removeChild(t.firstChild);this.bottom=this.top=null,(this.desc=Ct("desc")).appendChild(c.createTextNode("Created with Raphaël")),t.appendChild(this.desc),t.appendChild(this.defs=Ct("defs"))},n.remove=function(){for(var t in this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this)this[t]=Tt(t)}}if(i.vml){var Wt,jt={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},Ut=/([clmz]),?([^clmz]*)/gi,Ht=/ progid:\S+Blur\([^\)]+\)/g,Vt=/-?[^,\s-]+/g,Yt="1000 1000",Zt=10,Xt={path:1,rect:1};function $t(t,e,n,o,a){return a?i.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",t+a,e,n-2*a,a,-a,o-2*a,2*a-n,2*a-o):i.format("M{0},{1}l{2},0,0,{3},{4},0z",t,e,n,o,-n)}i.toString=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version},At=function(t,e){var i=Wt("group");i.style.cssText="position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px",i.coordsize=e.coordsize,i.coordorigin=e.coordorigin;var n=Wt("shape"),o=n.style;o.width=e.width+"px",o.height=e.height+"px",n.coordsize=Yt,n.coordorigin=e.coordorigin,i.appendChild(n);var a=new Lt(n,i,e),s={fill:"none",stroke:"#000"};return t&&(s.path=t),a.type="path",a.path=[],a.Path=g,It(a,s),e.canvas.appendChild(i),a},It=function(t,e){t.attrs=t.attrs||{};var n,a=t.node,s=t.attrs,r=a.style,u=(e.x!=s.x||e.y!=s.y||e.width!=s.width||e.height!=s.height||e.r!=s.r)&&"rect"==t.type,d=t;for(var h in e)e[l](h)&&(s[h]=e[h]);if(u&&(s.path=$t(s.x,s.y,s.width,s.height,s.r),t.X=s.x,t.Y=s.y,t.W=s.width,t.H=s.height),e.href&&(a.href=e.href),e.title&&(a.title=e.title),e.target&&(a.target=e.target),e.cursor&&(r.cursor=e.cursor),"blur"in e&&t.blur(e.blur),(e.path&&"path"==t.type||u)&&(a.path=function(t){var e=/[ahqstv]/gi,i=dt;if(v(t).match(e)&&(i=vt),e=/[clmz]/g,i==dt&&!v(t).match(e)){var n=v(t)[H](Ut,(function(t,e,i){var n=[],o="m"==w.call(e),a=jt[e];return i[H](Vt,(function(t){o&&2==n[x]&&(a+=n+jt["m"==e?"l":"L"],n=[]),n[L](z(t*Zt))})),a+n}));return n}var o,a,s=i(t);n=[];for(var r=0,l=s[x];r<l;r++){o=s[r],"z"==(a=w.call(s[r][0]))&&(a="x");for(var c=1,u=o[x];c<u;c++)a+=z(o[c]*Zt)+(c!=u-1?",":g);n[L](a)}return n.join(m)}(s.path)),null!=e.rotation&&t.rotate(e.rotation,!0),e.translation&&(n=v(e.translation).split(o),ye.call(t,n[0],n[1]),null!=t._.rt.cx&&(t._.rt.cx+=+n[0],t._.rt.cy+=+n[1],t.setBox(t.attrs,n[0],n[1]))),e.scale&&(n=v(e.scale).split(o),t.scale(+n[0]||1,+n[1]||+n[0]||1,+n[2]||null,+n[3]||null)),"clip-rect"in e){var f=v(e["clip-rect"]).split(o);if(4==f[x]){f[2]=+f[2]+ +f[0],f[3]=+f[3]+ +f[1];var p=a.clipRect||c.createElement("div"),y=p.style,b=a.parentNode;y.clip=i.format("rect({1}px {2}px {3}px {0}px)",f),a.clipRect||(y.position="absolute",y.top=0,y.left=0,y.width=t.paper.width+"px",y.height=t.paper.height+"px",b.parentNode.insertBefore(p,b),p.appendChild(b),a.clipRect=p)}e["clip-rect"]||a.clipRect&&(a.clipRect.style.clip=g)}if("image"==t.type&&e.src&&(a.src=e.src),"image"==t.type&&e.opacity&&(a.filterOpacity=B+".Alpha(opacity="+100*e.opacity+")",r.filter=(a.filterMatrix||g)+(a.filterOpacity||g)),e.font&&(r.font=e.font),e["font-family"]&&(r.fontFamily='"'+e["font-family"].split(",")[0][H](/^['"]+|['"]+$/g,g)+'"'),e["font-size"]&&(r.fontSize=e["font-size"]),e["font-weight"]&&(r.fontWeight=e["font-weight"]),e["font-style"]&&(r.fontStyle=e["font-style"]),null!=e.opacity||null!=e["stroke-width"]||null!=e.fill||null!=e.stroke||null!=e["stroke-width"]||null!=e["stroke-opacity"]||null!=e["fill-opacity"]||null!=e["stroke-dasharray"]||null!=e["stroke-miterlimit"]||null!=e["stroke-linejoin"]||null!=e["stroke-linecap"]){var k=(a=t.shape||a).getElementsByTagName(I)&&a.getElementsByTagName(I)[0],M=!1;if(!k&&(M=k=Wt(I)),"fill-opacity"in e||"opacity"in e){var T=((+s["fill-opacity"]+1||2)-1)*((+s.opacity+1||2)-1)*((+i.getRGB(e.fill).o+1||2)-1);T=S(_(T,0),1),k.opacity=T}if(e.fill&&(k.on=!0),null!=k.on&&"none"!=e.fill||(k.on=!1),k.on&&e.fill){var C=e.fill.match(N);C?(k.src=C[1],k.type="tile"):(k.color=i.getRGB(e.fill).hex,k.src=g,k.type="solid",i.getRGB(e.fill).error&&(d.type in{circle:1,ellipse:1}||"r"!=v(e.fill).charAt())&&Pt(d,e.fill)&&(s.fill="none",s.gradient=e.fill))}M&&a.appendChild(k);var A=a.getElementsByTagName("stroke")&&a.getElementsByTagName("stroke")[0],P=!1;!A&&(P=A=Wt("stroke")),(e.stroke&&"none"!=e.stroke||e["stroke-width"]||null!=e["stroke-opacity"]||e["stroke-dasharray"]||e["stroke-miterlimit"]||e["stroke-linejoin"]||e["stroke-linecap"])&&(A.on=!0),("none"==e.stroke||null==A.on||0==e.stroke||0==e["stroke-width"])&&(A.on=!1);var E=i.getRGB(e.stroke);A.on&&e.stroke&&(A.color=E.hex),T=((+s["stroke-opacity"]+1||2)-1)*((+s.opacity+1||2)-1)*((+E.o+1||2)-1);var R=.75*(F(e["stroke-width"])||1);if(T=S(_(T,0),1),null==e["stroke-width"]&&(R=s["stroke-width"]),e["stroke-width"]&&(A.weight=R),R&&R<1&&(T*=R)&&(A.weight=1),A.opacity=T,e["stroke-linejoin"]&&(A.joinstyle=e["stroke-linejoin"]||"miter"),A.miterlimit=e["stroke-miterlimit"]||8,e["stroke-linecap"]&&(A.endcap="butt"==e["stroke-linecap"]?"flat":"square"==e["stroke-linecap"]?"square":"round"),e["stroke-dasharray"]){var D={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};A.dashstyle=D[l](e["stroke-dasharray"])?D[e["stroke-dasharray"]]:g}P&&a.appendChild(A)}if("text"==d.type)switch(r=d.paper.span.style,s.font&&(r.font=s.font),s["font-family"]&&(r.fontFamily=s["font-family"]),s["font-size"]&&(r.fontSize=s["font-size"]),s["font-weight"]&&(r.fontWeight=s["font-weight"]),s["font-style"]&&(r.fontStyle=s["font-style"]),d.node.string&&(d.paper.span.innerHTML=v(d.node.string)[H](/</g,"&#60;")[H](/&/g,"&#38;")[H](/\n/g,"<br>")),d.W=s.w=d.paper.span.offsetWidth,d.H=s.h=d.paper.span.offsetHeight,d.X=s.x,d.Y=s.y+z(d.H/2),s["text-anchor"]){case"start":d.node.style["v-text-align"]="left",d.bbx=z(d.W/2);break;case"end":d.node.style["v-text-align"]="right",d.bbx=-z(d.W/2);break;default:d.node.style["v-text-align"]="center"}},Pt=function(t,e){t.attrs=t.attrs||{};t.attrs;var i,n="linear",o=".5 .5";if(t.attrs.gradient=e,e=(e=v(e)[H](J,(function(t,e,i){return n="radial",e&&i&&(e=F(e),i=F(i),T(e-.5,2)+T(i-.5,2)>.25&&(i=k.sqrt(.25-T(e-.5,2))*(2*(i>.5)-1)+.5),o=e+m+i),g}))).split(/\s*\-\s*/),"linear"==n){var a=e.shift();if(a=-F(a),isNaN(a))return null}var s=yt(e);if(!s)return null;if(!(i=(t=t.shape||t.node).getElementsByTagName(I)[0]||Wt(I)).parentNode&&t.appendChild(i),s[x]){i.on=!0,i.method="none",i.color=s[0].color,i.color2=s[s[x]-1].color;for(var r=[],l=0,c=s[x];l<c;l++)s[l].offset&&r[L](s[l].offset+m+s[l].color);i.colors&&(i.colors.value=r[x]?r.join():"0% "+i.color),"radial"==n?(i.type="gradientradial",i.focus="100%",i.focussize=o,i.focusposition=o):(i.type="gradient",i.angle=(270-a)%360)}return 1},(Nt=(Lt=function(t,e,n){this[0]=t,this.id=i._oid++,this.node=t,t.raphael=this,this.X=0,this.Y=0,this.attrs={},this.Group=e,this.paper=n,this._={tx:0,ty:0,rt:{deg:0},sx:1,sy:1},!n.bottom&&(n.bottom=this),this.prev=n.top,n.top&&(n.top.next=this),n.top=this,this.next=null})[r]).rotate=function(t,e,i){return this.removed?this:null==t?this._.rt.cx?[this._.rt.deg,this._.rt.cx,this._.rt.cy].join(m):this._.rt.deg:((t=v(t).split(o))[x]-1&&(e=F(t[1]),i=F(t[2])),t=F(t[0]),null!=e?this._.rt.deg=t:this._.rt.deg+=t,null==i&&(e=null),this._.rt.cx=e,this._.rt.cy=i,this.setBox(this.attrs,e,i),this.Group.style.rotation=this._.rt.deg,this)},Nt.setBox=function(t,e,i){if(this.removed)return this;var n=this.Group.style,o=this.shape&&this.shape.style||this.node.style;for(var a in t=t||{})t[l](a)&&(this.attrs[a]=t[a]);e=e||this._.rt.cx,i=i||this._.rt.cy;var s,r,c,u,d=this.attrs;switch(this.type){case"circle":s=d.cx-d.r,r=d.cy-d.r,c=u=2*d.r;break;case"ellipse":s=d.cx-d.rx,r=d.cy-d.ry,c=2*d.rx,u=2*d.ry;break;case"image":s=+d.x,r=+d.y,c=d.width||0,u=d.height||0;break;case"text":this.textpath.v=["m",z(d.x),", ",z(d.y-2),"l",z(d.x)+1,", ",z(d.y-2)].join(g),s=d.x-z(this.W/2),r=d.y-this.H/2,c=this.W,u=this.H;break;case"rect":case"path":if(this.attrs.path){var h=lt(this.attrs.path);s=h.x,r=h.y,c=h.width,u=h.height}else s=0,r=0,c=this.paper.width,u=this.paper.height;break;default:s=0,r=0,c=this.paper.width,u=this.paper.height}i=null==i?r+u/2:i;var f,p=(e=null==e?s+c/2:e)-this.paper.width/2,m=i-this.paper.height/2;n.left!=(f=p+"px")&&(n.left=f),n.top!=(f=m+"px")&&(n.top=f),this.X=Xt[l](this.type)?-p:s,this.Y=Xt[l](this.type)?-m:r,this.W=c,this.H=u,Xt[l](this.type)?(o.left!=(f=-p*Zt+"px")&&(o.left=f),o.top!=(f=-m*Zt+"px")&&(o.top=f)):"text"==this.type?(o.left!=(f=-p+"px")&&(o.left=f),o.top!=(f=-m+"px")&&(o.top=f)):(n.width!=(f=this.paper.width+"px")&&(n.width=f),n.height!=(f=this.paper.height+"px")&&(n.height=f),o.left!=(f=s-p+"px")&&(o.left=f),o.top!=(f=r-m+"px")&&(o.top=f),o.width!=(f=c+"px")&&(o.width=f),o.height!=(f=u+"px")&&(o.height=f))},Nt.hide=function(){return!this.removed&&(this.Group.style.display="none"),this},Nt.show=function(){return!this.removed&&(this.Group.style.display="block"),this},Nt.getBBox=function(){return this.removed?this:Xt[l](this.type)?lt(this.attrs.path):{x:this.X+(this.bbx||0),y:this.Y,width:this.W,height:this.H}},Nt.remove=function(){if(!this.removed){for(var t in wt(this,this.paper),this.node.parentNode.removeChild(this.node),this.Group.parentNode.removeChild(this.Group),this.shape&&this.shape.parentNode.removeChild(this.shape),this)delete this[t];this.removed=!0}},Nt.attr=function(t,e){if(this.removed)return this;if(null==t){var n={};for(var o in this.attrs)this.attrs[l](o)&&(n[o]=this.attrs[o]);return this._.rt.deg&&(n.rotation=this.rotate()),(1!=this._.sx||1!=this._.sy)&&(n.scale=this.scale()),n.gradient&&"none"==n.fill&&(n.fill=n.gradient)&&delete n.gradient,n}if(null==e&&i.is(t,"string"))return"translation"==t?ye.call(this):"rotation"==t?this.rotate():"scale"==t?this.scale():t==I&&"none"==this.attrs.fill&&this.attrs.gradient?this.attrs.gradient:this.attrs[t];if(this.attrs&&null==e&&i.is(t,E)){var a,s={};for(o=0,a=t[x];o<a;o++)s[t[o]]=this.attr(t[o]);return s}var r;if(null!=e&&((r={})[t]=e),null==e&&i.is(t,"object")&&(r=t),r){for(var c in this.paper.customAttributes)if(this.paper.customAttributes[l](c)&&r[l](c)&&i.is(this.paper.customAttributes[c],"function")){var u=this.paper.customAttributes[c].apply(this,[].concat(r[c]));for(var d in this.attrs[c]=r[c],u)u[l](d)&&(r[d]=u[d])}r.text&&"text"==this.type&&(this.node.string=r.text),It(this,r),r.gradient&&({circle:1,ellipse:1}[l](this.type)||"r"!=v(r.gradient).charAt())&&Pt(this,r.gradient),(!Xt[l](this.type)||this._.rt.deg)&&this.setBox(this.attrs)}return this},Nt.toFront=function(){return!this.removed&&this.Group.parentNode.appendChild(this.Group),this.paper.top!=this&&kt(this,this.paper),this},Nt.toBack=function(){return this.removed||this.Group.parentNode.firstChild!=this.Group&&(this.Group.parentNode.insertBefore(this.Group,this.Group.parentNode.firstChild),_t(this,this.paper)),this},Nt.insertAfter=function(t){return this.removed||(t.constructor==we&&(t=t[t.length-1]),t.Group.nextSibling?t.Group.parentNode.insertBefore(this.Group,t.Group.nextSibling):t.Group.parentNode.appendChild(this.Group),St(this,t,this.paper)),this},Nt.insertBefore=function(t){return this.removed||(t.constructor==we&&(t=t[0]),t.Group.parentNode.insertBefore(this.Group,t.Group),Mt(this,t,this.paper)),this},Nt.blur=function(t){var e=this.node.runtimeStyle,n=e.filter;n=n.replace(Ht,g),0!=+t?(this.attrs.blur=t,e.filter=n+m+B+".Blur(pixelradius="+(+t||1.5)+")",e.margin=i.format("-{0}px 0 0 -{0}px",z(+t||1.5))):(e.filter=n,e.margin=0,delete this.attrs.blur)},Dt=function(t,e,i,n){var o=Wt("group"),a=Wt("oval");a.style;o.style.cssText="position:absolute;left:0;top:0;width:"+t.width+"px;height:"+t.height+"px",o.coordsize=Yt,o.coordorigin=t.coordorigin,o.appendChild(a);var s=new Lt(a,o,t);return s.type="circle",It(s,{stroke:"#000",fill:"none"}),s.attrs.cx=e,s.attrs.cy=i,s.attrs.r=n,s.setBox({x:e-n,y:i-n,width:2*n,height:2*n}),t.canvas.appendChild(o),s},qt=function(t,e,i,n,o,a){var s=$t(e,i,n,o,a),r=t.path(s),l=r.attrs;return r.X=l.x=e,r.Y=l.y=i,r.W=l.width=n,r.H=l.height=o,l.r=a,l.path=s,r.type="rect",r},Ot=function(t,e,i,n,o){var a=Wt("group"),s=Wt("oval");s.style;a.style.cssText="position:absolute;left:0;top:0;width:"+t.width+"px;height:"+t.height+"px",a.coordsize=Yt,a.coordorigin=t.coordorigin,a.appendChild(s);var r=new Lt(s,a,t);return r.type="ellipse",It(r,{stroke:"#000"}),r.attrs.cx=e,r.attrs.cy=i,r.attrs.rx=n,r.attrs.ry=o,r.setBox({x:e-n,y:i-o,width:2*n,height:2*o}),t.canvas.appendChild(a),r},zt=function(t,e,i,n,o,a){var s=Wt("group"),r=Wt("image");s.style.cssText="position:absolute;left:0;top:0;width:"+t.width+"px;height:"+t.height+"px",s.coordsize=Yt,s.coordorigin=t.coordorigin,r.src=e,s.appendChild(r);var l=new Lt(r,s,t);return l.type="image",l.attrs.src=e,l.attrs.x=i,l.attrs.y=n,l.attrs.w=o,l.attrs.h=a,l.setBox({x:i,y:n,width:o,height:a}),t.canvas.appendChild(s),l},Ft=function(t,e,n,o){var a=Wt("group"),s=Wt("shape"),r=s.style,l=Wt("path"),c=(l.style,Wt("textpath"));a.style.cssText="position:absolute;left:0;top:0;width:"+t.width+"px;height:"+t.height+"px",a.coordsize=Yt,a.coordorigin=t.coordorigin,l.v=i.format("m{0},{1}l{2},{1}",z(10*e),z(10*n),z(10*e)+1),l.textpathok=!0,r.width=t.width,r.height=t.height,c.string=v(o),c.on=!0,s.appendChild(c),s.appendChild(l),a.appendChild(s);var u=new Lt(c,a,t);return u.shape=s,u.textpath=l,u.type="text",u.attrs.text=o,u.attrs.x=e,u.attrs.y=n,u.attrs.w=1,u.attrs.h=1,It(u,{font:j.font,stroke:"none",fill:"#000"}),u.setBox(),t.canvas.appendChild(a),u},Gt=function(t,e){var i=this.canvas.style;return t==+t&&(t+="px"),e==+e&&(e+="px"),i.width=t,i.height=e,i.clip="rect(0 "+t+" "+e+" 0)",this},c.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!c.namespaces.rvml&&c.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),Wt=function(t){return c.createElement("<rvml:"+t+' class="rvml">')}}catch(t){Wt=function(t){return c.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}Bt=function(){var t=bt[f](0,arguments),e=t.container,n=t.height,o=t.width,a=t.x,s=t.y;if(!e)throw new Error("VML container not found.");var r=new h,l=r.canvas=c.createElement("div"),u=l.style;return a=a||0,s=s||0,(o=o||512)==+o&&(o+="px"),(n=n||342)==+n&&(n+="px"),r.width=1e3,r.height=1e3,r.coordsize="10000 10000",r.coordorigin="0 0",r.span=c.createElement("span"),r.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",l.appendChild(r.span),u.cssText=i.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",o,n),1==e?(c.body.appendChild(l),u.left=a+"px",u.top=s+"px",u.position="absolute"):e.firstChild?e.insertBefore(l,e.firstChild):e.appendChild(l),xt.call(r,r,i.fn),r},n.clear=function(){this.canvas.innerHTML=g,this.span=c.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},n.remove=function(){for(var t in this.canvas.parentNode.removeChild(this.canvas),this)this[t]=Tt(t);return!0}}var Kt=navigator.userAgent.match(/Version\/(.*?)\s/);"Apple Computer, Inc."==navigator.vendor&&(Kt&&Kt[1]<4||"iP"==navigator.platform.slice(0,2))?n.safari=function(){var t=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});u.setTimeout((function(){t.remove()}))}:n.safari=function(){};for(var Jt=function(){this.returnValue=!1},Qt=function(){return this.originalEvent.preventDefault()},te=function(){this.cancelBubble=!0},ee=function(){return this.originalEvent.stopPropagation()},ie=c.addEventListener?function(t,e,i,n){var o=p&&b[e]?b[e]:e,a=function(o){if(p&&b[l](e))for(var a=0,s=o.targetTouches&&o.targetTouches.length;a<s;a++)if(o.targetTouches[a].target==t){var r=o;(o=o.targetTouches[a]).originalEvent=r,o.preventDefault=Qt,o.stopPropagation=ee;break}return i.call(n,o)};return t.addEventListener(o,a,!1),function(){return t.removeEventListener(o,a,!1),!0}}:c.attachEvent?function(t,e,i,n){var o=function(t){return(t=t||u.event).preventDefault=t.preventDefault||Jt,t.stopPropagation=t.stopPropagation||te,i.call(n,t)};return t.attachEvent("on"+e,o),function(){return t.detachEvent("on"+e,o),!0}}:void 0,ne=[],oe=function(t){for(var e,i=t.clientX,n=t.clientY,o=c.documentElement.scrollTop||c.body.scrollTop,a=c.documentElement.scrollLeft||c.body.scrollLeft,s=ne.length;s--;){if(e=ne[s],p){for(var r,l=t.touches.length;l--;)if((r=t.touches[l]).identifier==e.el._drag.id){i=r.clientX,n=r.clientY,(t.originalEvent?t.originalEvent:t).preventDefault();break}}else t.preventDefault();i+=a,n+=o,e.move&&e.move.call(e.move_scope||e.el,i-e.el._drag.x,n-e.el._drag.y,i,n,t)}},ae=function(t){i.unmousemove(oe).unmouseup(ae);for(var e,n=ne.length;n--;)(e=ne[n]).el._drag={},e.end&&e.end.call(e.end_scope||e.start_scope||e.move_scope||e.el,t);ne=[]},se=y[x];se--;)!function(t){i[t]=Lt[r][t]=function(e,n){return i.is(e,"function")&&(this.events=this.events||[],this.events.push({name:t,f:e,unbind:ie(this.shape||this.node||c,t,e,n||this)})),this},i["un"+t]=Lt[r]["un"+t]=function(e){for(var i=this.events,n=i[x];n--;)if(i[n].name==t&&i[n].f==e)return i[n].unbind(),i.splice(n,1),!i.length&&delete this.events,this;return this}}(y[se]);function re(){return this.x+m+this.y}Nt.hover=function(t,e,i,n){return this.mouseover(t,i).mouseout(e,n||i)},Nt.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)},Nt.drag=function(t,e,n,o,a,s){return this._drag={},this.mousedown((function(r){(r.originalEvent||r).preventDefault();var l=c.documentElement.scrollTop||c.body.scrollTop,u=c.documentElement.scrollLeft||c.body.scrollLeft;this._drag.x=r.clientX+u,this._drag.y=r.clientY+l,this._drag.id=r.identifier,e&&e.call(a||o||this,r.clientX+u,r.clientY+l,r),!ne.length&&i.mousemove(oe).mouseup(ae),ne.push({el:this,move:t,end:n,move_scope:o,start_scope:a,end_scope:s})})),this},Nt.undrag=function(t,e,n){for(var o=ne.length;o--;)ne[o].el==this&&ne[o].move==t&&ne[o].end==n&&ne.splice(o++,1);!ne.length&&i.unmousemove(oe).unmouseup(ae)},n.circle=function(t,e,i){return Dt(this,t||0,e||0,i||0)},n.rect=function(t,e,i,n,o){return qt(this,t||0,e||0,i||0,n||0,o||0)},n.ellipse=function(t,e,i,n){return Ot(this,t||0,e||0,i||0,n||0)},n.path=function(t){return t&&!i.is(t,P)&&!i.is(t[0],E)&&(t+=g),At(i.format[f](i,arguments),this)},n.image=function(t,e,i,n,o){return zt(this,t||"about:blank",e||0,i||0,n||0,o||0)},n.text=function(t,e,i){return Ft(this,t||0,e||0,v(i))},n.set=function(t){return arguments[x]>1&&(t=Array[r].splice.call(arguments,0,arguments[x])),new we(t)},n.setSize=Gt,n.top=n.bottom=null,n.raphael=i,Nt.resetScale=function(){if(this.removed)return this;this._.sx=1,this._.sy=1,this.attrs.scale="1 1"},Nt.scale=function(t,i,n,o){if(this.removed)return this;if(null==t&&null==i)return{x:this._.sx,y:this._.sy,toString:re};!+(i=i||t)&&(i=t);var a,s,r=this.attrs;if(0!=t){var l=this.getBBox(),c=l.x+l.width/2,u=l.y+l.height/2,d=M(t/this._.sx),h=M(i/this._.sy);n=+n||0==n?n:c,o=+o||0==o?o:u;var f=this._.sx>0,p=this._.sy>0,v=~~(t/M(t)),y=~~(i/M(i)),b=d*v,w=h*y,k=this.node.style,_=n+M(c-n)*b*(c>n==f?1:-1),S=o+M(u-o)*w*(u>o==p?1:-1),T=t*v>i*y?h:d;switch(this.type){case"rect":case"image":var C=r.width*d,A=r.height*h;this.attr({height:A,r:r.r*T,width:C,x:_-C/2,y:S-A/2});break;case"circle":case"ellipse":this.attr({rx:r.rx*d,ry:r.ry*h,r:r.r*T,cx:_,cy:S});break;case"text":this.attr({x:_,y:S});break;case"path":for(var P=ut(r.path),E=!0,I=f?b:d,R=p?w:h,L=0,N=P[x];L<N;L++){var D=P[L],q=W.call(D[0]);if("M"!=q||!E)if(E=!1,"A"==q)D[P[L][x]-2]*=I,D[P[L][x]-1]*=R,D[1]*=d,D[2]*=h,D[5]=+(v+y?!!+D[5]:!+D[5]);else if("H"==q)for(var O=1,z=D[x];O<z;O++)D[O]*=I;else if("V"==q)for(O=1,z=D[x];O<z;O++)D[O]*=R;else for(O=1,z=D[x];O<z;O++)D[O]*=O%2?I:R}var F=lt(P);a=_-F.x-F.width/2,s=S-F.y-F.height/2,P[0][1]+=a,P[0][2]+=s,this.attr({path:P})}!(this.type in{text:1,image:1})||1==v&&1==y?this.transformations?(this.transformations[2]=g,e(this.node,"transform",this.transformations.join(m)),r.fx=0,r.fy=0):(this.node.filterMatrix=g,k.filter=(this.node.filterMatrix||g)+(this.node.filterOpacity||g)):this.transformations?(this.transformations[2]="scale(".concat(v,",",y,")"),e(this.node,"transform",this.transformations.join(m)),a=-1==v?-r.x-(C||0):r.x,s=-1==y?-r.y-(A||0):r.y,this.attr({x:a,y:s}),r.fx=v-1,r.fy=y-1):(this.node.filterMatrix=B+".Matrix(M11=".concat(v,", M12=0, M21=0, M22=",y,", Dx=0, Dy=0, sizingmethod='auto expand', filtertype='bilinear')"),k.filter=(this.node.filterMatrix||g)+(this.node.filterOpacity||g)),r.scale=[t,i,n,o].join(m),this._.sx=t,this._.sy=i}return this},Nt.clone=function(){if(this.removed)return null;var t=this.attr();return delete t.scale,delete t.translation,this.paper[this.type]().attr(t)};var le={},ce=function(t,e,n,o,a,s,r,l,c){if(t===n&&e===o&&a===r&&s==l){var u=r-t,d=l-e,h=Math.sqrt(u*u+d*d);if(null==c)return h;var f=c/h;return{start:{x:t,y:e},m:{x:t,y:e},n:{x:r,y:l},end:{x:r,y:l},x:t+f*u,y:e+f*d,alpha:90-180*k.atan(u/d)/C}}var p,g,m=0,v=100,y=[t,e,n,o,a,s,r,l].join(),b=le[y];(!b&&(le[y]=b={data:[]}),b.timer&&clearTimeout(b.timer),b.timer=setTimeout((function(){delete le[y]}),2e3),null!=c)&&(v=10*~~ce(t,e,n,o,a,s,r,l));for(var x=0;x<v+1;x++){if(b.data[c]>x?g=b.data[x*v]:(g=i.findDotsAtSegment(t,e,n,o,a,s,r,l,x/v),b.data[x]=g),x&&(m+=T(T(p.x-g.x,2)+T(p.y-g.y,2),.5)),null!=c&&m>=c)return g;p=g}if(null==c)return m},ue=function(t,e){return function(n,o,a){for(var s,r,l,c,u,d="",h={},f=0,p=0,g=(n=vt(n)).length;p<g;p++){if("M"==(l=n[p])[0])s=+l[1],r=+l[2];else{if(f+(c=ce(s,r,l[1],l[2],l[3],l[4],l[5],l[6]))>o){if(e&&!h.start){if(d+=["C",(u=ce(s,r,l[1],l[2],l[3],l[4],l[5],l[6],o-f)).start.x,u.start.y,u.m.x,u.m.y,u.x,u.y],a)return d;h.start=d,d=["M",u.x,u.y+"C",u.n.x,u.n.y,u.end.x,u.end.y,l[5],l[6]].join(),f+=c,s=+l[5],r=+l[6];continue}if(!t&&!e)return{x:(u=ce(s,r,l[1],l[2],l[3],l[4],l[5],l[6],o-f)).x,y:u.y,alpha:u.alpha}}f+=c,s=+l[5],r=+l[6]}d+=l}return h.end=d,(u=t?f:e?h:i.findDotsAtSegment(s,r,l[1],l[2],l[3],l[4],l[5],l[6],1)).alpha&&(u={x:u.x,y:u.y,alpha:u.alpha}),u}},de=ue(1),he=ue(),fe=ue(0,1);Nt.getTotalLength=function(){if("path"==this.type)return this.node.getTotalLength?this.node.getTotalLength():de(this.attrs.path)},Nt.getPointAtLength=function(t){if("path"==this.type)return he(this.attrs.path,t)},Nt.getSubpath=function(t,e){if("path"==this.type){if(M(this.getTotalLength()-e)<"1e-6")return fe(this.attrs.path,t).end;var i=fe(this.attrs.path,e,1);return t?fe(i,t).end:i}},i.easing_formulas={linear:function(t){return t},"<":function(t){return T(t,3)},">":function(t){return T(t-1,3)+1},"<>":function(t){return(t*=2)<1?T(t,3)/2:(T(t-=2,3)+2)/2},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},elastic:function(t){if(0==t||1==t)return t;return T(2,-10*t)*k.sin(2*C*(t-.075)/.3)+1},bounce:function(t){var e=7.5625,i=2.75;return t<1/i?e*t*t:t<2/i?e*(t-=1.5/i)*t+.75:t<2.5/i?e*(t-=2.25/i)*t+.9375:e*(t-=2.625/i)*t+.984375}};var pe=[],ge=function(){for(var t=+new Date,e=0;e<pe[x];e++){var n=pe[e];if(!n.stop&&!n.el.removed){var o,a=t-n.start,s=n.ms,r=n.easing,c=n.from,u=n.diff,d=n.to,h=n.t,f=n.el,p={};if(a<s){var v=r(a/s);for(var y in c)if(c[l](y)){switch(U[y]){case"along":o=v*s*u[y],d.back&&(o=d.len-o);var b=he(d[y],o);f.translate(u.sx-u.x||0,u.sy-u.y||0),u.x=b.x,u.y=b.y,f.translate(b.x-u.sx,b.y-u.sy),d.rot&&f.rotate(u.r+b.alpha,b.x,b.y);break;case A:o=+c[y]+v*s*u[y];break;case"colour":o="rgb("+[ve(z(c[y].r+v*s*u[y].r)),ve(z(c[y].g+v*s*u[y].g)),ve(z(c[y].b+v*s*u[y].b))].join(",")+")";break;case"path":o=[];for(var w=0,k=c[y][x];w<k;w++){o[w]=[c[y][w][0]];for(var _=1,S=c[y][w][x];_<S;_++)o[w][_]=+c[y][w][_]+v*s*u[y][w][_];o[w]=o[w].join(m)}o=o.join(m);break;case"csv":switch(y){case"translation":var M=v*s*u[y][0]-h.x,T=v*s*u[y][1]-h.y;h.x+=M,h.y+=T,o=M+m+T;break;case"rotation":o=+c[y][0]+v*s*u[y][0],c[y][1]&&(o+=","+c[y][1]+","+c[y][2]);break;case"scale":o=[+c[y][0]+v*s*u[y][0],+c[y][1]+v*s*u[y][1],2 in d[y]?d[y][2]:g,3 in d[y]?d[y][3]:g].join(m);break;case"clip-rect":for(o=[],w=4;w--;)o[w]=+c[y][w]+v*s*u[y][w]}break;default:var C=[].concat(c[y]);for(o=[],w=f.paper.customAttributes[y].length;w--;)o[w]=+C[w]+v*s*u[y][w]}p[y]=o}f.attr(p),f._run&&f._run.call(f)}else d.along&&(b=he(d.along,d.len*!d.back),f.translate(u.sx-(u.x||0)+b.x-u.sx,u.sy-(u.y||0)+b.y-u.sy),d.rot&&f.rotate(u.r+b.alpha,b.x,b.y)),(h.x||h.y)&&f.translate(-h.x,-h.y),d.scale&&(d.scale+=g),f.attr(d),pe.splice(e--,1)}}i.svg&&f&&f.paper&&f.paper.safari(),pe[x]&&setTimeout(ge)},me=function(t,e,n,o,a){var s=n-o;e.timeouts.push(setTimeout((function(){i.is(a,"function")&&a.call(e),e.animate(t,s,t.easing)}),o))},ve=function(t){return _(S(t,255),0)},ye=function(t,e){if(null==t)return{x:this._.tx,y:this._.ty,toString:re};switch(this._.tx+=+t,this._.ty+=+e,this.type){case"circle":case"ellipse":this.attr({cx:+t+this.attrs.cx,cy:+e+this.attrs.cy});break;case"rect":case"image":case"text":this.attr({x:+t+this.attrs.x,y:+e+this.attrs.y});break;case"path":var i=ut(this.attrs.path);i[0][1]+=+t,i[0][2]+=+e,this.attr({path:i})}return this};function be(t){return function(e,n,o,a){var s={back:t};return i.is(o,"function")?a=o:s.rot=o,e&&e.constructor==Lt&&(e=e.attrs.path),e&&(s.along=e),this.animate(s,n,a)}}function xe(t,e,i,n,o,a){var s=3*e,r=3*(n-e)-s,l=1-s-r,c=3*i,u=3*(o-i)-c,d=1-c-u;function h(t){return((l*t+r)*t+s)*t}return function(t,e){var i=function(t,e){var i,n,o,a,c,u;for(o=t,u=0;u<8;u++){if(a=h(o)-t,M(a)<e)return o;if(M(c=(3*l*o+2*r)*o+s)<1e-6)break;o-=a/c}if(n=1,(o=t)<(i=0))return i;if(o>n)return n;for(;i<n;){if(a=h(o),M(a-t)<e)return o;t>a?i=o:n=o,o=(n-i)/2+i}return o}(t,e);return((d*i+u)*i+c)*i}(t,1/(200*a))}Nt.animateWith=function(t,e,i,n,o){for(var a=0,s=pe.length;a<s;a++)pe[a].el.id==t.id&&(e.start=pe[a].start);return this.animate(e,i,n,o)},Nt.animateAlong=be(),Nt.animateAlongBack=be(1),Nt.onAnimation=function(t){return this._run=t||0,this},Nt.animate=function(t,e,n,a){var s=this;if(s.timeouts=s.timeouts||[],!i.is(n,"function")&&n||(a=n||null),s.removed)return a&&a.call(s),s;var r={},c={},u=!1,d={};for(var h in t)if(t[l](h)&&(U[l](h)||s.paper.customAttributes[l](h)))switch(u=!0,r[h]=s.attr(h),null==r[h]&&(r[h]=j[h]),c[h]=t[h],U[h]){case"along":var f=de(t[h]),p=he(t[h],f*!!t.back),g=s.getBBox();d[h]=f/e,d.tx=g.x,d.ty=g.y,d.sx=p.x,d.sy=p.y,c.rot=t.rot,c.back=t.back,c.len=f,t.rot&&(d.r=F(s.rotate())||0);break;case A:d[h]=(c[h]-r[h])/e;break;case"colour":r[h]=i.getRGB(r[h]);var m=i.getRGB(c[h]);d[h]={r:(m.r-r[h].r)/e,g:(m.g-r[h].g)/e,b:(m.b-r[h].b)/e};break;case"path":var y=vt(r[h],c[h]);r[h]=y[0];var b=y[1];d[h]=[];for(var w=0,k=r[h][x];w<k;w++){d[h][w]=[0];for(var _=1,S=r[h][w][x];_<S;_++)d[h][w][_]=(b[w][_]-r[h][w][_])/e}break;case"csv":var M=v(t[h]).split(o),T=v(r[h]).split(o);switch(h){case"translation":r[h]=[0,0],d[h]=[M[0]/e,M[1]/e];break;case"rotation":r[h]=T[1]==M[1]&&T[2]==M[2]?T:[0,M[1],M[2]],d[h]=[(M[0]-r[h][0])/e,0,0];break;case"scale":t[h]=M,r[h]=v(r[h]).split(o),d[h]=[(M[0]-r[h][0])/e,(M[1]-r[h][1])/e,0,0];break;case"clip-rect":for(r[h]=v(r[h]).split(o),d[h]=[],w=4;w--;)d[h][w]=(M[w]-r[h][w])/e}c[h]=M;break;default:for(M=[].concat(t[h]),T=[].concat(r[h]),d[h]=[],w=s.paper.customAttributes[h][x];w--;)d[h][w]=((M[w]||0)-(T[w]||0))/e}if(u){var C=i.easing_formulas[n];if(!C)if((C=v(n).match(O))&&5==C[x]){var P=C;C=function(t){return xe(t,+P[1],+P[2],+P[3],+P[4],e)}}else C=function(t){return t};pe.push({start:t.start||+new Date,ms:e,easing:C,from:r,diff:d,to:c,el:s,t:{x:0,y:0}}),i.is(a,"function")&&(s._ac=setTimeout((function(){a.call(s)}),e)),1==pe[x]&&setTimeout(ge)}else{var E,I=[];for(var R in t)t[l](R)&&V.test(R)&&(h={value:t[R]},"from"==R&&(R=0),"to"==R&&(R=100),h.key=G(R,10),I.push(h));for(I.sort(Q),I[0].key&&I.unshift({key:0,value:s.attrs}),w=0,k=I[x];w<k;w++)me(I[w].value,s,e/100*I[w].key,e/100*(I[w-1]&&I[w-1].key||0),I[w-1]&&I[w-1].value.callback);(E=I[I[x]-1].value.callback)&&s.timeouts.push(setTimeout((function(){E.call(s)}),e))}return this},Nt.stop=function(){for(var t=0;t<pe.length;t++)pe[t].el.id==this.id&&pe.splice(t--,1);for(t=0,ii=this.timeouts&&this.timeouts.length;t<ii;t++)clearTimeout(this.timeouts[t]);return this.timeouts=[],clearTimeout(this._ac),delete this._ac,this},Nt.translate=function(t,e){return this.attr({translation:t+" "+e})},Nt.toString=function(){return"Raphaël’s object"},i.ae=pe;var we=function(t){if(this.items=[],this[x]=0,this.type="set",t)for(var e=0,i=t[x];e<i;e++)!t[e]||t[e].constructor!=Lt&&t[e].constructor!=we||(this[this.items[x]]=this.items[this.items[x]]=t[e],this[x]++)};for(var ke in we[r][L]=function(){for(var t,e,i=0,n=arguments[x];i<n;i++)!(t=arguments[i])||t.constructor!=Lt&&t.constructor!=we||(this[e=this.items[x]]=this.items[e]=t,this[x]++);return this},we[r].pop=function(){return delete this[this[x]--],this.items.pop()},Nt)Nt[l](ke)&&(we[r][ke]=function(t){return function(){for(var e=0,i=this.items[x];e<i;e++)this.items[e][t][f](this.items[e],arguments);return this}}(ke));we[r].attr=function(t,e){if(t&&i.is(t,E)&&i.is(t[0],"object"))for(var n=0,o=t[x];n<o;n++)this.items[n].attr(t[n]);else for(var a=0,s=this.items[x];a<s;a++)this.items[a].attr(t,e);return this},we[r].animate=function(t,e,n,o){(i.is(n,"function")||!n)&&(o=n||null);var a,s,r=this.items[x],l=r,c=this;for(o&&(s=function(){!--r&&o.call(c)}),n=i.is(n,P)?n:s,a=this.items[--l].animate(t,e,n,s);l--;)this.items[l]&&!this.items[l].removed&&this.items[l].animateWith(a,t,e,n,s);return this},we[r].insertAfter=function(t){for(var e=this.items[x];e--;)this.items[e].insertAfter(t);return this},we[r].getBBox=function(){for(var t=[],e=[],i=[],n=[],o=this.items[x];o--;){var a=this.items[o].getBBox();t[L](a.x),e[L](a.y),i[L](a.x+a.width),n[L](a.y+a.height)}return{x:t=S[f](0,t),y:e=S[f](0,e),width:_[f](0,i)-t,height:_[f](0,n)-e}},we[r].clone=function(t){t=new we;for(var e=0,i=this.items[x];e<i;e++)t[L](this.items[e].clone());return t},i.registerFont=function(t){if(!t.face)return t;this.fonts=this.fonts||{};var e={w:t.w,face:{},glyphs:{}},i=t.face["font-family"];for(var n in t.face)t.face[l](n)&&(e.face[n]=t.face[n]);if(this.fonts[i]?this.fonts[i][L](e):this.fonts[i]=[e],!t.svg)for(var o in e.face["units-per-em"]=G(t.face["units-per-em"],10),t.glyphs)if(t.glyphs[l](o)){var a=t.glyphs[o];if(e.glyphs[o]={w:a.w,k:{},d:a.d&&"M"+a.d[H](/[mlcxtrv]/g,(function(t){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[t]||"M"}))+"z"},a.k)for(var s in a.k)a[l](s)&&(e.glyphs[o].k[s]=a.k[s])}return t},n.getFont=function(t,e,n,o){if(o=o||"normal",n=n||"normal",e=+e||{normal:400,bold:700,lighter:300,bolder:800}[e]||400,i.fonts){var a,s=i.fonts[t];if(!s){var r=new RegExp("(^|\\s)"+t[H](/[^\w\d\s+!~.:_-]/g,g)+"(\\s|$)","i");for(var c in i.fonts)if(i.fonts[l](c)&&r.test(c)){s=i.fonts[c];break}}if(s)for(var u=0,d=s[x];u<d&&((a=s[u]).face["font-weight"]!=e||a.face["font-style"]!=n&&a.face["font-style"]||a.face["font-stretch"]!=o);u++);return a}},n.print=function(t,e,n,a,s,r,l){r=r||"middle",l=_(S(l||0,1),-1);var c,u=this.set(),d=v(n).split(g),h=0;if(i.is(a,n)&&(a=this.getFont(a)),a){c=(s||16)/a.face["units-per-em"];for(var f=a.face.bbox.split(o),p=+f[0],m=+f[1]+("baseline"==r?f[3]-f[1]+ +a.face.descent:(f[3]-f[1])/2),y=0,b=d[x];y<b;y++){var w=y&&a.glyphs[d[y-1]]||{},k=a.glyphs[d[y]];h+=y?(w.w||a.w)+(w.k&&w.k[d[y]]||0)+a.w*l:0,k&&k.d&&u[L](this.path(k.d).attr({fill:"#000",stroke:"none",translation:[h,0]}))}u.scale(c,c,p,m).translate(t-p,e-m)}return u},i.format=function(t,e){var n=i.is(e,E)?[0].concat(e):arguments;return t&&i.is(t,P)&&n[x]-1&&(t=t[H](s,(function(t,e){return null==n[++e]?g:n[e]}))),t||g},i.ninja=function(){return d.was?u.Raphael=d.is:Raphael=void 0,i},i.el=Nt,i.st=we[r],t.exports=i}()},o9am:function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("bRUr")),a=o.default.makeRule({name:"math-starts-with-space",severity:o.default.Severity.GUIDELINE,selector:"math, blockMath",pattern:/^\s*(~|\\qquad|\\quad|\\,|\\;|\\:|\\ |\\!|\\enspace|\\phantom)/,message:"Math starts with space:\nmath should not be indented. Do not begin math expressions with\nLaTeX space commands like ~, \\;, \\quad, or \\phantom"});e.default=a},oh4M:function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("bRUr")),a=o.default.makeRule({name:"image-widget",severity:o.default.Severity.WARNING,selector:"widget",lint:function(t,e,i,n,o){if("image"!==t.currentNode().widgetType)return;const a=o&&o.widgets&&o.widgets[t.currentNode().id];if(!a)return;const s=a.options.alt;return s?s.trim().length<8?"Images should have alt text:\nfor accessibility, all images should have descriptive alt text.\nThis image's alt text is only ".concat(s.trim().length," characters long."):a.options.caption&&a.options.caption.match(/[^\\]\$/)?"No math in image captions:\nDon't include math expressions in image captions.":void 0:'Images should have alt text:\nfor accessibility, all images should have a text description.\nAdd a description in the "Alt Text" box of the image widget.'}});e.default=a},p4D3:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=t=>t.replace(/\{align[*]?\}/g,"{aligned}").replace(/[\u00a0]/g," ")},p6EO:function(t,e,i){"use strict";var n=i("284h"),o=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o(i("pVnL")),s=n(i("q1tI")),r=o(i("oLyU")),l=o(i("2qRe")),c=o(i("d773")),u=o(i("p8fL")),d=o(i("vNny")),h=i("eAf/"),f=o(i("yfnS")),p=o(i("KmI1")),g=i("/4Qb"),m=o(i("APgo")),v=o(i("Xb39"));const y=u.default.assert,b=u.default.normalizeOptions,{processMath:x}=p.default,w=r.default.keys(l.default),k={coord:[0,0],pointSize:4,static:!1,cursor:"move",normalStyle:null,highlightStyle:null,shadow:!1,tooltip:!1},_={added:!1,hasMoved:!1,visibleShape:null,outOfBounds:!1,mouseTarget:null,touchOffset:null},S=[],M=function(t,e,i){r.default.extend(this,{graphie:t,movable:e,state:{id:r.default.uniqueId("movablePoint")}}),this.modify(r.default.extend({},_,i))};r.default.extend(M,l.default),u.default.createGettersFor(M,r.default.extend({},k,_)),u.default.addMovableHelperMethodsTo(M),r.default.extend(M.prototype,{cloneState:function(){return r.default.extend(this.movable.cloneState(),this.state)},_createDefaultState:function(){return r.default.extend({id:this.state.id},b(w,d.default.pluck(l.default,"standard")),k)},modify:function(t){this.update(r.default.extend(this._createDefaultState(),t))},_showTooltip:function(t){this._tooltip||(this._tooltip=document.createElement("div"),this._tooltip.className="tooltip-content",this.state.visibleShape.wrapper.className="tooltip",this.state.visibleShape.wrapper.appendChild(this._tooltip),S.push((()=>{this.state.added&&this._hideTooltip()}))),this._tooltip.firstChild&&this._tooltip.removeChild(this._tooltip.firstChild),this.state.visibleShape.wrapper.className="tooltip visible",this._tooltip.appendChild(document.createElement("span")),"string"==typeof t?x(this._tooltip.firstChild,t,!1):"function"==typeof t?t(this._tooltip.firstChild):this._tooltip.firstChild.appendChild(t)},_hideTooltip:function(){this._tooltip&&(this.state.visibleShape.wrapper.className="tooltip")},update:function(t){const e=this,i=e.graphie,n=r.default.extend(e.state,b(w,t));y(h.point.is(n.coord));const o=n.static?f.default.DYNAMIC:f.default.INTERACTIVE;if(n.normalStyle=r.default.extend({fill:o,stroke:o,scale:1},n.normalStyle),n.highlightStyle=r.default.extend({fill:f.default.INTERACTING,stroke:f.default.INTERACTING,scale:2},n.highlightStyle),!n.static&&!n.mouseTarget){const t=e.state.coord,o=i.unscaleVector(24),a={mouselayer:!0,padding:0};n.mouseTarget=new c.default(i,t,o,a),n.mouseTarget.attr({fill:"#000",opacity:0})}const l=()=>{this._showTooltip((t=>{(0,v.default)(s.createElement("span",{style:{fontSize:"2em"}},s.createElement(m.default,(0,a.default)({},g.iconTrash,{style:{position:"static",color:f.default.INTERACTIVE,marginLeft:9,marginRight:9}}))),t)}))};let u=n.coord;e.movable.modify(r.default.extend({},n,{add:null,modify:null,draw:e.draw.bind(e),remove:null,onMoveStart:t=>{if(n.hasMoved=!1,u=n.coord,null==n.touchOffset){const e=!("ontouchstart"in window);n.touchOffset=e?[0,0]:h.vector.subtract(u,t)}const i=n.visibleShape.wrapper;if(n.shadow){const t="none";i.style.webkitFilter=t,i.style.filter=t}if(n.showHairlines&&n.showHairlines(n.coord),S.forEach((t=>t())),n.tooltip&&(n.xOnlyTooltip?this._showTooltip("".concat(n.coord[0])):this._showTooltip("(".concat(n.coord[0],", ").concat(n.coord[1],")")),n.shadow)){const t=i.getElementsByClassName("tooltip-content")[0],e="drop-shadow(0px 0px 5px rgba(0, 0, 0, 0.5))";t.style.webkitFilter=e,t.style.filter=e}e._fireEvent(n.onMoveStart,u,u),e.draw()},onMove:(t,i)=>{const o=h.vector.add(t,n.touchOffset);e.moveTo(o),n.showHairlines&&(this.state.outOfBounds?n.hideHairlines():n.showHairlines(n.coord)),n.tooltip&&(this.state.outOfBounds||(n.xOnlyTooltip?this._showTooltip("".concat(n.coord[0])):this._showTooltip("(".concat(n.coord[0],", ").concat(n.coord[1],")")))),n.onRemove&&this.state.outOfBounds&&l()},onMoveEnd:()=>{e.isHovering()&&!n.hasMoved&&e._fireEvent(n.onClick,n.coord,u);const t=n.visibleShape.wrapper;if(n.shadow){const e="drop-shadow(0px 0px 5px rgba(0, 0, 0, 0.5))";t.style.webkitFilter=e,t.style.filter=e}if(n.hideHairlines&&n.hideHairlines(),n.hasMoved)this._hideTooltip();else if(n.onRemove){l();const e=t.getElementsByClassName("tooltip-content")[0];e.style.webkitFilter="none",e.style.filter="none",this._tooltip.firstChild.addEventListener("touchstart",(t=>{t.stopPropagation()}),!0),this._tooltip.firstChild.addEventListener("touchend",(t=>{n.onRemove(),t.stopPropagation()}),!0)}else n.tooltip&&this._hideTooltip();n.outOfBounds&&n.onRemove(),e._fireEvent(n.onMoveEnd,n.coord,u),n.hasMoved=!1,n.touchOffset=null,e.draw()}})),n.added||(e.prevState={},e._fireEvent(n.add,e.cloneState(),e.prevState),n.added=!0,e.prevState=e.cloneState()),e._fireEvent(n.modify,e.cloneState(),e.prevState)},remove:function(){this.state.added=!1,this._fireEvent(this.state.remove),this.movable&&this.movable.remove(),this.state.mouseTarget=null},constrain:function(){const t=this._applyConstraints(this.coord(),this.coord());return h.point.is(t)&&this.setCoord(t),!1!==t},setCoord:function(t){y(h.point.is(t,2)),this.state.coord=r.default.clone(t),this.draw()},setCoordConstrained:function(t){y(h.point.is(t,2));const e=this._applyConstraints(t,this.coord());!1!==e&&(this.state.coord=r.default.clone(e),this.draw())},moveTo:function(t){const e=this.state;this.state.outOfBounds=!1;const i=this._applyConstraints(t,e.coord,e.onRemove?{onOutOfBounds:()=>{this.state.outOfBounds=!0}}:{});if(!1!==i&&(h.point.is(i)&&(t=i),!h.point.equal(t,e.coord))){const i=e.coord;e.coord=t,e.hasMoved=!0,this._fireEvent(e.onMove,e.coord,i),this.draw()}},normalStyle:function(){return r.default.clone(this.state.normalStyle)},highlightStyle:function(){return r.default.clone(this.state.highlightStyle)},toBack:function(){this.movable.toBack(),this.state.visibleShape&&this.state.visibleShape.toBack()},toFront:function(){this.state.visibleShape&&this.state.visibleShape.toFront(),this.movable.toFront()},isHovering:function(){return this.movable.isHovering()},isDragging:function(){return this.movable.isDragging()},mouseTarget:function(){return this.movable.mouseTarget()},grab:function(t){this.state.touchOffset=[0,0],this.movable.grab(t),this.moveTo(t)}});var T=M;e.default=T},p8fL:function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("oLyU")),a=i("4PhQ"),s=n(i("QVWj"));let r=null;let l=null;const c={assert:function(t,e){if(!t)throw new a.KAError("Assertion Error"+(e?": "+e:""),a.Errors.Internal)},createGettersFor:function(t,e){o.default.each(o.default.keys(e),(function(e){void 0===t.prototype[e]&&(t.prototype[e]=function(){return this.state[e]})}))},addMovableHelperMethodsTo:function(t){o.default.each(s.default,(function(e,i){void 0===t.prototype[i]&&(t.prototype[i]=e)}))},arrayify:function(t){return null==t?[]:o.default.isArray(t)?o.default.filter(o.default.flatten(t),o.default.identity):[t]},normalizeOptions:function(t,e){const i=o.default.clone(e);return o.default.each(t,(function(t){const n=e[t];if(void 0!==n){const e=c.arrayify(n);i[t]=e}})),i},getPrefixedTransform:function(){return r=r||function(){const t=document.createElement("div");let e=null;return o.default.each(["transform","msTransform","MozTransform","WebkitTransform","OTransform"],(function(i){void 0!==t.style[i]&&(e=i)})),e}(),r},getCanUse3dTransform:function(){return null==l&&(l=function(){const t=document.createElement("div"),e=c.getPrefixedTransform();return t.style[e]="translateZ(0px)",!!t.style[e]}()),l}};var u=c;e.default=u},pffg:function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("bRUr")),a=o.default.makeRule({name:"heading-level-skip",severity:o.default.Severity.WARNING,selector:"heading ~ heading",lint:function(t,e,i,n){const o=i[1],a=i[0];if(o.level>a.level+1)return"Skipped heading level:\nthis heading is level ".concat(o.level," but\nthe previous heading was level ").concat(a.level)}});e.default=a},psyy:function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("bRUr")),a=o.default.makeRule({name:"math-align-extra-break",severity:o.default.Severity.WARNING,selector:"blockMath",pattern:/(\\{2,})\s*\\end{align}/,message:"Extra space at end of block:\nDon't end an align block with backslashes"});e.default=a},s5yK:function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("bRUr")),a=o.default.makeRule({name:"math-empty",severity:o.default.Severity.WARNING,selector:"math, blockMath",pattern:/^$/,message:"Empty math: don't use $$ in your markdown."});e.default=a},"s6+k":function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("05Nk")),a=n(i("vxRp")),s=n(i("lQji")),r=n(i("SIs7")),l=n(i("cCIU")),c=n(i("+Mvj")),u=n(i("pffg")),d=n(i("vV2V")),h=n(i("mU3w")),f=n(i("8N6p")),p=n(i("k+ms")),g=n(i("7QsT")),m=n(i("Rwhr")),v=n(i("Ue85")),y=n(i("psyy")),b=n(i("Ae9s")),x=n(i("s5yK")),w=n(i("RZS3")),k=n(i("t8BN")),_=n(i("iNas")),S=n(i("o9am")),M=n(i("jJak")),T=n(i("jPXw")),C=n(i("PYx6")),A=n(i("bxIm")),P=n(i("t823")),E=n(i("4CVt")),I=n(i("UCPD")),R=n(i("L7Hz")),L=n(i("EcLb")),N=n(i("oh4M")),D=[o.default,a.default,s.default,r.default,l.default,c.default,u.default,d.default,h.default,f.default,p.default,g.default,m.default,v.default,y.default,b.default,x.default,w.default,k.default,_.default,S.default,M.default,T.default,C.default,A.default,P.default,E.default,I.default,R.default,L.default,N.default];e.default=D},t823:function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("bRUr")),a=o.default.makeRule({name:"widget-in-table",severity:o.default.Severity.BULK_WARNING,selector:"table widget",message:"Widget in table:\ndo not put widgets inside of tables."});e.default=a},t8BN:function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("bRUr")),a=o.default.makeRule({name:"math-frac",severity:o.default.Severity.GUIDELINE,selector:"math, blockMath",pattern:/\\frac[ {]/,message:"Use \\dfrac instead of \\frac in your math expressions."});e.default=a},uN08:function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("oLyU")),a=n(i("yRmI")),s=n(i("T2HF")),r=n(i("p8fL")),l=n(i("vNny")),c=i("eAf/"),u=n(i("yfnS"));const d=r.default.assert,h=r.default.normalizeOptions,f=["add","draw","remove","onMoveStart","constraints","onMove","onMoveEnd"],p={points:null,static:!1,cursor:"move",normalStyle:null,highlightStyle:null,extendLine:!1,extendRay:!1},g={visibleShape:null,mouseTarget:null},m=function(t,e,i){d(null!=t),d(null!=i),o.default.extend(this,{graphie:t,movable:e,state:{id:o.default.uniqueId("movableLine")}}),this.modify(o.default.extend({},g,i))};o.default.extend(m,a.default),r.default.createGettersFor(m,o.default.extend({},p,g)),r.default.addMovableHelperMethodsTo(m),o.default.extend(m.prototype,{cloneState:function(){return o.default.extend(this.movable.cloneState(),{coords:this.coords()},this.state)},_createDefaultState:function(){return o.default.extend({id:this.state.id},h(f,l.default.pluck(a.default,"standard")),p)},modify:function(t){this.update(o.default.extend(this._createDefaultState(),t))},update:function(t){const e=this,i=this.graphie,n=e.state=o.default.extend(e.state,h(f,t)),a=n.static?u.default.DYNAMIC:u.default.INTERACTIVE;if(n.normalStyle=o.default.extend({stroke:a,"stroke-width":2},n.normalStyle),n.highlightStyle=o.default.extend({stroke:u.default.INTERACTING,"stroke-width":3},n.highlightStyle),!n.static&&!n.mouseTarget){const t={thickness:30,mouselayer:!0};n.mouseTarget=new s.default(i,this.coord(0),this.coord(1),t),n.mouseTarget.attr({fill:"#000",opacity:0})}n.static&&n.mouseTarget&&(n.mouseTarget.remove(),n.mouseTarget=null),e.movable.modify(o.default.extend({},n,{mouseTarget:n.mouseTarget,add:null,modify:null,draw:e.draw.bind(e),remove:null,onMoveStart:function(){e._initialRefCoord=e.coord(0),e._prevRefCoord=e._initialRefCoord,e._totalDelta=[0,0],e._fireEvent(e.state.onMoveStart,e.coord(0),e.coord(0))},onMove:function(t,i){const n=c.vector.subtract(t,i);e._totalDelta=c.vector.add(e._totalDelta,n);let o=c.vector.add(e._initialRefCoord,e._totalDelta);o=e._applyConstraints(o,e._prevRefCoord),!1!==o&&(e._fireEvent(e.state.onMove,o,e._prevRefCoord),e._prevRefCoord=o)},onMoveEnd:function(){e._fireEvent(e.state.onMoveEnd,e._prevRefCoord,e._initialRefCoord)}})),n.added||(e.prevState={},e._fireEvent(n.add,e.cloneState(),e.prevState),n.added=!0,o.default.invoke(n.points,"listen","onMove",n.id,e.draw.bind(e)),e.prevState=e.cloneState()),e._fireEvent(n.modify,e.cloneState(),e.prevState)},coords:function(){return o.default.invoke(this.state.points,"coord")},point:function(t){return this.state.points[t]},coord:function(t){return this.point(t).coord()},remove:function(){this.state.added=!1,this._fireEvent(this.state.remove),this.points&&o.default.invoke(this.points,"unlisten","onMove",this.state.id),this.movable&&this.movable.remove()},toBack:function(){this.movable.toBack(),this.state.visibleShape&&this.state.visibleShape.toBack()},toFront:function(){this.state.visibleShape&&this.state.visibleShape.toFront(),this.movable.toFront()},isHovering:function(){return this.movable.isHovering()},isDragging:function(){return this.movable.isDragging()},mouseTarget:function(){return this.movable.mouseTarget()}});var v=m;e.default=v},vL0m:function(t,e,i){"use strict";var n=i("284h"),o=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o(i("lSNA")),s=n(i("q1tI")),r=o(i("FvPh"));class l extends s.Component{constructor(t){super(t),(0,a.default)(this,"handleRender",(()=>{this.props.onRender(),this.setState({rendered:!0}),this.props.onRender(),this._hasRendered||(this._hasRendered=!0,this.props.setAssetStatus(this.props.children,!0))})),this.props.setAssetStatus(this.props.children,!1),this.state={rendered:!1},this._hasRendered=!1}render(){return s.createElement(r.default,{onRender:this.handleRender},this.props.children)}}e.default=l,(0,a.default)(l,"defaultProps",{onRender:()=>{},setAssetStatus:(t,e)=>{}})},vNny:function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("oLyU"));var a={pluck:function(t,e){return o.default.object(o.default.map(t,(function(t,i){return[i,t[e]]})))},mapObject:function(t,e){const i={};return o.default.each(o.default.keys(t),(function(n){i[n]=e(t[n],n)})),i},mapObjectFromArray:function(t,e){const i={};return o.default.each(t,(function(t){i[t]=e(t)})),i}};e.default=a},vV2V:function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("bRUr")),a=o.default.makeRule({name:"heading-sentence-case",severity:o.default.Severity.GUIDELINE,selector:"heading",pattern:/^\W*[a-z]/,message:"First letter is lowercase:\nthe first letter of a heading should be capitalized."});e.default=a},vxRp:function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("bRUr")),a=o.default.makeRule({name:"blockquoted-math",severity:o.default.Severity.WARNING,selector:"blockQuote math, blockQuote blockMath",message:"Blockquoted math:\nmath should not be indented."});e.default=a},xc4a:function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("oLyU")),a=n(i("p8fL")),s=n(i("vNny")),r=i("eAf/"),l=n(i("rGVj"));var c=o.default.extend({transform:function(t){const e=a.default.getPrefixedTransform();this.wrapper.style[e]=t},toFront:function(){const t=this.wrapper.parentNode;t&&t.appendChild(this.wrapper)},toBack:function(){const t=this.wrapper.parentNode;t.firstChild!==this.wrapper&&t.insertBefore(this.wrapper,t.firstChild)},remove:function(){this.visibleShape.remove(),(0,l.default)(this.wrapper).remove()},getMouseTarget:function(){return this.visibleShape[0]},moveTo:function(t){const e=r.vector.subtract(this.graphie.scalePoint(t),this.graphie.scalePoint(this.initialPoint)),i=a.default.getCanUse3dTransform(),n="translateX("+e[0]+"px) translateY("+e[1]+"px)"+(i?" translateZ(0)":"");this.transform(n)},hide:function(){this.visibleShape.hide()},show:function(){this.visibleShape.show()}},s.default.mapObjectFromArray(["attr","animate"],(function(t){return function(){var e;(e=this.visibleShape)[t].apply(e,arguments)}})));e.default=c},xrPN:function(t,e,i){"use strict";var n=i("284h"),o=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o(i("lSNA")),s=n(i("q1tI")),r=o(i("DuZ2")),l=o(i("vL0m")),c=o(i("9cGa"));const u=(t,e)=>{const i=t.querySelector(".katex-html")||t.querySelector(".MathJax"),n={width:i.offsetWidth,height:i.offsetHeight};return{width:Math.max(e.width,n.width),height:Math.max(e.height,n.height)}};class d extends s.Component{constructor(){super(),(0,a.default)(this,"handleRender",(()=>{this.setState({isRendered:!0})})),this.state={isRendered:!1}}render(){return s.createElement(r.default,{readyToMeasure:this.state.isRendered,computeChildBounds:u},s.createElement(c.default.Consumer,null,(({setAssetStatus:t})=>s.createElement(l.default,{onRender:this.handleRender,setAssetStatus:t},this.props.children))))}}e.default=d},yO7p:function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("lSNA")),a=n(i("bRUr")),s=i("oLyU");e.default=class{constructor(){(0,o.default)(this,"previousContent",null),(0,o.default)(this,"runLinter",(0,s.debounce)(((t,e)=>{"undefined"!=typeof KA&&t!==this.previousContent&&(this.previousContent=t,""!==t?fetch("/api/internal/translations/lint_poentry?preview=1&lang=en",{headers:{"Content-Type":"application/json"},body:JSON.stringify({msgid:t,msgstr:t,format:"perseus_text",filename:""}),method:"POST"}).then((t=>t.status>=400?{status:"error",message:"Could not run i18n linter."}:t.json()),(t=>({status:"error",message:"Could not run i18n linter."}))).then((t=>{"error"===t.status?e(["Some part of this text makes it untranslatable. The specific message from the i18n linter was: "+t.message.replace(/\n/g," ")]):e([])})):e([]))}),1e3))}applyLintErrors(t,e){if(e.length){const i=e.join("\n\n");t.unshift({content:{type:"text",content:""},insideTable:!1,message:i,ruleName:"legacy-error",severity:a.default.Severity.ERROR,type:"lint"})}}}},yPu2:function(t,e,i){"use strict";var n=i("284h"),o=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o(i("lSNA")),s=o(i("pVnL")),r=o(i("TSYQ")),l=n(i("q1tI")),c=o(i("rGVj")),u=o(i("oLyU")),d=n(i("4PhQ")),h=o(i("Q8Wn")),f=o(i("XDp7")),p=o(i("WCF/")),g=o(i("Giaf")),m=o(i("BGgb")),v=o(i("Tqif")),y=o(i("uBl0")),b=n(i("6mNK"));const{maybeUnescape:x}=v.default,w={},k=/^file\+graphie\:/,_=/\/([^/]+)$/;function S(t){return/\.(jpg|jpeg)$/i.test(t)}function M(){return f.default.useJIPT?"en-pt":h.default.kaLocale}function T(){return"en"!==M()}const C=[];f.default.useJIPT&&f.default.domInsertChecks.push((function(t,e,i){const n=(0,c.default)(e).data("jipt-label-index");if(e&&void 0!==n){const{label:e,useMath:i}=C[n];if(e.text(""),t=x(t),i){const i=/^\$(.*)\$$/,n=t.match(i),o=n?n[1]:"\\color{red}{\\text{Invalid Math}}";e.processMath(o,!0)}else e.processText(t);return!1}return t}));const A=/\/(?=[^/]+$)/;function P(t){return l.createElement("span",{style:{background:"url(/images/spinner.gif) no-repeat",backgroundPosition:"center",width:"100%",height:"100%",position:"absolute",minWidth:"20px"}})}class E extends l.Component{constructor(t){super(t),(0,a.default)(this,"onDataLoaded",((t,e)=>{if(this._isMounted&&t.labels&&t.range){const i=t.labels.reduce(((t,e)=>(0,s.default)({},t,{[e.content]:!1})),{});this.setState({dataLoaded:!0,labelDataIsLocalized:e,labelsRendered:i,labels:t.labels,range:t.range})}})),(0,a.default)(this,"onImageLoad",(()=>{this.sizeProvided()?this.setState({imageLoaded:!0}):y.default.getImageSize(this.props.src,((t,e)=>{this._isMounted&&this.setState({imageLoaded:!0,imageDimensions:[t,e]})}))})),(0,a.default)(this,"setupGraphie",((t,e)=>{u.default.map(e.labels,(e=>{if(f.default.useJIPT&&this.state.labelDataIsLocalized){const i=t.label(e.coordinates,e.content,e.alignment,!1);(0,c.default)(i).data("jipt-label-index",C.length),C.push({label:i,useMath:e.typesetAsMath})}else if(e.coordinates){const i=t.label(e.coordinates,e.content,e.alignment,e.typesetAsMath,{"font-size":100*this.props.scale+"%"}),n=i[0].style;let o=this._tryGetPixels(n.top),a=this._tryGetPixels(n.left);if(null===o||null===a){const t=i.position();o=t.top,a=t.left}const s=(this.props.height||0)*this.props.scale,r=(this.props.width||0)*this.props.scale;i.css({top:o/s*100+"%",left:a/r*100+"%"}),u.default.each(e.style,((t,e)=>{i.css(e,t)}))}this.setState({labelsRendered:(0,s.default)({},this.state.labelsRendered,{[e.content]:!0})})}))})),(0,a.default)(this,"_handleZoomClick",(t=>{((0,c.default)(t.target).width()<this.props.width||this.props.zoomToFullSizeOnMobile)&&b.ZoomService.handleZoomClick(t,this.props.zoomToFullSizeOnMobile),this.props.trackInteraction&&this.props.trackInteraction()})),(0,a.default)(this,"handleUpdate",(t=>{this.props.onUpdate(),y.default.isLabeledSVG(this.props.src)||"loaded"!==t||this.setState({imageLoaded:!0})})),t.setAssetStatus(t.src,!1),this._isMounted=!1,this.state={imageLoaded:!1,imageDimensions:null,dataLoaded:!1,labelDataIsLocalized:!1,labels:[],labelsRendered:{},range:[[0,0],[0,0]]}}componentDidMount(){this._isMounted=!0,y.default.isLabeledSVG(this.props.src)&&this.loadResources()}UNSAFE_componentWillReceiveProps(t){this.props.src!==t.src&&this.setState({imageLoaded:!1,dataLoaded:!1})}shouldComponentUpdate(t,e){if(!u.default.isEqual(this.props,t))return!0;return this.isLoadedInState(this.state)!==this.isLoadedInState(e)}componentDidUpdate(t,e){const i=this.isLoadedInState(e),n=this.isLoadedInState(this.state);y.default.isLabeledSVG(this.props.src)&&!n&&this.loadResources(),!i&&n&&this.props.setAssetStatus(this.props.src,!0)}componentWillUnmount(){this._isMounted=!1}isLoadedInState(t){return y.default.isLabeledSVG(this.props.src)?t.imageLoaded&&t.dataLoaded:t.imageLoaded}loadResources(){const t=function(t){const e=t.match(_);if(null==e)throw new d.KAError("not a valid URL",d.Errors.Internal);return e&&e[1]}(this.props.src);if(w[t])if(w[t].loaded){const{data:e,localized:i}=w[t];this.onDataLoaded(e,i)}else w[t].dataCallbacks.push(this.onDataLoaded);else{const e={loaded:!1,dataCallbacks:[this.onDataLoaded],data:null,localized:T()};w[t]=e;const i=(i,n)=>{!function(t,e){e=(0,s.default)({callbackName:"callback",success:c.default.noop,error:c.default.noop},e);const i=document.createElement("script");function n(){document.head&&document.head.removeChild(i),delete window[e.callbackName]}i.setAttribute("async",""),i.setAttribute("src",t),window[e.callbackName]=function(){n(),e.success.apply(null,arguments)},i.addEventListener("error",(function(){n(),e.error.apply(null,arguments)})),document.head&&document.head.appendChild(i)}(i,{callbackName:"svgData"+t,success:t=>{e.data=t,e.loaded=!0,u.default.each(e.dataCallbacks,(t=>{t(e.data,e.localized)}))},error:n})};T()?i(function(t){if(k.test(t))return y.default.getDataUrl(t);const[e,i]=y.default.getBaseUrl(t).split(A);return"".concat(e,"/").concat(M(),"/").concat(i,"-data.json")}(this.props.src),((t,n,o)=>{e.localized=!1,i(y.default.getDataUrl(this.props.src),((t,e,i)=>{d.default.error("Data load failed:",d.Errors.Internal,i,{dataUrl:y.default.getDataUrl(this.props.src)})}))})):i(y.default.getDataUrl(this.props.src),((t,e,i)=>{d.default.error("Data load failed:",d.Errors.Internal,i,{dataUrl:y.default.getDataUrl(this.props.src)})}))}}sizeProvided(){return null!=this.props.width&&null!=this.props.height}_tryGetPixels(t){return(t=t||"").endsWith("px")&&parseFloat(t)||null}render(){const t=this.props.src,e={alt:this.props.alt,title:this.props.title,tabIndex:"0"};this.props.alt&&this.props.overrideAriaHidden&&(e["aria-hidden"]=!0);const i=this.props.width&&this.props.width*this.props.scale,n=this.props.height&&this.props.height*this.props.scale,o={width:i,height:n},a=this.props.responsive&&!(!i||!n);let s;this.props.extraGraphie&&this.props.extraGraphie.labels.length&&(s=l.createElement(g.default,{box:this.props.extraGraphie.box,range:this.props.extraGraphie.range,options:{labels:this.props.extraGraphie.labels},responsive:!0,addMouseLayer:!1,setup:this.setupGraphie}));const c=void 0===this.props.preloader?P:this.props.preloader,h=c?()=>c(o):null;if(!y.default.isLabeledSVG(t)){if(a){const o=(0,r.default)({zoomable:(i||0)>700,"svg-image":!0});return e.onClick=this._handleZoomClick,l.createElement(p.default,{className:o,width:i,height:n,constrainHeight:this.props.constrainHeight,allowFullBleed:this.props.allowFullBleed&&S(t)},l.createElement(m.default,{src:t,imgProps:e,preloader:h,onUpdate:this.handleUpdate}),s)}return e.style=o,l.createElement(m.default,{src:t,preloader:h,imgProps:e,onUpdate:this.handleUpdate})}const f=y.default.getSvgUrl(t);let v;if(this.isLoadedInState(this.state)){let t;if(this.sizeProvided())t=[i,n];else{if(!this.state.imageDimensions)throw new d.KAError("image has no dimensions",d.Errors.Internal);t=[this.state.imageDimensions[0]*this.props.scale,this.state.imageDimensions[1]*this.props.scale]}const e=[40*this.props.scale,40*this.props.scale];v=l.createElement(g.default,{ref:"graphie",box:t,scale:e,range:this.state.range,options:u.default.pick(this.state,"labels"),responsive:a,addMouseLayer:!1,setup:this.setupGraphie})}return a?l.createElement(p.default,{className:"svg-image",width:i,height:n,constrainHeight:this.props.constrainHeight},l.createElement(m.default,{src:f,onLoad:this.onImageLoad,onUpdate:this.handleUpdate,preloader:h,imgProps:e}),v,s):(e.style=o,l.createElement("div",{className:"unresponsive-svg-image",style:o},l.createElement(m.default,{src:f,onLoad:this.onImageLoad,onUpdate:this.handleUpdate,preloader:h,imgProps:e}),v))}}(0,a.default)(E,"defaultProps",{constrainHeight:!1,onUpdate:()=>{},responsive:!0,src:"",scale:1,zoomToFullSizeOnMobile:!1,setAssetStatus:(t,e)=>{}});var I=E;e.default=I},yRmI:function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("oLyU")),a=n(i("T2HF")),s=n(i("f3EM")),r=i("eAf/"),l=n(i("XwLL"));const c=function(t){const e=t.graphie.scalePoint(t.coord(0)),i=t.graphie.scalePoint(t.coord(1));return r.vector.polarDegFromCart(r.vector.subtract(i,e))[1]},u=function(t,e,i){const n=t.range[0][1]-t.range[0][0]+(t.range[1][1]-t.range[1][0]),o=t.unscaleVector(r.vector.cartFromPolarDeg([1,i])),a=r.vector.scale(r.vector.normalize(o),n),s=r.vector.add(e,a),l=r.vector.polarDegFromCart(o)[1];return t.constrainToBoundsOnAngle(s,4,l*Math.PI/180)},d=function(t,e){const i=[.75,0];let n=[[-3,4],[-2.75,2.5],[0,.25],i,[0,-.25],[-2.75,-2.5],[-3,-4]];n=o.default.map(n,(function(t){const e=r.vector.subtract(t,i),n=r.vector.scale(e,1.4);return r.vector.add(i,n)}));const a=o.default.map(n,t.unscalePoint),c={center:t.unscalePoint(i),createPath:function(t){let e="M"+t[0][0]+" "+t[0][1];for(let i=1;i<t.length;i+=3)e+="C"+t[i][0]+" "+t[i][1]+" "+t[i+1][0]+" "+t[i+1][1]+" "+t[i+2][0]+" "+t[i+2][1];return e}},d=new s.default(t,a,c);return d.attr(o.default.extend({"stroke-linejoin":"round","stroke-linecap":"round","stroke-dasharray":""},e)),d.toCoordAtAngle=function(e,n){const o=t.scalePoint(u(t,e,n));d.transform("translateX("+(o[0]+1.4*i[0])+"px) translateY("+(o[1]+1.4*i[1])+"px) translateZ(0) rotate("+(360-l.default.bound(n))+"deg)")},d},h={draw:function(){this.draw()},pointsToFront:function(t){o.default.invoke(t.points,"toFront")}};h.standard=[h.draw,h.pointsToFront];const f={draw:function(){this.draw()}};f.standard=[f.draw];const p={basic:function(t){const e=this.graphie;let i=this.coord(0),n=this.coord(1);if(!this.state.visibleShape){const t={thickness:10};this.state.visibleShape=new a.default(e,i,n,t),this.state.visibleShape.attr(this.normalStyle()),this.state.visibleShape.toFront(),this.mouseTarget()&&this.mouseTarget().toFront()}const s=c(this);t.extendLine?(i=u(e,i,360-s),n=u(e,n,(540-s)%360)):t.extendRay&&(n=u(e,n,360-s));const r=[this.state.visibleShape];this.mouseTarget()&&r.push(this.mouseTarget()),o.default.each(r,(function(t){t.moveTo(i,n)}))},arrows:function(t){null==this._arrows&&(this._arrows=[],t.extendLine?(this._arrows.push(d(this.graphie,this.normalStyle())),this._arrows.push(d(this.graphie,this.normalStyle()))):t.extendRay&&this._arrows.push(d(this.graphie,this.normalStyle())));const e=c(this),i=[360-e,(540-e)%360];o.default.each(this._arrows,(function(t,e){t.toCoordAtAngle(this.coord(e),i[e])}),this)},highlight:function(t,e){t.isHovering&&!e.isHovering?t.visibleShape.animate(t.highlightStyle,50):!t.isHovering&&e.isHovering&&t.visibleShape.animate(t.normalStyle,50)}};p.standard=[p.basic,p.arrows,p.highlight];const g={basic:function(){this.state.visibleShape&&this.state.visibleShape.remove()},arrows:function(){null!=this._arrows&&o.default.invoke(this._arrows,"remove"),this._arrows=null}};g.standard=[g.basic,g.arrows];const m={fixed:function(){return function(){return!1}},snap:function(t){return function(e,i){if(null===t)return!0;let n=r.vector.subtract(e,i);return t=t||this.graphie.snap,n=r.point.roundTo(n,t),r.vector.add(i,n)}},bound:function(t,e,i){return void 0===i&&(i=void 0===t?10:0),function(n,a){const s=this.graphie,l=r.vector.subtract(n,a);t=t||s.range,void 0===e&&(e=s.snap);let c=s.unscalePoint([i,s.ypixels-i]),u=s.unscalePoint([s.xpixels-i,i]);e&&(c=r.point.ceilTo(c,e),u=r.point.floorTo(u,e));const d=o.default.map(this.coords(),(function(t,e){const i=r.vector.subtract(u,t);return[r.vector.subtract(c,t),i]})),h=o.default.reduce(d,(function(t,e){const i=e[0],n=e[1];return[Math.max(i[0],Math.min(n[0],t[0])),Math.max(i[1],Math.min(n[1],t[1]))]}),l);return r.vector.add(a,h)}},standard:null},v={updatePoints:function(t,e){const i=r.vector.subtract(t,e);o.default.each(this.state.points,(function(t){t.setCoord(r.vector.add(t.coord(),i))}))},standard:null};var y={add:h,modify:f,draw:p,remove:g,onMoveStart:{standard:null},constraints:m,onMove:v,onMoveEnd:{standard:null}};e.default=y},yfnS:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;const n={BLUE:"#6495ED",ORANGE:"#FFA500",PINK:"#FF00AF",GREEN:"#28AE7B",PURPLE:"#9D38BD",RED:"#DF0030",GRAY:"gray",BLACK:"black",LIGHT_BLUE:"#9AB8ED",LIGHT_ORANGE:"#EDD19B",LIGHT_PINK:"#ED9BD3",LIGHT_GREEN:"#9BEDCE",LIGHT_PURPLE:"#DA9BED",LIGHT_RED:"#ED9AAC",LIGHT_GRAY:"#ED9B9B",LIGHT_BLACK:"#ED9B9B",GRAY10:"#D6D6D6",GRAY20:"#CDCDCD",GRAY30:"#B3B3B3",GRAY40:"#9A9A9A",GRAY50:"#808080",GRAY60:"#666666",GRAY70:"#4D4D4D",GRAY80:"#333333",GRAY90:"#1A1A1A",BLUE_A:"#CCFAFF",BLUE_B:"#80F6FF",BLUE_C:"#63D9EA",BLUE_D:"#11ACCD",BLUE_E:"#0C7F99",TEAL_A:"#94FFF5",TEAL_B:"#26EDD5",TEAL_C:"#01D1C1",TEAL_D:"#01A995",TEAL_E:"#208170",GREEN_A:"#B6FFB0",GREEN_B:"#8AF281",GREEN_C:"#74CF70",GREEN_D:"#1FAB54",GREEN_E:"#0D923F",GOLD_A:"#FFD0A9",GOLD_B:"#FFBB71",GOLD_C:"#FF9C39",GOLD_D:"#E07D10",GOLD_E:"#A75A05",RED_A:"#FCA9A9",RED_B:"#FF8482",RED_C:"#F9685D",RED_D:"#E84D39",RED_E:"#BC2612",MAROON_A:"#FFBDE0",MAROON_B:"#FF92C6",MAROON_C:"#ED5FA6",MAROON_D:"#CA337C",MAROON_E:"#9E034E",PURPLE_A:"#DDD7FF",PURPLE_B:"#C6B9FC",PURPLE_C:"#AA87FF",PURPLE_D:"#7854AB",PURPLE_E:"#543B78",MINT_A:"#F5F9E8",MINT_B:"#EDF2DF",MINT_C:"#E0E5CC",GRAY_A:"#F6F7F7",GRAY_B:"#F0F1F2",GRAY_C:"#E3E5E6",GRAY_D:"#D6D8DA",GRAY_E:"#BABEC2",GRAY_F:"#888D93",GRAY_G:"#626569",GRAY_H:"#3B3E40",GRAY_I:"#21242C",KA_BLUE:"#314453",KA_GREEN:"#71B307",_BACKGROUND:"#FDFDFD"};n.INTERACTING=n.KA_GREEN,n.INTERACTIVE=n.KA_GREEN,n.DYNAMIC=n.BLUE;var o=n;e.default=o},zahm:function(t,e,i){"use strict";var n=i("TqRt");Object.defineProperty(e,"__esModule",{value:!0}),e.linterContextDefault=e.linterContextProps=void 0;var o=n(i("17x9"));const a=o.default.shape({contentType:o.default.string,highlightLint:o.default.bool,paths:o.default.arrayOf(o.default.string),stack:o.default.arrayOf(o.default.string)});e.linterContextProps=a;e.linterContextDefault={contentType:"",highlightLint:!1,paths:[],stack:[]}}}]);
//# sourceMappingURL=../../sourcemaps/en/6Uw9.4cc48a8eec15dd2e07a0.js.map